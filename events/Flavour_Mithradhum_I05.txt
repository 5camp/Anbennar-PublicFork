namespace = flavor_mithradhum

#Hired Mithril Company
country_event = {
	id = flavor_mithradhum.1
	title = flavor_mithradhum.1.t
	desc = flavor_mithradhum.1.d
	picture = MULTI_RACIAL_MERC_eventPicture
	
	trigger = {
		any_hired_mercenary_company = { template = merc_mithril_company }
		NOT = { has_global_flag = mithril_company_hired }
	}
	
	mean_time_to_happen = {
		days = 1
	}

	hidden = yes
	
	immediate = {
		hidden_effect = {
			set_global_flag = mithril_company_hired
			I05 = { id = flavor_mithradhum.2 }
		}
	}
	
	option = {
		name = flavor_mithradhum.1.a
	}
}

#Company Hired
country_event = {
	id = flavor_mithradhum.2
	title = flavor_mithradhum.2.t
	desc = flavor_mithradhum.2.d
	picture = MULTI_RACIAL_MERC_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = flavor_mithradhum.2.a
		custom_tooltip = mithradhum_hired
		discover_country = FROM
		FROM = { remove_fow = 12 }
		add_years_of_income = 0.1
		if = {
			limit = { has_global_flag = mithradhum_company_extend }
			add_prestige = 10
		}
		if = {
			limit = { 
				has_global_flag = mithradhum_company_far 
				has_dlc = "Mandate of Heaven"
			}
			add_splendor = 25
		}
		else_if = {
			limit = { 
				has_global_flag = mithradhum_company_far 
				NOT = { has_dlc = "Mandate of Heaven" }
			}
			increase_legitimacy_small_effect = yes
		}
		if = {
			limit = { 
				has_global_flag = mithradhum_company_halanna
				has_dlc = "Cradle of Civilization"
			}
			add_army_professionalism = 0.01
		}
		else_if = {
			limit = { 
				has_global_flag = mithradhum_company_halanna
				NOT = { has_dlc = "Cradle of Civilization" }
			}
			army_tradition = 5
		}
	}
}

#Disbanded Mithril Company
country_event = {
	id = flavor_mithradhum.3
	title = flavor_mithradhum.3.t
	desc = flavor_mithradhum.3.d
	picture = MULTI_RACIAL_MERC_eventPicture
	
	trigger = {
		NOT = { any_hired_mercenary_company = { template = merc_mithril_company } }
		has_global_flag = mithril_company_hired
	}
	
	mean_time_to_happen = {
		days = 1
	}

	hidden = yes
	
	immediate = {
		hidden_effect = {
			clr_global_flag = mithril_company_hired
			I05 = { id = flavor_mithradhum.4 }
		}
	}
	
	option = {
		name = flavor_mithradhum.3.a
	}
}

#Company No Longer Hired
country_event = {
	id = flavor_mithradhum.4
	title = flavor_mithradhum.4.t
	desc = flavor_mithradhum.4.d
	picture = MULTI_RACIAL_MERC_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = flavor_mithradhum.4.a
		custom_tooltip = mithradhum_hirable
	}
}

#Missions 100+ are from missions.
#Restore Amldhir as your Subject
country_event = {
	id = flavor_mithradhum.100
	title = flavor_mithradhum.100.t
	desc = flavor_mithradhum.100.d
	picture = CONQUEST_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = flavor_mithradhum.100.a
		amldihr_area = {
			cede_province = I01
			add_core = I01
		}
		4119 = {
			change_culture = kronium_dwarf
			change_religion = ROOT
		}
		add_historical_friend = I01
		create_subject = {
			subject_type = autonomous_vassal
			subject = I01
		}
		I01 = {
			add_historical_friend = ROOT
			add_adm_power = 200
			add_dip_power = 200
			add_mil_power = 200
			add_treasury = 100
			create_general = { tradition = 70 }
			add_stability = 2
			set_capital = 4119
		}
		add_mil_power = 50
	}
	
	option = {
		name = flavor_mithradhum.100.b
		amldihr_area = {
			cede_province = I01
			add_core = I01
		}
		4119 = {
			change_culture = kronium_dwarf
			change_religion = ROOT
		}
		add_historical_friend = I01
		create_subject = {
			subject_type = march
			subject = I01
		}
		I01 = {
			add_historical_friend = ROOT
			add_adm_power = 100
			add_dip_power = 100
			add_mil_power = 100
			add_treasury = 100
			create_general = { tradition = 40 }
			add_stability = 1
		}
		add_dip_power = 50
	}
	
	option = {
		name = flavor_mithradhum.100.c
		add_adm_power = 50
	}
}

#Reform to Ancestral Reverent
country_event = {
	id = flavor_mithradhum.101
	title = flavor_mithradhum.101.t
	desc = flavor_mithradhum.101.d
	picture = REFORM_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = flavor_mithradhum.101.a
		if = {
			limit = {
				NOT = { government = theocracy }
			}
			change_government_via_reform = theocracy
		}
		add_government_reform = mithradhum_reverent_reform
	}
}
	