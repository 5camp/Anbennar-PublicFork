namespace = adventurers_aelantir


# Sornic Sons
province_event = {
	id = adventurers_aelantir.1
	title = adventurers_aelantir.1.t
	picture = CARIBBEAN_PIRATE_FORT_eventPicture
	desc = adventurers_aelantir.1.d
	
	fire_only_once = yes
	
	trigger = {
		NOT = { exists = G90 }
		#has_global_flag = castellos_is_dead	#essentially Aelantir is discovered
		
		#You're the country or you own the relevant province
		OR = {
			tag = A09
			#owns = 85	#Sorncost
		}
		
		is_empty = yes
		has_empty_adjacent_province = yes
		
		OR = {
			continent = north_america
			continent = south_america
		}
	
		
	}
	
	immediate = {		
		#Spawn in...
		
		# #Any empty province
		# random_province = {
			# OR = {
				# continent = north_america
				# continent = south_america
			# }
			# is_empty = yes	#seems to be a province event only
			# save_event_target_as = adventurer_spawn_province
		# }
		
		# #Empty province
		
		# random_province = {
			# OR = {
				# continent = north_america
				# continent = south_america
			# }
			# is_empty = yes
			# has_port = yes
			# save_event_target_as = adventurer_spawn_province
		# }
		
		# #Check if Noruin is relatively empty
		# if = {
			# limit = {
				# any_country = {
					# NOT = { aelantiri_tech_group = yes } #aka a colonial nation
					# num_of_owned_provinces_with = {
						# value = 20
						# colonial_region = colonial_noruin
					# }
				# }
			# }
			# random_province = {
				# colonial_region = colonial_noruin
				# is_empty = yes
				# save_event_target_as = adventurer_spawn_province
			# }
		# }
		
		#adventurer_spawn_province = {
			create_colony = 1000
		#}
	}
	
	mean_time_to_happen = {
		months = 12
	}
	
	option = { # play as the pirates
		name = adventurers_aelantir.1.a
		# play as G90
		trigger = {
			ai = no
		}
		#adventurer_spawn_province = {
			cede_province = G90
		#}

		switch_tag = G90
	}
	option = { # pirates get released
		name = adventurers_aelantir.1.b
		# adventurer_spawn_province = {
			# cede_province = G90
		# }
		#adventurer_spawn_province = {
			create_colony = 1000
		#}

	}
}


country_event = {
	id = adventurers_aelantir.2
	title = adventurers_aelantir.2.t
	picture = CARIBBEAN_PIRATE_FORT_eventPicture
	desc = adventurers_aelantir.2.d
	
	fire_only_once = yes
	
	trigger = {
		NOT = { exists = G90 }
		#has_global_flag = castellos_is_dead	#essentially Aelantir is discovered
		
		#You're the country or you own the relevant province
		OR = {
			tag = A09
			owns = 85	#Sorncost
		}
		
		any_province = {
			OR = {
				continent = north_america
				continent = south_america
			}
			is_empty = yes
			has_empty_adjacent_province = yes
		}
	
		
	}
	
	immediate = {		
		#Spawn in...
		
		# #Any empty province
		random_province = {
			OR = {
				continent = north_america
				continent = south_america
			}
			is_empty = yes	#seems to be a province event only
			has_empty_adjacent_province = yes
			save_event_target_as = adventurer_spawn_province
		}
		
		#Empty province
		
		random_province = {
			OR = {
				continent = north_america
				continent = south_america
			}
			is_empty = yes
			has_empty_adjacent_province = yes
			has_port = yes
			save_event_target_as = adventurer_spawn_province
		}
		
		#Check if Noruin is relatively empty
		if = {
			limit = {
				any_country = {
					NOT = { aelantiri_tech_group = yes } #aka a colonial nation
					num_of_owned_provinces_with = {
						value = 20
						colonial_region = colonial_noruin
					}
				}
			}
			random_province = {
				colonial_region = colonial_noruin 
				OR = {
					continent = north_america
					continent = south_america
				}
				is_empty = yes
				has_empty_adjacent_province = yes
				save_event_target_as = adventurer_spawn_province
			}
		}
		
		event_target:adventurer_spawn_province = {
			create_colony = 1000
		}
	}
	
	mean_time_to_happen = {
		months = 12
	}
	
	option = { # play as the pirates
		name = adventurers_aelantir.2.a
		# play as G90
		# trigger = {
			# ai = no
		# }
		event_target:adventurer_spawn_province = {
			cede_province = G90
		}

		switch_tag = G90
	}
	option = { # pirates get released
		name = adventurers_aelantir.2.b
		# adventurer_spawn_province = {
			# cede_province = G90
		# }
		event_target:adventurer_spawn_province = {
			create_colony = 1000
		}
		
		event_target:adventurer_spawn_province = {
			cede_province = G90
		}

	}
}