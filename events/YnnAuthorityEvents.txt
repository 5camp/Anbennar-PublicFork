namescpace = ynn_authority_events

#good stuir balia
country_event = {
	id = ynn_authority_events.100
	title = ynn_authority_events.100.t
	desc = ynn_authority_events.100.d
	picture = 19_Monsoon_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			religion = ynn_river_worship
			religion = ynn_river_reformed
		}
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		has_dlc = "El Dorado"
	}

	option = {
		name = ynn_authority_events.100.a
		ai_chance = {
			factor = 1
		}
		add_country_modifier = {
			name = ynn_good_stuir_balia
			duration = 1460
		}
	}
}

#normal stuir balia
country_event = {
	id = ynn_authority_events.101
	title = ynn_authority_events.101.t
	desc = ynn_authority_events.101.d
	picture = 19_Monsoon_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			religion = ynn_river_worship
			religion = ynn_river_reformed
		}
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		has_dlc = "El Dorado"
	}

	option = {
		name = ynn_authority_events.101.a
		ai_chance = {
			factor = 1
		}
		add_country_modifier = {
			name = ynn_normal_stuir_balia
			duration = 1460
		}
	}
}

#bad stuir balia
country_event = {
	id = ynn_authority_events.102
	title = ynn_authority_events.102.t
	desc = ynn_authority_events.102.d
	picture = 20_Monsoon_eventPicture

	is_triggered_only = yes

	trigger = {
		OR = {
			religion = ynn_river_worship
			religion = ynn_river_reformed
		}
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		has_dlc = "El Dorado"
	}

	option = {
		name = ynn_authority_events.102.a
		ai_chance = {
			factor = 1
		}
		add_country_modifier = {
			name = ynn_bad_stuir_balia
			duration = 1460
		}
	}
}

#happy nobles gang :)
country_event = {
	id = ynn_authority_events.103
	title = ynn_authority_events.103.t 
	desc = ynn_authority_events.103.d 
	picture = KING_DOING_GREAT_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		is_subject = no
		is_religion_reformed = no
		has_dlc = "El Dorado"
		estate_loyalty = {
			estate = estate_nobles
			loyalty = 60
		}
		NOT = {
			has_ruler_flag = ynn_ruler_celebrated
		}
	}

	option = {	#pog
		name = ynn_authority_events.103.a
		ai_chance = {
			factor = 1
		}
		add_authority = 10
		set_ruler_flag = ynn_ruler_celebrated
	}
}

#angery nobles gang :(
country_event = {
	id = ynn_authority_events.104
	title = ynn_authority_events.104.t
	desc = ynn_authority_events.104.d
	picture = NOBLE_ESTATE_DEMANDS_eventPicture
	goto = ynn_angry_noble_province

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		is_religion_reformed = no
		is_subject = no
		has_dlc = "El Dorado"
		NOT = {
			estate_loyalty = {
				estate = estate_nobles
				loyalty = 60
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = ynn_angry_noble_province
			}
		}
	}

	option = {	#I suppose I have no choice
		name = ynn_authority_events.104.a
		ai_chance = {
			factor = 50
		}
		add_estate_influence_modifier = {
			estate = estate_nobles
			desc = ynn_nobles_appeased_desc
			influence = 10
			duration = 3650
		}
		add_authority = -5
	}

	option = {	#I will not be blackmailed
		name = ynn_authority_events.104.b
		ai_chance = {
			factor = 50
		}
		event_target:ynn_angry_noble_province = {
			spawn_rebels = {
				size = 2
				type = noble_rebels
			}
		}
	}
}

#happy merchant gang :)
country_event = {
	id = ynn_authority_events.105
	title = ynn_authority_events.105.t
	desc = ynn_authority_events.105.d
	picture = BURGHER_ESTATE_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		is_subject = no
		is_religion_reformed = no
		has_dlc = "El Dorado"
		estate_loyalty = {
			estate = estate_burghers
			loyalty = 60
		}
		calc_true_if = {
			all_states = {
				is_prosperous = yes
				unrest = -3
			}
			amount = 2
		}
	}

	option = {	#that's very kind of you
		name = ynn_authority_events.105.a
		ai_chance = {
			factor = 1
		}
		add_years_of_income = 0.3
		add_authority = 5
	}
}

#ancaps smh
country_event = {
	id = ynn_authority_events.106
	title = ynn_authority_events.106.t
	desc = ynn_authority_events.106.d
	picture = CITY_DEVELOPMENT_eventPicture
	goto = ynn_lawless_merchant_prov

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		is_subject = no
		is_religion_reformed = no
		has_dlc = "El Dorado"
		NOT = { 
			estate_loyalty = {
				estate = estate_burghers
				loyalty = 60
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = ynn_lawless_merchant_prov
			}
		}
	}

	option = {	#I will not be blackmailed
		name = ynn_authority_events.106.a
		ai_chance = {
			factor = 50
		}
		event_target:ynn_lawless_merchant_prov = {
			spawn_rebels = {
				size = 2
				type = particularist_rebels
			}
		}
		add_authority = 10
	}

	option = {	#I suppose this is a good thing
		name = ynn_authority_events.106.b
		ai_chance = {
			factor = 50
		}
		event_target:ynn_lawless_merchant_prov = {
			add_base_production = 2
		}
		add_authority = -5
	}
}

#Ruler negotiates subservience
country_event = {
	id = ynn_authority_events.160
	title = ynn_authority_events.160.t
	desc = ynn_authority_events.160.d
	picture = CONQUEST_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 1
		OR = {
			ruler_has_personality = charismatic_negotiator_personality
			ruler_has_personality = silver_tongue_personality
			ruler_has_personality = intricate_web_weaver_personality
			ruler_has_personality = fierce_negotiator_personality
		}
	}

	immediate = {
		hidden_effect = {
			random_list = {
				1 = {
					set_country_flag = iosahar_subservient
					random_subject_country = {
						save_event_target_as = subservient_iosahar
					}
				}
				1 = {
					set_country_flag = iosahar_subservience
				}
			}
		}
	}

	option = {	#Your loyalty is appreciated
		trigger = {
			has_country_flag = iosahar_subservient
		}
		name = ynn_authority_events.160.a
		ai_chance = {
			factor = 1
		}
		event_target:subservient_iosahar = {
			add_liberty_desire = -15
		}
		add_authority = 5
		clr_country_flag = iosahar_subservient
	}

	option = {	#All your loyalties are appreciated
		trigger = {
			has_country_flag = iosahar_subservience
		}
		ai_chance = {
			factor = 1
		}
		every_subject_country = {
			add_liberty_desire = -5
		}
		add_authority = 2
		clr_country_flag = iosahar_subservience
	}
}

#Ruler offends Iosahar
country_event = {
	id = ynn_authority_events.161
	title = ynn_authority_events.161.t
	desc = ynn_authority_events.161.d
	picture = ACCUSATION_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 1
		OR = {
			ruler_has_personality = babbling_buffoon_personality
			ruler_has_personality = drunkard_personality
			ruler_has_personality = malevolent_personality
			ruler_has_personality = cruel_personality
		}
	}

	immediate = {
		random_subject_country = {
			save_event_target_as = iosahar_insulted
		}
	}

	option = {	#I'm Sorry
		name = ynn_events.161.a
		ai_chance = {
			factor = 50
		}
		event_target:iosahar_insulted = {
			add_liberty_desire = 5
		}
		add_authority = -2
	}

	option = {	#lmao go fuck yourself
		name = ynn_events.161.b
		ai_chance = {
			factor = 50
		}
		event_target:iosahar_insulted = {
			add_liberty_desire = 10
		}
		every_subject_country = {
			limit = {
				NOT = {
					tag = event_target:iosahar_insulted
				}
			}
			add_liberty_desire = 5
		}
		add_authority = 2
	}
}

#Host canoe race
country_event = {
	id = ynn_authority_events.162
	title = ynn_authority_events.162.t
	desc = ynn_authority_events.162.desc
	picture = MALAYAN_PORT_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 3
	}

	option = {
		name = ynn_authority_events.162.a
		add_treasury = -100
		hidden_effect = {
			random_list = {
				50 = {
					country_event = {
						id = ynn_authority_events.163
						days = 30
						random = 20
					}
				}
				25 = {
					country_event = {
						id = ynn_authority_events.164
						days = 30
						random = 20
					}
				}
				15 = {
					country_event = {
						id = ynn_authority_events.165
						days = 30
						random = 20
					}
				}
				10 = {
					country_event = {
						id = ynn_authority_events.166
						days = 30
						random = 20
					}
				}
			}
		}
	}

	option = {
		name = ynn_authority_events.162.b
		add_treasury = -75
		hidden_effect = {
			random_list = {
				25 = {
					country_event = {
						id = ynn_authority_events.163
						days = 30
						random = 20
					}
				}
				50 = {
					country_event = {
						id = ynn_authority_events.164
						days = 30
						random = 20
					}
				}
				15 = {
					country_event = {
						id = ynn_authority_events.165
						days = 30
						random = 20
					}
				}
				10 = {
					country_event = {
						id = ynn_authority_events.166
						days = 30
						random = 20
					}
				}
			}
		}
	}

	option = {
		name = ynn_authority_events.162.c
		add_treasury = -50
		hidden_effect = {
			random_list = {
				15 = {
					country_event = {
						id = ynn_authority_events.163
						days = 30
						random = 20
					}
				}
				35 = {
					country_event = {
						id = ynn_authority_events.164
						days = 30
						random = 20
					}
				}
				35 = {
					country_event = {
						id = ynn_authority_events.165
						days = 30
						random = 20
					}
				}
				15 = {
					country_event = {
						id = ynn_authority_events.166
						days = 30
						random = 20
					}
				}
			}
		}
	}

	option = {
		name = ynn_authority_events.162.d
		add_treasury = -25
		hidden_effect = {
			random_list = {
				10 = {
					country_event = {
						id = ynn_authority_events.163
						days = 30
						random = 20
					}
				}
				15 = {
					country_event = {
						id = ynn_authority_events.164
						days = 30
						random = 20
					}
				}
				25 = {
					country_event = {
						id = ynn_authority_events.165
						days = 30
						random = 20
					}
				}
				50 = {
					country_event = {
						id = ynn_authority_events.166
						days = 30
						random = 20
					}
				}
			}
		}
	}

	option = {
		name = ynn_authority_events.162.e
		add_prestige = -5
	}
}

#Amazing canoe race
country_event = {
	id = ynn_authority_events.163
	title = ynn_authority_events.163.t
	desc = ynn_authority_events.163.d
	picture = MALAYAN_PORT_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 3
	}

	option = {
		name = ynn_authority_events.163.a
		every_subject_country = {
			add_opinion = {
				who = ROOT
				modifier = ynn_canoe_race_good
			}
		}
		add_prestige = 10
		add_authority = 3
	}
}

#Ok canoe race
country_event = {
	id = ynn_authority_events.164
	title = ynn_authority_events.164.t
	desc = ynn_authority_events.164.d
	picture = MALAYAN_PORT_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 3
	}

	option = {
		name = ynn_authority_events.164.a
		add_prestige = 5
		add_authority = 1
	}
}

#Competitors start fighting
country_event = {
	id = ynn_authority_events.165
	title = ynn_authority_events.165.t
	desc = ynn_authority_events.165.d
	picture = SOLDIER_INFIGHTING_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 3
	}

	immediate = {
		hidden_effect = {
			random_subject_country = {
				save_event_target_as = iosahar_rowdy_1
			}
			random_subject_country = {
				save_event_target_as = iosahar_rowdy_2
			}
		}
	}

	option = {
		name = ynn_authority_events.165.a
		event_target:iosahar_rowdy_1 = {
			add_opinion = {
				who = event_target:iosahar_rowdy_2
				modifier = ynn_canoe_brawl
			}
		}
		event_target:iosahar_rowdy_2 = {
			add_opinion = {
				who = event_target:iosahar_rowdy_1
				modifier = ynn_canoe_brawl
			}
		}
		add_opinion = {
			who = event_target:iosahar_rowdy_1
			modifier = ynn_canoe_brawl
		}
		add_opinion = {
			who = event_target:iosahar_rowdy_2
			modifier = ynn_canoe_brawl
		}
		add_authority = -3
	}

	option = {
		trigger = {
			OR = {
				ruler_has_personality = cruel_personality
				ruler_has_personality = malevolent_personality
			}
		}
		event_target:iosahar_rowdy_1 = {
			add_opinion = {
				who = event_target:iosahar_rowdy_2
				modifier = ynn_canoe_brawl
			}
		}
		event_target:iosahar_rowdy_2 = {
			add_opinion = {
				who = event_target:iosahar_rowdy_1
				modifier = ynn_canoe_brawl
			}
		}
		add_authority = 2
	}
}

#Atrocious canoe race
country_event = {
	id = ynn_authority_events.166
	title = ynn_authority_events.166.t
	desc = ynn_authority_events.166.d
	picture = FLAGSHIP_SUNK_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 3
	}

	option = {
		name = ynn_authority_events.166.a
		every_subject_country = {
			add_opinion = {
				who = ROOT
				modifier = ynn_canoe_race_bad
			}
		}
		add_prestige = -10
		add_authority = -5
	}
}