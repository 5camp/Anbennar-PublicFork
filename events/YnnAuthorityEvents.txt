namescpace = ynn_authority_events


#Ruler negotiates subservience
country_event = {
	id = ynn_authority_events.160
	title = ynn_authority_events.160.t
	desc = ynn_authority_events.160.d
	picture = CONQUEST_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 1
		OR = {
			ruler_has_personality = charismatic_negotiator_personality
			ruler_has_personality = silver_tongue_personality
			ruler_has_personality = intricate_web_weaver_personality
			ruler_has_personality = fierce_negotiator_personality
		}
	}

	immediate = {
		hidden_effect = {
			random_list = {
				1 = {
					set_country_flag = iosahar_subservient
					random_subject_country = {
						save_event_target_as = subservient_iosahar
					}
				}
				1 = {
					set_country_flag = iosahar_subservience
				}
			}
		}
	}

	option = {	#Your loyalty is appreciated
		trigger = {
			has_country_flag = iosahar_subservient
		}
		name = ynn_authority_events.160.a
		ai_chance = {
			factor = 1
		}
		event_target:subservient_iosahar = {
			add_liberty_desire = -15
		}
		add_authority = 5
		clr_country_flag = iosahar_subservient
	}

	option = {	#All your loyalties are appreciated
		trigger = {
			has_country_flag = iosahar_subservience
		}
		ai_chance = {
			factor = 1
		}
		every_subject_country = {
			add_liberty_desire = -5
		}
		add_authority = 2
		clr_country_flag = iosahar_subservience
	}
}

#Ruler offends Iosahar
country_event = {
	id = ynn_authority_events.161
	title = ynn_authority_events.161.t
	desc = ynn_authority_events.161.d
	picture = ACCUSATION_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 1
		OR = {
			ruler_has_personality = babbling_buffoon_personality
			ruler_has_personality = drunkard_personality
			ruler_has_personality = malevolent_personality
			ruler_has_personality = cruel_personality
		}
	}

	immediate = {
		random_subject_country = {
			save_event_target_as = iosahar_insulted
		}
	}

	option = {	#I'm Sorry
		name = ynn_events.161.a
		ai_chance = {
			factor = 50
		}
		event_target:iosahar_insulted = {
			add_liberty_desire = 5
		}
		add_authority = -2
	}

	option = {	#lmao go fuck yourself
		name = ynn_events.161.b
		ai_chance = {
			factor = 50
		}
		event_target:iosahar_insulted = {
			add_liberty_desire = 10
		}
		every_subject_country = {
			limit = {
				NOT = {
					tag = event_target:iosahar_insulted
				}
			}
			add_liberty_desire = 5
		}
		add_authority = 2
	}
}

#Host canoe race
country_event = {
	id = ynn_authority_events.162
	title = ynn_authority_events.162.t
	desc = ynn_authority_events.162.desc
	picture = MALAYAN_PORT_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ynn_river_worship
		has_dlc = "El Dorado"
		is_religion_reformed = no
		ynnic_iosahar = 3
	}

	option = {
		name = ynn_authority_events.162.a
		add_treasury = -100
		hidden_effect = {
			random_list = {
				50 = {
					country_event = {
						id = ynn_authority_events.163
					}
				}
				25 = {
					country_event = {
						id = ynn_authority_events.164
					}
				}
				15 = {
					country_event = {
						id = ynn_authority_events.165
					}
				}
				10 = {
					country_event = {
						id = ynn_authority_events.166
					}
				}
			}
		}
	}

	option = {
		name = ynn_authority_events.162.b
		add_treasury = -75
		hidden_effect = {
			random_list = {
				25 = {
					country_event = {
						id = ynn_authority_events.163
					}
				}
				50 = {
					country_event = {
						id = ynn_authority_events.164
					}
				}
				15 = {
					country_event = {
						id = ynn_authority_events.165
					}
				}
				10 = {
					country_event = {
						id = ynn_authority_events.166
					}
				}
			}
		}
	}

	option = {
		name = ynn_authority_events.162.c
		add_treasury = -50
		hidden_effect = {
			random_list = {
				15 = {
					country_event = {
						id = ynn_authority_events.163
					}
				}
				35 = {
					country_event = {
						id = ynn_authority_events.164
					}
				}
				35 = {
					country_event = {
						id = ynn_authority_events.165
					}
				}
				15 = {
					country_event = {
						id = ynn_authority_events.166
					}
				}
			}
		}
	}

	option = {
		name = ynn_authority_events.162.d
		add_treasury = -25
		hidden_effect = {
			random_list = {
				10 = {
					country_event = {
						id = ynn_authority_events.163
					}
				}
				15 = {
					country_event = {
						id = ynn_authority_events.164
					}
				}
				25 = {
					country_event = {
						id = ynn_authority_events.165
					}
				}
				50 = {
					country_event = {
						id = ynn_authority_events.166
					}
				}
			}
		}
	}

	option = {
		name = ynn_authority_events.162.e
		add_prestige = -5
	}
}

#Amazing canoe race
c