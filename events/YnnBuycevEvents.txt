
namespace = ynn_buycev_events

province_event = {	#Buycev beaten back
	id = ynn_buycev_events.1
	title = ynn_buycev_events.1.t 
	desc = ynn_buycev_events.1.d 
	picture = BATTLE_eventPicture
	goto = ROOT 

	is_triggered_only = yes 

	trigger = { 
		owner = {
			capital_scope = {
				OR = {
					superregion = ynn_superregion
					region = forest_of_the_cursed_ones_region
				}
			}
		}
		any_empty_neighbor_province = {
			OR = {
				culture = veykodan
				culture = old_rzentur
				culture = epednar
				culture = cursed_ones
			}
		}
		has_influencing_fort = yes
	}

	option = {	#we take those 
		name = ynn_buycev_events.1.a
		ai_chance = {
			factor = 100
		}
		owner = {
			add_prestige = 10
		}
	}
}

#Buycev offer opportunity
country_event = {
	id = ynn_buycev_events.2
	title = ynn_buycev_events.2.t
	desc = ynn_buycev_events.2.d
	picture = SPY_eventPicture
	goto = ynn_rival_buycev_raid_target_province

	is_triggered_only = yes

	trigger = {
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		any_owned_province = {
			any_empty_neighbor_province = {
				OR = {
					culture = veykodan
					culture = old_rzentur
					culture = epednar
				}
			}
		}
		any_rival_country = {
			any_owned_province = {
				any_empty_neighbor_province = {
					OR = {
						culture = veykodan
						culture = old_rzentur
						culture = epednar
					}
				}
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_rival_country = {
				limit = {
					any_owned_province = {
						any_empty_neighbor_province = {
							OR = {
								culture = veykodan
								culture = old_rzentur
								culture = epednar
							}
						}
					}
				}
				save_event_target_as = ynn_rival_buycev_raid_target
				random_owned_province = {
					limit = {
						any_empty_neighbor_province = {
							OR = {
								culture = veykodan
								culture = old_rzentur
								culture = epednar
							}
						}
					}
					save_event_target_as = ynn_rival_buycev_raid_target_province
				}
			}
		}
	}

	option = {	#We do a bit of trolling
		name = ynn_buycev_events.2.a
		ai_chance = {
			factor = 75
		}
		add_dip_power = -50
		add_treasury = 100
		custom_tooltip = ynn_assisting_raiders_tooltip
		hidden_effect = {
			if = {
				limit = {
					event_target:ynn_rival_buycev_raid_target_province = {
						any_empty_neighbor_province = {
							culture = veykodan
						}
					}
				}
				event_target:ynn_rival_buycev_raid_target = {
					country_event = {
						id = ynn_buycev_events.50
						days = 5
						random = 7
					}
				}
			}
			else_if = {
				limit = {
					event_target:ynn_rival_buycev_raid_target_province = {
						any_empty_neighbor_province = {
							culture = epednar
						}
					}
				}
				event_target:ynn_rival_buycev_raid_target = {
					country_event = {
						id = ynn_buycev_events.100
						days = 5
						random = 7
					}
				}
			}
			else_if = {
				limit = {
					event_target:ynn_rival_buycev_raid_target_province = {
						any_empty_neighbor_province = {
							culture = old_rzentur
						}
					}
				}
				event_target:ynn_rival_buycev_raid_target = {
					country_event = {
						id = ynn_buycev_events.125
						days = 5
						random = 7
					}
				}
			}
			if = {
				limit = {
					event_target:ynn_rival_buycev_raid_target = {
						has_spy_network_in = {
							who = ROOT
							value = 50
						}
					}
				}
				random = {
					chance = 50
					event_target:ynn_rival_buycev_raid_target = {
						country_event = {
							id = ynn_buycev_events.3
							days = 25
							random = 10
						}
					}
				}
			}
			else = {
				random = {
					chance = 33
					event_target:ynn_rival_buycev_raid_target = {
						country_event = {
							id = ynn_buycev_events.3
							days = 25
							random = 10
						}
					}
				}
			}
		}
	}

	option = {	#We will not do this
		ai_chance = {
			factor = 25
		}
		name = ynn_buycev_events.b
		add_prestige = 5
	}
}

#Rival in league with raiders
country_event = {
	id = ynn_buycev_events.3
	title = ynn_buycev_events.3.t
	desc = ynn_buycev_events.3.d
	picture = KINGS_CHOICE_eventPicture

	is_triggered_only = yes

	option = {
		name = ynn_buycev_events.3.a
		ai_chance = {
			factor = 1
		}
		add_opinion = {
			who = FROM
			modifier = ynn_rival_aiding_raiders
		}
		FROM = {
			country_event = {
				id = ynn_buycev_events.4
				days = 2
			}
		}
	}
}

country_event = {
	id = ynn_buycev_events.4
	title = ynn_buycev_events.4.t
	desc = ynn_buycev_events.4.d
	picture = ACCUSATION_eventPicture

	is_triggered_only = yes

	option = {
		name = ynn_buycev_events.4.a
		ai_chance = {
			factor = 1
		}
		add_country_modifier = {
			name = ynn_lord_helping_raiders
			duration = 3650
		}
	}
}

#Veykodan Rivalries
country_event = {
	id = ynn_buycev_events.52
	title = ynn_buycev_events.52.t
	desc = ynn_buycev_events.52.d
	picture = EP_MAORI_HAKA_eventPicture

	is_triggered_only = yes

	trigger = {
		any_owned_province = {
			any_empty_neighbor_province = {
				culture = veykodan
			}
		}
	}

	option = {
		name = ynn_buycev_events.52.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 90
				has_country_modifier = yrw_1a
			}
		}
		add_treasury = -50
		add_mil_power = -20
		#ADD REDUCED CHANCE OF RAIDS EFFECT HERE
	}

	option = {
		name = ynn_buycev_events.52.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 90
				has_country_modifier = yrw_1b
			}
		}
		if = {
			limit = {
				has_country_modifier = yrw_1b
			}
			add_prestige = 5
		}
		else = {
			add_prestige = -5
		}
	}
}

country_event = {	#Waylaid
	id = ynn_buycev_events.53
	title = ynn_buycev_events.53.t 
	desc = ynn_buycev_events.53.d
	picture = EP_MAORI_HAKA_eventPicture

	is_triggered_only = yes 

	trigger = {
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		any_owned_province = {
			any_empty_neighbor_province = {
				culture = veykodan
			}
		}
	}

	option = { #OH shit please don't kill us
		name = ynn_buycev_events.53.a 
		ai_chance = {
			factor = 50
		}
		add_years_of_income = -0.5
		hidden_effect = {
			country_event = {
				id = ynn_buycev_events.54
			}
		}
	}

	option = {	#Even if I may die for it I'll never be intimidated by bandits
		name = ynn_buycev_events.53.b 
		ai_chance = {
			factor = 50
			modifier = {
				factor = 100
				ruler_has_personality = bold_fighter_personality
			}
			modifier = {
				factor = 0
				ruler_has_personality = craven_personality
			}
		}
		tooltip = {
			random = {
				chance = 50
				kill_ruler = yes
			}
		}
		add_mil_power = -43
		hidden_effect = {
			country_event = {
				id = ynn_buycev_events.55
			}
		}
	}
}

country_event = {	#False veykodans yoink our money
	id = ynn_buycev_events.54
	title = ynn_buycev_events.54.t 
	desc = ynn_buycev_events.54.d 
	picture = not_disciplined_soldiers_eventPicture

	is_triggered_only = yes 

	trigger = {
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
	}

	option = {	#They were just painted bandits
		name = ynn_buycev_events.54.a 
		ai_chance = {
			factor = 100
		}
		add_prestige = -5
	}
}

country_event = {	#We weren't fooled
	id = ynn_buycev_events.55
	title = ynn_buycev_events.55.t
	desc = ynn_buycev_events.55.d 
	picture = BATTLE_eventPicture

	is_triggered_only = yes 

	trigger = {
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
	}

	option = {	#Lmao, nice try nerds
		name = ynn_buycev_events.55.a 
		ai_chance = {
			factor = 100
		}
		add_mil_power = 43
		add_prestige = 10
	}
}

country_event = {	#Whispers of vechnogejzn
	id = ynn_buycev_events.127
	title = ynn_buycev_events.127.t 
	desc = ynn_buycev_events.127.d 
	picture = FETISHIST_FIRE_eventPicture

	is_triggered_only = yes 
	fire_only_once = yes

	trigger = {
		capital_scope = {
			OR = {
				superregion = ynn_superregion
				region = forest_of_the_cursed_ones_region
			}
		}
		any_owned_province = {
			any_empty_neighbor_province = {
				culture = old_rzentur
			}
		}
	}

	option = {	#Go search for their fire
		name = ynn_buycev_events.127.a 
		ai_chance = {
			factor = 90
			modifier = {
				factor = 10
				ruler_has_personality = craven_personality
			}
		}
		add_mil_power = -50
		add_years_of_income = -0.3
		add_manpower = -2
		hidden_effect = {
			random_list = {
				2 = {
					country_event = {
						id = ynn_buycev_events.128
						days = 420
						random = 69
					}
				}
				8 = {
					country_event = {
						id = ynn_buycev_events.129 
						days = 420
						random = 69
					}
				}
			}
		}
	}

	option = {	#nah fam we're not interested
		name = ynn_buycev_events.127.b 
		ai_chance = {
			factor = 10
		}
		add_prestige = -5
	}
}

country_event = {	#Vechnogejzn Found!
	id = ynn_buycev_events.128
	title = ynn_buycev_events.128.t 
	desc = ynn_buycev_events.128.d 
	picture = FETISHIST_FIRE_eventPicture

	is_triggered_only = yes 

	trigger = {
		always = yes 
	}

	option = {	#Keep this wonder on display in the capital
		name = ynn_buycev_events.128.a
		ai_chance = {
			factor = 33
		}
		add_prestige = 30
		capital_scope = {
			add_province_modifier = {
				name = found_vechnogejzn
				duration = -1
			}
		}
	}

	option = {	#Destroy the heretical flame
		name = ynn_buycev_events.128.b
		ai_chance = {
			factor = 33
		}
		add_mil_power = 50
		add_adm_power = 50
		add_dip_power = 50
		if = {
			limit = {
				NOT = {
					religion = vechnogejzn
				}
				has_estate = estate_church
			}
			add_estate_loyalty = {
				estate = estate_church
				loyalty = 20
			}
		} 
	}

	option = {	#Return the fire to its people
		name = ynn_buycev_events.128.c
		trigger = {
			OR = {
				NOT = {
					OR = {
						religion = ynn_river_worship
						religion = ynn_river_reformed
					}
				}
				AND = {
					OR = {
						religion = ynn_river_worship
						religion = ynn_river_reformed
					}
					has_country_modifier = yrw_1a
				}
			}
		}
		ai_chance = {
			factor = 33
		}
		add_prestige = 20
		every_owned_province = {
			limit = {
				any_neighbor_province = {
					culture = old_rzentur
				}
			}
			add_province_modifier = {
				name = rzentur_tribes_appeased
				duration = 36500
			}
		}
	}
}

country_event = {	#Search party lost
	id = ynn_buycev_events.129
	title = ynn_buycev_events.129.t 
	desc = ynn_buycev_events.129.d 
	picture = IMPALED_SOLDIERS_eventPicture

	is_triggered_only = yes 

	trigger = {
		always = yes 
	}

	option = {	#well shit
		name = ynn_buycev_events.129.a 
		ai_chance = {
			factor = 80
			modifier = {
				factor = 0
				ruler_has_personality = naive_personality
			}
		}
		add_mil_power = -10
	}

	option = {	#Send another one
		name = ynn_buycev_events.129.b 
		ai_chance = {
			factor = 20
		}
		add_mil_power = -50
		add_years_of_income = -0.3
		add_manpower = -2
		hidden_effect = {
			random_list = {
				3 = {
					country_event = {
						id = ynn_buycev_events.128
						days = 420
						random = 69
					}
				}
				7 = {
					country_event = {
						id = ynn_buycev_events.129 
						days = 420
						random = 69
					}
				}
			}
		}
	}
}

#Veykodan Sabre Tooth Tiger Party Raids Colony!
province_event = {
    id = ynn_buycev_events.175
    title = ynn_buycev_events.175.t
    desc = ynn_buycev_events.175.d
    picture = HORDE_ON_HORSEBACK_eventPicture
    
    is_triggered_only = yes
    
    trigger = {
		owner = {
			capital_scope = {
				OR = {
					superregion = ynn_superregion
					region = forest_of_the_cursed_ones_region
				}		
			}
		}
		is_colony = yes 
		any_empty_neighbor_province = {
			culture = veykodan
		}
	}
    
    option = { 
        name = ynn_buycev_events.175.a
        goto = ROOT
		ai_chance = {
			factor = 100
		}
        add_colonysize = -100
        owner = {
			add_treasury = -50
		}
        add_province_modifier = {
            name = fear_of_raiders
			duration = 3650
		}    
    }    
}

