namespace = effelai_bloom

################
#~/----------\~#
#~|Written By|~#
#~|River Doge|~#
#~\----------/~#
################


#Effelai Blooming Provinces Events
country_event = {
	id = effelai_bloom.1
	title = effelai_bloom.1.t
	desc = effelai_bloom.1.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	fire_only_once = yes
	
	hidden = yes
	
	is_triggered_only = yes
	
	immediate = {
		effelai_superregion = {
			if = {
				limit = {
					has_province_modifier = effelai_dormant
				}
				set_province_flag = effelai_network_flag
				add_permanent_province_modifier = {
					name = effelai_blooming
					duration = -1
				}
				remove_province_modifier = effelai_dormant
			}
			else_if = {
				limit = {
					has_province_modifier = effelai_dormant_neural_hub
				}
				set_province_flag = effelai_hub_flag
				add_permanent_province_modifier = {
					name = effelai_blooming_neural_hub
					duration = -1
				}
				remove_province_modifier = effelai_dormant_neural_hub
			}
		}
		set_global_flag = effelai_blooming_flag
		every_country = {
			if = {
				limit = {
					capital_scope = {
						OR = {
							superregion = effelai_superregion
							superregion = greater_taychend_superregion
							superregion = torn_sea_superregion
							superregion = kheionai_superregion
						}
					}
					any_owned_province = {
						OR = {
							region = east_effelai_region
							region = south_effelai_region
							region = west_effelai_region
							region = dry_coast_region
							area = red_isle_area
							area = soaring_forest_area
							area = croakwood_area
							area = ungoths_trail_area
							area = edgewoods_area
							area = screaming_jungle_area
							area = spider_coast_area
							area = serpenthome_area
							province_id = 2344
						}
					}
				}
				country_event = {
					id = effelai_bloom.2
					days = 30
				}
			}
			else_if = {
				limit = {
					NOT = {
						capital_scope = {
							OR = {
								superregion = effelai_superregion
								superregion = greater_taychend_superregion
								superregion = torn_sea_superregion
								superregion = kheionai_superregion
							}
						}
					}
					any_subject_country = {
						capital_scope = {
							OR = {
								superregion = effelai_superregion
								superregion = greater_taychend_superregion
								superregion = torn_sea_superregion
								superregion = kheionai_superregion
							}
						}
						any_owned_province = {
							OR = {
								region = east_effelai_region
								region = south_effelai_region
								region = west_effelai_region
								region = dry_coast_region
								area = red_isle_area
								area = soaring_forest_area
								area = croakwood_area
								area = ungoths_trail_area
								area = edgewoods_area
								area = screaming_jungle_area
								area = spider_coast_area
								area = serpenthome_area
								province_id = 2344
							}
						}
					}
				}
				country_event = {
					id = effelai_bloom.3
					days = 30
				}
			}
			else_if = {
				limit = {
					NOT = {
						any_owned_province = {
							OR = {
								region = east_effelai_region
								region = south_effelai_region
								region = west_effelai_region
								region = dry_coast_region
								area = red_isle_area
								area = soaring_forest_area
								area = croakwood_area
								area = ungoths_trail_area
								area = edgewoods_area
								area = screaming_jungle_area
								area = spider_coast_area
								area = serpenthome_area
								province_id = 2344
							}
						}
					}
					capital_scope = {
						superregion = effelai_superregion
						superregion = greater_taychend_superregion
						superregion = torn_sea_superregion
						superregion = kheionai_superregion
						superregion = north_aelantir_superregion
					}
				}
				country_event = {
					id = effelai_bloom.4
					days = 30
				}
			}
		}
	}
	
	option = {
		id = effelai_bloom.0.a
		ai_chance = 100
	}
}
	
#Effelai Bloom Introduction Events
country_event = {
	id = effelai_bloom.2
	title = effelai_bloom.2.t
	desc = effelai_bloom.2.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	
	is_triggered_only = yes
	
	trigger = {
		
	}
	
	immediate = {
		stability = -1
	}
	
	option = {
		id = effelai_bloom.2.a
		ai_chance = 100
		tooltip = {
			stability = -1
		}
	}
}

#Introductory Events For Non-Capital with subjects in Aelantir Nations
country_event = {
	id = effelai_bloom.3
	title = effelai_bloom.3.t
	desc = effelai_bloom.3.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
	
	}
	
	immediate = {

	}
	
	option = {
		id = effelai_bloom.3.a
		ai_chance = 100
	}
}

#Introductory Event For Nations in Adjacent Regions
country_event = {
	id = effelai_bloom.4
	title = effelai_bloom.4.t
	desc = effelai_bloom.4.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	is_triggered_only = yes 
	
	trigger = {
		
	}
	
	immediate = {

	}
	
	option = {
		id = effelai_bloom.4.a
		ai_chance = 100
	}
}


#Effelai Leading To Choice Event(Discovery of Neural Network)
country_event = {
	id = effelai_bloom.5
	title = effelai_bloom.5.t
	desc = effelai_bloom.5.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	is_triggered_only = yes
	
	trigger = {

	}
	
	immediate = {
	
	}
	
	option = {
		id = effelai_bloom.5.a
		ai_chance = 100
	}
}

#Effelai Leading To Choice Event(Mapping the network)
country_event = {
	id = effelai_bloom.6
	title = effelai_bloom.6.t
	desc = effelai_bloom.6.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	is_triggered_only = yes 
	
	trigger = {
		
	}
	
	immediate = {
		random_owned_province = {
			limit = {
				OR = {
					has_province_modifier = effelai_bloom
					has_province_modifier = effelai_blooming_neural_hub
				}
			}
			spawn_rebels = {
				size = 2
				type = REB_song_servants
			}
		}
	}
	
	option = {
		id = effelai_bloom.6.a
		ai_chance = 100
	}
}

#Effelai Leading To Choice Event(Discovery of Neural Network)
country_event = {
	id = effelai_bloom.5
	title = effelai_bloom.5.t
	desc = effelai_bloom.5.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	is_triggered_only = yes
	
	trigger = {

	}
	
	immediate = {
	
	}
	
	option = {
		id = effelai_bloom.5.a
		ai_chance = 100
	}
}

#Effelai Bloom Choice Event(Attuned vs Burn)
country_event = {
	id = effelai_bloom.30
	title = effelai_bloom.30.t
	desc = effelai_bloom.30.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	trigger = {
		
	}
	
	immediate = {

	}
	
	option = {
		id = effelai_bloom.30.a
		ai_chance = 50
		
		country_event = {
			id = effelai_bloom.100
			days = 30
			random = 60
		}
	}
	
	option = {
		id = effelai_bloom.30.b
		ai_chance = 50
		
		country_event = {
			id effelai_bloom.200
			days = 30
			random = 60
		}
	}
}

#Effelai Attunement Path (Event 1 - Mages Attempt Contact)
country_event = {
	id = effelai_bloom.100
	title = effelai_bloom.100.t
	desc = effelai_bloom.100.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	is_triggered_only = yes
	
	trigger = {

	}
	
	immediate = {
	
	}
	
	option = {
		id = effelai_bloom.100.a
		ai_chance = 100
		
		add_estate_loyalty = {
			estate = estate_mages
			loyalty = 10
			
		}
		estate_influence = {
			estate = esate_mages
			influence = 10
		}
		country_event = {
			id = effelai_bloom.101
			days = 546
		}
	}
}

#Effelai Attunement Path (Event 2 - Adventurers Discover Clues)
country_event = {
	id = effelai_bloom.101
	title = effelai_bloom.101.t
	desc = effelai_bloom.101.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	is_triggered_only = yes
	
	trigger = {

	}
	
	immediate = {
	
	}
	
	option = {
		id = effelai_bloom.101.a
		ai_chance = 100
		
		add_estate_loyalty = {
			estate = estate_adventurers
			loyalty = 10
			
		}
		estate_influence = {
			estate = estate_adventurers
			influence = 10
		}
		country_event = {
			id = effelai_bloom.102
			days = 546
		}
	}
}

#Effelai Attunement Path (Event 3 - Ruinborn Provide Knowledge)
country_event = {
	id = effelai_bloom.102
	title = effelai_bloom.102.t
	desc = effelai_bloom.102.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	is_triggered_only = yes
	
	trigger = {

	}
	
	immediate = {
	
	}
	
	option = {
		id = effelai_bloom.102.a
		ai_chance = 100
		
		medium_increase_of_ruinborn_tolerance_effect = yes
		add_dip_power = 50
		country_event = {
			id = effelai_bloom.103
			days = 546
		}
	}
}

#Effelai Attunement Path (Event 4 - Establish A Base Of Operations)
country_event = {
	id = effelai_bloom.103
	title = effelai_bloom.103.t
	desc = effelai_bloom.103.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	is_triggered_only = yes
	
	trigger = {

	}
	
	immediate = {
	
	}
	
	option = {
		id = effelai_bloom.103.a
		ai_chance = 100
		
		add_country_modifier =  {
			name = effelai_establish_base_of_operations
			duration = -1
		}
		country_event = {
			id = effelai_bloom.104
			days = 546 
		}
	}
}

#Effelai Attunement Path (Event 5 - Deciphering The Language)
country_event = {
	id = effelai_bloom.104
	title = effelai_bloom.104.t
	desc = effelai_bloom.104.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	is_triggered_only = yes
	
	trigger = {

	}
	
	immediate = {
	
	}
	
	option = {
		id = effelai_bloom.104.a
		ai_chance = 100
		
		add_country_modifier =  {
			name = effelai_deciphering_language
			duration = -1
		}
		country_event = {
			id = effelai_bloom.105
			days = 546
		}
	}
}

#Effelai Attunement Path (Event 6 - Adaptive Engineering)
country_event = {
	id = effelai_bloom.105
	title = effelai_bloom.105.t
	desc = effelai_bloom.105.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	is_triggered_only = yes
	
	trigger = {

	}
	
	immediate = {
	
	}
	
	option = {
		id = effelai_bloom.105.a
		ai_chance = 100
		
		add_country_modifier =  {
			name = effelai_network_adaption
			duration = -1
		}
		country_event = {
			id = effelai_bloom.106
			days = 546
		}
	}
}

#Effelai Attunement Path (Event 7 - Effelai Reaches Out)
country_event = {
	id = effelai_bloom.106
	title = effelai_bloom.106.t
	desc = effelai_bloom.106.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	is_triggered_only = yes
	
	trigger = {

	}
	
	immediate = {
	
	}
	
	option = {
		id = effelai_bloom.106.a
		ai_chance = 100
		
		add_dip_power = -100
		add_estate_loyalty_modifier = {
			estate = estate_mages
			desc = EST_VAL_MAGES_MIGRAINES
			loyalty = -10
			duration = 1825
		}	
		country_event = {
			id = effelai_bloom.107
			days = 546
		}
	}
}

#Effelai Attunement Path (Event 8 Final Event - Effelai Attunemnet)
country_event = {
	id = effelai_bloom.107
	title = effelai_bloom.107.t
	desc = effelai_bloom.107.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	is_triggered_only = yes
	
	trigger = {

	}
	
	immediate = {
	
	}
	
	option = {
		id = effelai_bloom.107.a
		ai_chance = 100
		
		add_adm_power = -200
		add_dip_power = -100
		add_mil_power = -200
		remove_country_modifier = effelai_establish_base_of_operations
		remove_country_modifier = effelai_deciphering_language
		remove_country_modifier = effelai_network_adaption
		add_country_modifier = {
			name = effelai_attuned_country
			duration = -1
		}
		every_owned_province = {
			if = {
				limit = {
					has_province_modifier = effelai_blooming
				}
				remove_province_modifier = effelai_blooming
				add_permanent_province_modifier = {
					name = effelai_attuned
					duration = -1
				}
			}
			else_if = {
				limit = {
					has_province_modifier = effelai_blooming_neural_hub
				}
				remove_province_modifier = effelai_blooming_neural_hub
				add_permanent_province_modifier = {
					name = effelai_attuned_nerual_hub
					duration = -1
				}
			}
		}
	}
}

#Effelai Burning Path (Event 1 - Burn Our First Province)
country_event = {
	id = effelai_bloom.200
	title = effelai_bloom.200.t
	desc = effelai_bloom.200.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	is_triggered_only = yes
	
	trigger = {

	}
	
	immediate = {
	
	}
	
	option = {
		id = effelai_bloom.105.a
		ai_chance = 100
		
		set_country_flag = effelai_burnt_path_flag
		add_mil_power = -25
		manpower = -5
		random_owned_province = {
			limit = {
				has_province_modifier = effelai_blooming
			}
			remove_province_modifier = effelai_blooming
			add_permanent_province_modifier = {
				name = effelai_burnt
				duration = -1
			}
		}
	}
}

#Effelai Burning Path (Event 2 - Effelai Reduced to Ashes)
country_event = {
	id = effelai_bloom.200
	title = effelai_bloom.200.t
	desc = effelai_bloom.200.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	hidden = yes
	
	trigger = {
		
	}
	
	immediate = {
	
	}
	
	option = {
		id = effelai_bloom.200.a
		ai_chance = 100
		
		every_country = {
			limit = {
				OR = {
					OR = {
						capital_scope = {
							superregion = effelai_superregion
							superregion = greater_taychend_superregion
							superregion = torn_sea_superregion
							superregion = kheionai_superregion
							superregion = north_aelantir_superregion
						}
					}
					any_subject_country = {
						capital_scope = {
							OR = {
								superregion = effelai_superregion
								superregion = greater_taychend_superregion
								superregion = torn_sea_superregion
								superregion = kheionai_superregion
								superregion = north_aelantir_superregion
							}
						}
					}
				}
			}
			country_event = {
				id = effelai_bloom.201
				days = 1
			}
		}
	}
}

#Effelai Attuned Interactions
country_event = {
	id = effelai_bloom.150
	title = effelai_bloom.150.t
	desc = effelai_bloom.150.d
	
	picture = RELIGIOUS_TURMOIL_eventPicture
	
	trigger = {
		
	}
	
	immediate = {

	}
	#Unearthed Resources
	option = {
		id = effelai_bloom.150.a
		ai_chance = 100
	}
	#Develop Effelai
	option = {
		id = effelai_bloom.150.b
		ai_chance = 100
	}
	#Surplus Of Lumber
	option = {
		id = effelai_bloom.150.c
		ai_chance = 100
	}
	#Expanded Hubs
	option = {
		id = effelai_bloom.150.e
		ai_chance = 100
	}
	#Calm The Masses
	option = {
		id = effelai_bloom.150.f
		ai_chance = 100
	}
	#Unfettered Merchants
	option = {
		id = effelai_bloom.150.g
		ai_chance = 100
	}
	#Lumber For Our Fleets
	option = {
		id = effelai_bloom.150.h
		ai_chance = 100
	}
	#Train Our Troops In Effelai
	option = {
		id = effelai_bloom.150.i
		ai_chance = 100
	}
	#Effelai Provides For Our Army
	option = {
		id = effelai_bloom.150.j
		ai_chance = 100
	}
	#Effelai Monstrous Regiments
	option = {
		id = effelai_bloom.150.j
		ai_chance = 100
	}
}