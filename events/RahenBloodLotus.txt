

namespace = blood_lotus_rebellion

country_event = { #The Blood Lotus Rebellion
	id = blood_lotus_rebellion.1
	title = blood_lotus_rebellion.1.t
	desc = blood_lotus_rebellion.1.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes
	major = yes

	immediate = {
		hidden_effect = {
			# Setup hardline stance. 
			blood_lotus_hardline_stance_setup = yes

			# Spawn sympathizers relative to the size of the nation. 
			if = {
				limit = {
					development_in_provinces = {
						value = 1000
						superregion = rahen_superregion
					}
				}
				# 8 areas with sympathizers. 
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_rebellion_spawns_headquarters = yes
			}
			else_if = {
				limit = {
					development_in_provinces = {
						value = 800
						superregion = rahen_superregion
					}
				}
				# 7 areas with sympathizers. 
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
			}
			else_if = {
				limit = {
					development_in_provinces = {
						value = 600
						superregion = rahen_superregion
					}
				}
				# 6 areas with sympathizers. 
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
			}
			else = {
				# 5 areas with sympathizers. 
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
				blood_lotus_new_sympathizers = yes
			}
			
			blood_lotus_rebellion_spawns_hidden = yes
			blood_lotus_rebellion_spawns_headquarters = yes
			
			country_event = {
				id = blood_lotus_rebellion.106 #The Great Rebellion
				days = 1500 #4 years
				random = 500
			}
		}
	}

	option = { #Rebel Negotiation
		name = blood_lotus_rebellion.1.a
		ai_chance = {
			factor = 1
		}
		
		blood_lotus_hardline_stance_change = { neutral = 10 }
		add_country_modifier = {
			name = blood_lotus_rebel_negotiation
			duration = -1
		}
		hidden_effect = {
			blood_lotus_rebellion_spawns_hidden = yes
			blood_lotus_rebellion_spawns_hidden = yes
		}
		blood_lotus_rebellion_spawns = yes
		add_stability = -4
		
		custom_tooltip = blood_lotus_explanation_tt
	}
	option = { #Hardline Stance
		name = blood_lotus_rebellion.1.b
		ai_chance = {
			factor = 1
		}
		
		blood_lotus_hardline_stance_change = { harimarihardline = 10 }
		add_country_modifier = {
			name = blood_lotus_hardline_stance
			duration = -1
		}
		hidden_effect = {
			blood_lotus_new_sympathizers = yes
		
			blood_lotus_rebellion_spawns_hidden = yes
			blood_lotus_rebellion_spawns_hidden = yes
		}
		blood_lotus_rebellion_spawns = yes
		add_stability = -5
		largest_decrease_of_human_tolerance_effect = yes
		
		country_event = {
			id = blood_lotus_rebellion.6 #A general offers his service
			days = 100
			random = 300
		}
		
		custom_tooltip = blood_lotus_explanation_tt
	}
}

country_event = { #The Blood Lotus Rebellion Ends
	id = blood_lotus_rebellion.2
	title = blood_lotus_rebellion.2.t
	desc = blood_lotus_rebellion.2.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes
	hidden = yes
	
	option = { 
		name = blood_lotus_rebellion.2.a
		ai_chance = {
			factor = 1
		}
		set_country_flag = blood_lotus_happened
		clr_country_flag = reform_the_castes
		country_event = {
			id = blood_lotus_rebellion.3
			days = 5
		}
		every_owned_province = {
			remove_province_modifier = blood_lotus_guerrillas
			remove_province_modifier = blood_lotus_guerrillas_hidden
			remove_province_modifier = blood_lotus_headquarter
			remove_province_modifier = blood_lotus_sympathizers
		}
	}
}

country_event = { #The Blood Lotus Rebellion Ends
	id = blood_lotus_rebellion.3
	title = blood_lotus_rebellion.3.t
	desc = blood_lotus_rebellion.3.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes
	major = yes
	
	option = { #The Rebellion Breaks
		name = blood_lotus_rebellion.3.a
		ai_chance = {
			factor = 1
		}
		trigger = { has_country_flag = blood_lotus_lost }
		remove_country_modifier = blood_lotus_rebel_negotiation
		remove_country_modifier = blood_lotus_hardline_stance
		
	}
	option = { #The Rebellion Wins, negotiation
		name = blood_lotus_rebellion.3.b
		ai_chance = {
			factor = 1
		}
		trigger = { NOT = { has_country_flag = blood_lotus_lost } has_country_modifier = blood_lotus_rebel_negotiation }
		
		add_stability_or_adm_power = yes
		add_country_modifier = {
			name = blood_lotus_subdued
			duration = 18250 #50 years
		}
		remove_country_modifier = blood_lotus_rebel_negotiation
	}
	option = { #The Rebellion Wins, hardline
		name = blood_lotus_rebellion.3.c
		ai_chance = {
			factor = 1
		}
		trigger = { NOT = { has_country_flag = blood_lotus_lost } has_country_modifier = blood_lotus_hardline_stance }
		
		add_stability = 3
		add_prestige = 50
		add_country_modifier = {
			name = blood_lotus_powerful_government
			duration = 18250 #50 years
		}
		remove_country_modifier = blood_lotus_hardline_stance
	}
}

country_event = { #The Blood Lotus Rebellion Ends, Lower castes reform
	id = blood_lotus_rebellion.300
	title = blood_lotus_rebellion.300.t
	desc = blood_lotus_rebellion.300.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes
	major = yes

	immediate = {
		remove_country_modifier = blood_lotus_rebel_negotiation
		remove_country_modifier = blood_lotus_hardline_stance
	}

	after = {
		country_event = { id = blood_lotus_rebellion.301 } #Middle castes reform
	}
	
	### Hardline harimari options.
	option = { #humans into lower castes
		name = blood_lotus_rebellion.300.a #"Humans belong to the lower castes!"
		ai_chance = {
			factor = 1
		}
		trigger = { blood_lotus_hardline_stance_harimari = yes }
		set_country_flag = human_in_lowercastes	
		clr_country_flag = harimari_in_lowercastes	
	}
	option = { #harimari and humans into lower castes
		name = blood_lotus_rebellion.300.b #"We will keep the harimari and humans in the lower castes."
		ai_chance = {
			factor = 1
		}
		trigger = { 
			blood_lotus_hardline_stance_harimari = yes 
			has_country_flag = human_in_lowercastes
			has_country_flag = harimari_in_lowercastes
		}	
		# keep harimari and human in lowercastes
	}

	### Neutral options
	option = { #humans into lower castes
		name = blood_lotus_rebellion.300.c #"We will keep the humans in the lower castes."
		ai_chance = {
			factor = 1
		}
		trigger = { 
			blood_lotus_hardline_stance_neutral = yes 
			has_country_flag = human_in_lowercastes
		}	
		# keep human in lowercastes
		clr_country_flag = harimari_in_lowercastes
	}
	option = { #harimari and humans into lower castes
		name = blood_lotus_rebellion.300.e #"We will allow both harimari and humans in the lower castes."
		ai_chance = {
			factor = 1
		}
		trigger = { 
			blood_lotus_hardline_stance_neutral = yes 
		}	
		set_country_flag = human_in_lowercastes		
		set_country_flag = harimari_in_lowercastes		
	}
	option = { #harimari into lower castes
		name = blood_lotus_rebellion.300.f #"We will keep the harimari in the lower castes."
		ai_chance = {
			factor = 1
		}
		trigger = { 
			blood_lotus_hardline_stance_neutral = yes 
			has_country_flag = harimari_in_lowercastes
		}	
		# keep harimari in lowercastes
		clr_country_flag = human_in_lowercastes
	}

	### Hardline human options.
	option = { #harimari into lower castes
		name = blood_lotus_rebellion.300.g #"Harimari belong to the lower castes!"
		ai_chance = {
			factor = 1
		}
		trigger = { blood_lotus_hardline_stance_human = yes }
		set_country_flag = harimari_in_lowercastes	
		clr_country_flag = human_in_lowercastes	
	}
	option = { #harimari and humans into lower castes
		name = blood_lotus_rebellion.300.h #"We will keep the harimari and humans in the lower castes."
		ai_chance = {
			factor = 1
		}
		trigger = { 
			blood_lotus_hardline_stance_human = yes 
			has_country_flag = human_in_lowercastes
			has_country_flag = harimari_in_lowercastes
		}	
		# keep harimari and human in lowercastes
	}
}

country_event = { #The Blood Lotus Rebellion Ends, Middle castes reform
	id = blood_lotus_rebellion.301
	title = blood_lotus_rebellion.301.t
	desc = blood_lotus_rebellion.301.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes
	major = yes

	after = {
		country_event = { id = blood_lotus_rebellion.302 } #Upper castes reform
	}
	
	### Hardline harimari options.
	option = { #humans into middle castes
		name = blood_lotus_rebellion.301.a #"Humans belong to the middle castes!"
		ai_chance = {
			factor = 1
		}
		trigger = { blood_lotus_hardline_stance_harimari = yes }
		set_country_flag = human_in_middlecastes	
		clr_country_flag = harimari_in_middlecastes	
	}
	option = { #harimari and humans into middle castes
		name = blood_lotus_rebellion.301.b #"We will keep the harimari and humans in the middle castes."
		ai_chance = {
			factor = 1
		}
		trigger = { 
			blood_lotus_hardline_stance_harimari = yes 
			has_country_flag = human_in_middlecastes
			has_country_flag = harimari_in_middlecastes
		}	
		# keep harimari and human in middlecastes
	}

	### Neutral options
	option = { #humans into middle castes
		name = blood_lotus_rebellion.301.c #"We will keep the humans in the middle castes."
		ai_chance = {
			factor = 1
		}
		trigger = { 
			blood_lotus_hardline_stance_neutral = yes 
			has_country_flag = human_in_middlecastes
		}	
		# keep human in middlecastes
		clr_country_flag = harimari_in_middlecastes
	}
	option = { #harimari and humans into middle castes
		name = blood_lotus_rebellion.301.e #"We will allow both harimari and humans in the middle castes."
		ai_chance = {
			factor = 1
		}
		trigger = { 
			blood_lotus_hardline_stance_neutral = yes 
		}	
		set_country_flag = human_in_middlecastes		
		set_country_flag = harimari_in_middlecastes		
	}
	option = { #harimari into middle castes
		name = blood_lotus_rebellion.301.f #"We will keep the harimari in the middle castes."
		ai_chance = {
			factor = 1
		}
		trigger = { 
			blood_lotus_hardline_stance_neutral = yes 
			has_country_flag = harimari_in_middlecastes
		}	
		# keep harimari in middlecastes
		clr_country_flag = human_in_middlecastes
	}

	### Hardline human options.
	option = { #harimari into middle castes
		name = blood_lotus_rebellion.301.g #"Harimari belong to the middle castes!"
		ai_chance = {
			factor = 1
		}
		trigger = { blood_lotus_hardline_stance_human = yes }
		set_country_flag = harimari_in_middlecastes	
		clr_country_flag = human_in_middlecastes	
	}
	option = { #harimari and humans into middle castes
		name = blood_lotus_rebellion.301.h #"We will keep the harimari and humans in the middle castes."
		ai_chance = {
			factor = 1
		}
		trigger = { 
			blood_lotus_hardline_stance_human = yes 
			has_country_flag = human_in_middlecastes
			has_country_flag = harimari_in_middlecastes
		}	
		# keep harimari and human in middlecastes
	}
}

country_event = { #The Blood Lotus Rebellion Ends, Upper castes reform
	id = blood_lotus_rebellion.302
	title = blood_lotus_rebellion.302.t
	desc = blood_lotus_rebellion.302.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes
	major = yes
	
	### Hardline harimari options.
	option = { #harimari into upper castes
		name = blood_lotus_rebellion.302.a #"Harimari will rule from the upper castes!"
		ai_chance = {
			factor = 1
		}
		trigger = { blood_lotus_hardline_stance_harimari = yes }
		set_country_flag = harimari_in_uppercastes	
		clr_country_flag = human_in_uppercastes	
	}

	### Neutral options
	option = { #harimari and humans into upper castes
		name = blood_lotus_rebellion.302.b #"We will allow both harimari and humans in the upper castes."
		ai_chance = {
			factor = 1
		}
		trigger = { 
			blood_lotus_hardline_stance_neutral = yes 
		}	
		set_country_flag = human_in_uppercastes		
		set_country_flag = harimari_in_uppercastes		
	}

	### Hardline human options.
	option = { #human into upper castes
		name = blood_lotus_rebellion.302.c #"Humans belong in the upper castes!"
		ai_chance = {
			factor = 1
		}
		trigger = { blood_lotus_hardline_stance_human = yes }
		set_country_flag = human_in_uppercastes	
		clr_country_flag = harimari_in_uppercastes
	}
}

country_event = { #A locals reveal a group of rebels
	id = blood_lotus_rebellion.4
	title = blood_lotus_rebellion.4.t
	desc = blood_lotus_rebellion.4.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes
	
	trigger = {
		any_owned_province = {
			has_province_modifier = blood_lotus_guerrillas_hidden
		}
	}
	
	option = { #Now I see you
		name = blood_lotus_rebellion.4.a
		ai_chance = {
			factor = 1
		}
		
		random_owned_province = {
			limit = { has_province_modifier = blood_lotus_guerrillas_hidden }
			remove_province_modifier = blood_lotus_guerrillas_hidden
			add_province_modifier = {
				name = blood_lotus_guerrillas
				duration = -1
			}
		}
	}
}

country_event = { #Sympathizers in [blood_lotus_sympathizers.GetName] want to negotiate
	id = blood_lotus_rebellion.5
	title = blood_lotus_rebellion.5.t
	desc = blood_lotus_rebellion.5.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes
	
	trigger = {
		has_country_modifier = blood_lotus_rebel_negotiation
		any_owned_province = {
			has_province_modifier = blood_lotus_sympathizers
			#NOT = { has_province_modifier = blood_lotus_guerrillas_hidden }
		}
	}
	
	immediate = {
		random_owned_province = {
			limit = { 
				has_province_modifier = blood_lotus_sympathizers
			}
			save_event_target_as = negotiating_sympathizers
		}
	}
	
	option = { #Grant them their request
		name = blood_lotus_rebellion.5.a
		ai_chance = {
			factor = 1
		}
		goto = negotiating_sympathizers
		
		event_target:negotiating_sympathizers = {
			add_local_autonomy = 25
			remove_province_modifier = blood_lotus_sympathizers
			hidden_effect = {
				remove_province_modifier = blood_lotus_guerrillas_hidden
				remove_province_modifier = blood_lotus_guerrillas
			}
			add_province_modifier = {
				name = blood_lotus_dissuaded_sympathizers
				duration = 730 # two years
			}
		}
		
		blood_lotus_hardline_stance_change = { neutral = 3 }
	}
	option = { #Refuse
		name = blood_lotus_rebellion.5.b
		ai_chance = {
			factor = 1
		}
		
		increase_legitimacy_small_effect = yes
			
		hidden_effect = {
			add_province_modifier = {
				name = blood_lotus_guerrillas_hidden
				duration = -1
			}
		}
		
		blood_lotus_hardline_stance_change = { harimarihardline = 3 }
	}
}

country_event = { #A general offers his service
	id = blood_lotus_rebellion.6
	title = blood_lotus_rebellion.6.t
	desc = blood_lotus_rebellion.6.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes
	
	option = { #All the help is appreciated
		name = blood_lotus_rebellion.6.a
		ai_chance = {
			factor = 1
		}
		define_general = {
			name = "Salar Black-Claw"
			shock = 7
			fire = 3
			manuever = 4
			siege = 5
		}
	}
}

country_event = { # General Salar Black-Claw joins the harimari hardliners. 
	id = blood_lotus_rebellion.600
	title = blood_lotus_rebellion.600.t
	desc = blood_lotus_rebellion.600.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes

	trigger = {
		has_leader = "Salar Black-Claw"
	}
	
	immediate = {
		hidden_effect = {
			kill_leader = {
				type = "Salar Black-Claw"
			}
		}
		random_owned_province = {
			limit = {
				OR = {
					has_province_modifier = blood_lotus_guerrillas
					has_province_modifier = blood_lotus_guerrillas_hidden
				}
			}
			spawn_rebels = {
				type = blood_lotus_rebel
				size = 2
				leader = "Salar Black-Claw"
				leader_dynasty = ""
			}
			remove_province_modifier = blood_lotus_guerrillas_hidden
			add_province_modifier = { 
				name = blood_lotus_guerrillas
				duration = -1
			}
			save_event_target_as = salarblackclawrebels
		}
	}
	option = { # Salar Black-Claw revolts against us! 
		name = blood_lotus_rebellion.600.a
		ai_chance = {
			factor = 1
		}
		goto = salarblackclawrebels
	}
}

country_event = { #The rebellion spreads (hidden), attack a fortress or makes an HQ.
	id = blood_lotus_rebellion.100
	title = blood_lotus_rebellion.100.t
	desc = blood_lotus_rebellion.100.d
	picture = ANGRY_MOB_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	mean_time_to_happen = {
		days = 1
	}

	option = { 
		name = blood_lotus_rebellion.100.a
		ai_chance = {
			factor = 1
		}
		
		random_list = { # only spread half the time
			30 = { blood_lotus_rebellion_spreads = yes }
			30 = { blood_lotus_rebellion_spreads_hidden = yes }
			30 = { #attack a fortress
				modifier = {
					factor = 0
					NOT = {
						any_owned_province = {
							OR = {
								has_province_modifier = blood_lotus_guerrillas
								has_province_modifier = blood_lotus_guerrillas_hidden
							}
							fort_level = 2
							NOT = { controlled_by = REB }
						}
					}
				}
				random_owned_province = {
					limit = {
						OR = {
							has_province_modifier = blood_lotus_guerrillas
							has_province_modifier = blood_lotus_guerrillas_hidden
						}
						fort_level = 2
						NOT = { controlled_by = REB }
					}
					spawn_rebels = {
						type = blood_lotus_rebel
						size = 2
					}
					remove_province_modifier = blood_lotus_guerrillas
					remove_province_modifier = blood_lotus_guerrillas_hidden
				}
			}
			10 = { # might fail if HQs already exist, or there aren't enough rebels.
				modifier = {
					factor = 0.6 # if attack a fortress can't happen, this needs to scale down to still be max 10% chance to fire.
					NOT = {
						any_owned_province = {
							OR = {
								has_province_modifier = blood_lotus_guerrillas
								has_province_modifier = blood_lotus_guerrillas_hidden
							}
							fort_level = 2
							NOT = { controlled_by = REB }
						}
					}
				}
				blood_lotus_rebellion_spawns_headquarters_on_guerrillas = yes
			}
		}
	}
}

country_event = { #101 The rebellion moves
	id = blood_lotus_rebellion.101
	title = blood_lotus_rebellion.101.t
	desc = blood_lotus_rebellion.101.d
	picture = ANGRY_MOB_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	mean_time_to_happen = {
		days = 1
	}

	option = { 
		name = blood_lotus_rebellion.101.a
		ai_chance = {
			factor = 1
		}
		blood_lotus_rebellion_moves = yes
		random_list = {
			55 = { blood_lotus_rebellion_moves_hidden = yes }
			30 = { blood_lotus_rebellion_moves = yes blood_lotus_rebellion_moves_hidden = yes }
			15 = { blood_lotus_rebellion_moves = yes blood_lotus_rebellion_moves = yes blood_lotus_rebellion_moves_hidden = yes }
		}
	}
}
country_event = { #102 The rebellion attacks a fortress
	id = blood_lotus_rebellion.102
	title = blood_lotus_rebellion.102.t
	desc = blood_lotus_rebellion.102.d
	picture = ANGRY_MOB_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	mean_time_to_happen = {
		days = 1
	}

	option = { 
		name = blood_lotus_rebellion.102.a
		ai_chance = {
			factor = 1
		}
		random_owned_province = {
			limit = {
				OR = {
					has_province_modifier = blood_lotus_guerrillas
					has_province_modifier = blood_lotus_guerrillas_hidden
				}
				fort_level = 2
				NOT = { controlled_by = REB }
			}
			spawn_rebels = {
				type = blood_lotus_rebel
				size = 2
			}
			remove_province_modifier = blood_lotus_guerrillas
			remove_province_modifier = blood_lotus_guerrillas_hidden
		}
	}
}
country_event = { #103 The rebellion moves openly
	id = blood_lotus_rebellion.103
	title = blood_lotus_rebellion.103.t
	desc = blood_lotus_rebellion.103.d
	picture = ANGRY_MOB_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	mean_time_to_happen = {
		days = 1
	}

	option = { 
		name = blood_lotus_rebellion.103.a
		ai_chance = {
			factor = 1
		}
		
		random_owned_province = {
			limit = {
				OR = {
					has_province_modifier = blood_lotus_guerrillas
					has_province_modifier = blood_lotus_guerrillas_hidden
				}
				NOT = { fort_level = 2 }
			}
			spawn_rebels = {
				type = blood_lotus_rebel
				size = 1
			}
			remove_province_modifier = blood_lotus_guerrillas
			remove_province_modifier = blood_lotus_guerrillas_hidden
		}
	}
}
country_event = { #104 A group of rebels hides
	id = blood_lotus_rebellion.104
	title = blood_lotus_rebellion.104.t
	desc = blood_lotus_rebellion.104.d
	picture = ANGRY_MOB_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	mean_time_to_happen = {
		days = 1
	}
	
	option = { 
		name = blood_lotus_rebellion.104.a
		ai_chance = {
			factor = 1
		}
		blood_lotus_rebellion_hides = yes
	}
}

country_event = { #105 New Sympathisers appear
id = blood_lotus_rebellion.105
title = blood_lotus_rebellion.105.t
desc = blood_lotus_rebellion.105.d
picture = ANGRY_MOB_eventPicture

is_triggered_only = yes
hidden = yes
trigger = { NOT = { has_country_flag = blood_lotus_the_great_revolt } }
mean_time_to_happen = {
	days = 1
}

	option = { 
		name = blood_lotus_rebellion.105.a
		ai_chance = {
			factor = 1
		}
		random_list = {
			15 = { blood_lotus_new_sympathizers = yes }
			35 = { blood_lotus_sympathizers_spreads = yes }
			50 = {}
		}
	}
}
country_event = { #106 The Great Revolt
id = blood_lotus_rebellion.106
	title = blood_lotus_rebellion.106.t
	desc = blood_lotus_rebellion.106.d
	picture = ANGRY_MOB_eventPicture
	
	is_triggered_only = yes
	
	trigger = { has_disaster = blood_lotus_rebellion }
	mean_time_to_happen = {
		days = 1
	}
	
	option = { 
		name = blood_lotus_rebellion.106.a
		ai_chance = {
			factor = 1
		}
		random_owned_province = {
			limit = { has_province_modifier = blood_lotus_sympathizers }
			spawn_rebels = {
				type = blood_lotus_rebel
				size = 8
			}
		}
		
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = blood_lotus_guerrillas
					has_province_modifier = blood_lotus_guerrillas_hidden
					has_province_modifier = blood_lotus_headquarter
				}
			}
			if = {
				limit = { has_province_modifier = blood_lotus_headquarter }
				remove_province_modifier = blood_lotus_headquarter
				if = {
					limit = { ROOT = { has_country_modifier = blood_lotus_rebel_negotiation } }
					spawn_rebels = {
						type = blood_lotus_rebel
						size = 4
					}
				}
				else = {
					spawn_rebels = {
						type = blood_lotus_rebel
						size = 6
					}
				}
			}
			else = {
				remove_province_modifier = blood_lotus_guerrillas_hidden
				remove_province_modifier = blood_lotus_guerrillas
				if = {
					limit = { ROOT = { has_country_modifier = blood_lotus_rebel_negotiation } }
					spawn_rebels = {
						type = blood_lotus_rebel
						size = 3
					}
				}
				else = {
					spawn_rebels = {
						type = blood_lotus_rebel
						size = 4
					}
				}
			}
		}
		hidden_effect = { set_country_flag = blood_lotus_the_great_revolt }
	}
}

country_event = { #107 A new center of rebellion
	id = blood_lotus_rebellion.107
	title = blood_lotus_rebellion.107.t
	desc = blood_lotus_rebellion.107.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes
	hidden = yes
	trigger = { NOT = { has_country_flag = blood_lotus_the_great_revolt } }
	mean_time_to_happen = {
		days = 1
	}
	
	option = { # If 2 HQs or less, spawn HQ
		name = blood_lotus_rebellion.107.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				num_of_owned_provinces_with = { value = 3 has_province_modifier = blood_lotus_headquarter }
			}
		}
		blood_lotus_rebellion_spawns_headquarters = yes
	}
	option = { # If 2 HQs or more, spread rebels 50% chance
		name = blood_lotus_rebellion.107.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { num_of_owned_provinces_with = { value = 3 has_province_modifier = blood_lotus_headquarter } }
			}
		}
		blood_lotus_rebellion_spawns = yes
	}
	option = { # If 2 HQs or more, spread hidden rebels 50% chance
		name = blood_lotus_rebellion.107.c
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { num_of_owned_provinces_with = { value = 3 has_province_modifier = blood_lotus_headquarter } }
			}
		}
		blood_lotus_rebellion_spawns_hidden = yes
	}
}

province_event = { #108 Inquiring about rebels found an HQ!
	id = blood_lotus_rebellion.108
	title = blood_lotus_rebellion.108.t
	desc = blood_lotus_rebellion.108.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes
	hidden = yes
	
	option = { # If 2 HQs or less, spawn HQ 5%
		name = blood_lotus_rebellion.108.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				num_of_owned_provinces_with = { value = 2 has_province_modifier = blood_lotus_headquarter }
			}
		}
		add_province_modifier = {
			name = blood_lotus_headquarter
			duration = -1
		}
		spawn_rebels = {
			type = blood_lotus_rebel
			size = 2
			win = yes
		}
	}
	option = { # If 2 HQs or less, spawn nothing 95%
	name = blood_lotus_rebellion.108.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				num_of_owned_provinces_with = { value = 2 has_province_modifier = blood_lotus_headquarter }
			}
		}
		# do nothing
	}
	option = { # If 2 HQs or more, nothing happens
		name = blood_lotus_rebellion.108.b
		ai_chance = {
			factor = 1
			modifier = {
					factor = 0
					NOT = { num_of_owned_provinces_with = { value = 2 has_province_modifier = blood_lotus_headquarter } }
				}
			}
			# do nothing
		}
	}
	
country_event = { #109 Sympathisers spread
	id = blood_lotus_rebellion.109
	title = blood_lotus_rebellion.109.t
	desc = blood_lotus_rebellion.109.d
	picture = ANGRY_MOB_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	trigger = { NOT = { has_country_flag = blood_lotus_the_great_revolt } }
	mean_time_to_happen = {
		days = 1
	}
	
	option = { 
		name = blood_lotus_rebellion.109.a
		ai_chance = {
			factor = 1
		}
		blood_lotus_sympathizers_spreads = yes
	}
}
	
	# Random events (which all affect HardlineCounter):
	
country_event = { # 200 DONE - One Time Economy
	id = blood_lotus_rebellion.200
	title = blood_lotus_rebellion.200.t
	desc = blood_lotus_rebellion.200.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { has_country_flag = blood_lotus_economy }
	}
	
	immediate = {
		set_country_flag = blood_lotus_economy
	}
	
	option = {
		name = blood_lotus_rebellion.200.a
		blood_lotus_hardline_stance_change = { harimarihardline = 5 }
		
		add_country_modifier = {
			name = blood_lotus_rebellion_stopped_subsidies_mod # -15% prod eff
			duration = 9125
		}
	}
	
	option = {
		name = blood_lotus_rebellion.200.b
		blood_lotus_hardline_stance_change = { neutral = 5 }
		
		add_country_modifier = {
			name = blood_lotus_rebellion_tax_office_shortage_mod # -15% tax
			duration = 9125
		}
	}
	
	option = {
		name = blood_lotus_rebellion.200.c
		blood_lotus_hardline_stance_change = { humanhardline = 5 }
		
		add_country_modifier = {
			name = blood_lotus_rebellion_closed_commerce_chamber_mod # -15% trade eff
			duration = 9125
		}
	}
}

country_event = { # 201 DONE - One Time Military
	id = blood_lotus_rebellion.201
	title = blood_lotus_rebellion.201.t
	desc = blood_lotus_rebellion.201.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { has_country_flag = blood_lotus_military }
	}
	
	immediate = {
		set_country_flag = blood_lotus_military
	}
	
	option = {
		name = blood_lotus_rebellion.201.a
		blood_lotus_hardline_stance_change = { harimarihardline = 5 }
		
		add_country_modifier = {
			name = blood_lotus_rebellion_rampant_desertions_mod # -15% manpower
			duration = 9125
		}
	}
	
	option = {
		name = blood_lotus_rebellion.201.b
		blood_lotus_hardline_stance_change = { neutral = 5 }
		
		add_country_modifier = {
			name = blood_lotus_rebellion_all_war_and_no_fun_mod # -10% morale
			duration = 9125
		}
	}
	
	option = {
		name = blood_lotus_rebellion.201.c
		blood_lotus_hardline_stance_change = { humanhardline = 5 }
		
		add_country_modifier = {
			name = blood_lotus_rebellion_unpaid_officiers_mod # -5% disc
			duration = 9125
		}
	}
}

country_event = { # 202 DONE
	id = blood_lotus_rebellion.202
	title = blood_lotus_rebellion.202.t
	desc = blood_lotus_rebellion.202.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = target_province
			}
		}
	}
	
	option = {
		name = blood_lotus_rebellion.202.a
		blood_lotus_hardline_stance_change = { harimarihardline = 3 }
		
		event_target:target_province = {
			spawn_rebels = {
				type = blood_lotus_rebel
				size = 2
			}
			spawn_rebels = {
				type = blood_lotus_rebel
				size = 2
			}
		}
		
		blood_lotus_sympathizers_spreads = yes
	}
	
	option = {
		name = blood_lotus_rebellion.202.b
		blood_lotus_hardline_stance_change = { neutral = 3 }
		
		event_target:target_province = {
			add_province_modifier = {
				name = blood_lotus_rebellion_peasant_concessions_mod # -50% local prod eff
				duration = 3650
			}
		}
	}
	
	option = {
		name = blood_lotus_rebellion.202.c
		blood_lotus_hardline_stance_change = { humanhardline = 3 }
		
		event_target:target_province = {
			add_local_autonomy = 25
		}
	}
}

country_event = { # 203 DONE
	id = blood_lotus_rebellion.203
	title = blood_lotus_rebellion.203.t
	desc = blood_lotus_rebellion.203.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = target_province
			}
		}
	}
	
	option = {
		name = blood_lotus_rebellion.203.a
		blood_lotus_hardline_stance_change = { harimarihardline = 3 }
		
		event_target:target_province = {
			add_local_autonomy = 25
		}
	}
	
	option = {
		name = blood_lotus_rebellion.203.b
		blood_lotus_hardline_stance_change = { neutral = 3 }
		
		event_target:target_province = {
			spawn_rebels = {
				type = blood_lotus_rebel
				size = 2
			}
			spawn_rebels = {
				type = blood_lotus_rebel
				size = 2
			}
		}
		
		blood_lotus_sympathizers_spreads = yes
	}
	
	option = {
		name = blood_lotus_rebellion.203.c
		blood_lotus_hardline_stance_change = { humanhardline = 3 }
		
		add_years_of_income = -0.1
	}
}

country_event = { # 204 DONE
	id = blood_lotus_rebellion.204
	title = blood_lotus_rebellion.204.t
	desc = blood_lotus_rebellion.204.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = target_province
			}
		}
	}
	
	option = {
		name = blood_lotus_rebellion.204.a
		blood_lotus_hardline_stance_change = { harimarihardline = 3 }
		
		add_legitimacy = -10
		
		blood_lotus_rebellion_spawns = yes
	}
	
	option = {
		name = blood_lotus_rebellion.204.b
		blood_lotus_hardline_stance_change = { neutral = 3 }
		
		event_target:target_province = {
			add_local_autonomy = 25
		}
	}
	
	option = {
		name = blood_lotus_rebellion.204.c
		blood_lotus_hardline_stance_change = { humanhardline = 3 }
		
		event_target:target_province = {
			spawn_rebels = {
				type = blood_lotus_rebel # THIS SHOULD BE HARIMARI HARDLINE REBELS ?
				size = 2
			}
			spawn_rebels = {
				type = blood_lotus_rebel # THIS SHOULD BE HARIMARI HARDLINE REBELS ?
				size = 2
			}
		}
	}
}

country_event = { # 205 DONE
	id = blood_lotus_rebellion.205
	title = blood_lotus_rebellion.205.t
	desc = blood_lotus_rebellion.205.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = target_province
			}
		}
	}
	
	option = {
		name = blood_lotus_rebellion.205.a
		blood_lotus_hardline_stance_change = { harimarihardline = 3 }
		
		event_target:target_province = {
			spawn_rebels = {
				type = blood_lotus_rebel
				size = 2
			}
			spawn_rebels = {
				type = blood_lotus_rebel
				size = 2
			}
		}
		
		blood_lotus_sympathizers_spreads = yes
	}
	
	option = {
		name = blood_lotus_rebellion.205.b
		blood_lotus_hardline_stance_change = { neutral = 3 }
		
		add_yearly_manpower = -0.2
	}
	
	option = {
		name = blood_lotus_rebellion.205.c
		blood_lotus_hardline_stance_change = { humanhardline = 3 }
		
		add_years_of_income = -0.1
		add_adm_power = -25
	}
}

country_event = { # 206 DONE
	id = blood_lotus_rebellion.206
	title = blood_lotus_rebellion.206.t
	desc = blood_lotus_rebellion.206.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				save_event_target_as = target_province_1
			}
			random_owned_province = {
				save_event_target_as = target_province_2
			}
		}
	}
	
	option = {
		name = blood_lotus_rebellion.206.a
		blood_lotus_hardline_stance_change = { harimarihardline = 3 }
		
		add_yearly_manpower = -0.1
		
		blood_lotus_sympathizers_spreads = yes
		blood_lotus_rebellion_spreads = yes
	}
	
	option = {
		name = blood_lotus_rebellion.206.b
		blood_lotus_hardline_stance_change = { neutral = 3 }
		
		event_target:target_province_1 = {
			spawn_rebels = {
				type = blood_lotus_rebel
				size = 2
			}
		}
		event_target:target_province_2 = {
			spawn_rebels = {
				type = blood_lotus_rebel
				size = 2
			}
		}
		
		blood_lotus_rebellion_spawns = yes
		blood_lotus_rebellion_spawns = yes
	}
	
	option = {
		name = blood_lotus_rebellion.206.c
		blood_lotus_hardline_stance_change = { humanhardline = 3 }
		
		add_yearly_manpower = -0.1
		add_prestige = -10
	}
}

country_event = { # 207 DONE
	id = blood_lotus_rebellion.207
	title = blood_lotus_rebellion.207.t
	desc = blood_lotus_rebellion.207.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		any_owned_province = {
			province_with_uppercastes_goods = yes
		}
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = { province_with_uppercastes_goods = yes }
				save_event_target_as = target_province
			}
		}
	}
	
	option = {
		name = blood_lotus_rebellion.207.a
		blood_lotus_hardline_stance_change = { harimarihardline = 3 }
		
		event_target:target_province = {
			add_province_modifier = {
				name = blood_lotus_rebellion_harimari_stripped_of_rank_mod # -50% local prod eff
				duration = 3650
			}
		}
		
		blood_lotus_rebellion_spawns_hidden = yes
	}
	
	option = {
		name = blood_lotus_rebellion.207.b
		blood_lotus_hardline_stance_change = { neutral = 3 }
		
		add_country_modifier = {
			name = blood_lotus_rebellion_arbitrary_rule_mod # -1 dip rep
			duration = 3650
		}
		
		blood_lotus_new_sympathizers = yes
	}
	
	option = {
		name = blood_lotus_rebellion.207.c
		blood_lotus_hardline_stance_change = { humanhardline = 3 }
		
		add_legitimacy = -10
		
		blood_lotus_rebellion_spawns = yes
	}
}

country_event = { # 208 DONE
	id = blood_lotus_rebellion.208
	title = blood_lotus_rebellion.208.t
	desc = blood_lotus_rebellion.208.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = { has_fort_building_trigger = yes }
				save_event_target_as = target_province
			}
		}
	}
	
	option = {
		name = blood_lotus_rebellion.208.a
		blood_lotus_hardline_stance_change = { harimarihardline = 3 }
		
		event_target:target_province = {
			add_province_modifier = {
				name = blood_lotus_rebellion_damaged_fortifications_mod # -25% local defensiveness -10% recruitment time
				duration = 3650
			}
		}
		
		if = {
			limit = { employed_advisor = { category = mil } }
			remove_advisor_by_category = mil
		}
	}
	
	option = {
		name = blood_lotus_rebellion.208.b
		blood_lotus_hardline_stance_change = { neutral = 3 }
		
		event_target:target_province = {
			add_province_modifier = {
				name = blood_lotus_rebellion_sabotaged_fortifications_mod # -50% local defensiveness
				duration = 3650
			}
		}
	}
	
	option = {
		name = blood_lotus_rebellion.208.c
		blood_lotus_hardline_stance_change = { humanhardline = 3 }
		
		event_target:target_province = {
			add_province_modifier = {
				name = blood_lotus_rebellion_repairing_fortifications_mod # -10% local defensiveness -10% local prod eff
				duration = 3650
			}
		}
	}
}

country_event = { # 209 DONE
	id = blood_lotus_rebellion.209
	title = blood_lotus_rebellion.209.t
	desc = blood_lotus_rebellion.209.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		caste_fluidity_is_fluid = yes
	}
	
	option = {
		name = blood_lotus_rebellion.209.a
		blood_lotus_hardline_stance_change = { harimarihardline = 3 }
		
		kill_ruler = yes
		
		blood_lotus_rebellion_spawns = yes
		blood_lotus_rebellion_spawns = yes
		blood_lotus_new_sympathizers = yes
		blood_lotus_new_sympathizers = yes
	}
	
	option = {
		name = blood_lotus_rebellion.209.b
		blood_lotus_hardline_stance_change = { neutral = 3 }
		
		add_legitimacy = -30
		
		blood_lotus_new_sympathizers = yes
		blood_lotus_new_sympathizers = yes
		blood_lotus_new_sympathizers = yes
		blood_lotus_new_sympathizers = yes
	}
	
	option = {
		name = blood_lotus_rebellion.209.c
		blood_lotus_hardline_stance_change = { humanhardline = 3 }
		
		add_stability = -1
		random_owned_province = {
			spawn_rebels = {
				type = blood_lotus_rebel # THIS SHOULD BE HARIMARI HARDLINE REBELS ?
				size = 2
			}
			spawn_rebels = {
				type = blood_lotus_rebel # THIS SHOULD BE HARIMARI HARDLINE REBELS ?
				size = 2
			}
		}
		random_owned_province = {
			spawn_rebels = {
				type = blood_lotus_rebel # THIS SHOULD BE HARIMARI HARDLINE REBELS ?
				size = 2
			}
			spawn_rebels = {
				type = blood_lotus_rebel # THIS SHOULD BE HARIMARI HARDLINE REBELS ?
				size = 2
			}
		}
	}
}

# country_event = { # 210 DENIED
	# id = blood_lotus_rebellion.210
	# title = blood_lotus_rebellion.210.t
	# desc = blood_lotus_rebellion.210.d
	# picture = EMPTY_eventPicture
	
	# is_triggered_only = yes
	
	# trigger = {
		# always = yes
	# }
	
	# option = {
		# name = blood_lotus_rebellion.210.a
		# blood_lotus_hardline_stance_change = { harimarihardline = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.210.b
		# blood_lotus_hardline_stance_change = { neutral = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.210.c
		# blood_lotus_hardline_stance_change = { humanhardline = 3 }
	# }
# }

# country_event = { # 211 DENIED
	# id = blood_lotus_rebellion.211
	# title = blood_lotus_rebellion.211.t
	# desc = blood_lotus_rebellion.211.d
	# picture = EMPTY_eventPicture
	
	# is_triggered_only = yes
	
	# trigger = {
		# always = yes
	# }
	
	# option = {
		# name = blood_lotus_rebellion.211.a
		# blood_lotus_hardline_stance_change = { harimarihardline = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.211.b
		# blood_lotus_hardline_stance_change = { neutral = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.211.c
		# blood_lotus_hardline_stance_change = { humanhardline = 3 }
	# }
# }

# country_event = { # 212
	# id = blood_lotus_rebellion.212
	# title = blood_lotus_rebellion.212.t
	# desc = blood_lotus_rebellion.212.d
	# picture = EMPTY_eventPicture
	
	# is_triggered_only = yes
	
	# trigger = {
		# always = yes
	# }
	
	# option = {
		# name = blood_lotus_rebellion.212.a
		# blood_lotus_hardline_stance_change = { harimarihardline = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.212.b
		# blood_lotus_hardline_stance_change = { neutral = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.212.c
		# blood_lotus_hardline_stance_change = { humanhardline = 3 }
	# }
# }

# country_event = { # 213
	# id = blood_lotus_rebellion.213
	# title = blood_lotus_rebellion.213.t
	# desc = blood_lotus_rebellion.213.d
	# picture = EMPTY_eventPicture
	
	# is_triggered_only = yes
	
	# trigger = {
		# always = yes
	# }
	
	# option = {
		# name = blood_lotus_rebellion.213.a
		# blood_lotus_hardline_stance_change = { harimarihardline = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.213.b
		# blood_lotus_hardline_stance_change = { neutral = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.213.c
		# blood_lotus_hardline_stance_change = { humanhardline = 3 }
	# }
# }

# country_event = { # 214
	# id = blood_lotus_rebellion.214
	# title = blood_lotus_rebellion.214.t
	# desc = blood_lotus_rebellion.214.d
	# picture = EMPTY_eventPicture
	
	# is_triggered_only = yes
	
	# trigger = {
		# always = yes
	# }
	
	# option = {
		# name = blood_lotus_rebellion.214.a
		# blood_lotus_hardline_stance_change = { harimarihardline = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.214.b
		# blood_lotus_hardline_stance_change = { neutral = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.214.c
		# blood_lotus_hardline_stance_change = { humanhardline = 3 }
	# }
# }

# country_event = { # 215
	# id = blood_lotus_rebellion.215
	# title = blood_lotus_rebellion.215.t
	# desc = blood_lotus_rebellion.215.d
	# picture = EMPTY_eventPicture
	
	# is_triggered_only = yes
	
	# trigger = {
		# always = yes
	# }
	
	# option = {
		# name = blood_lotus_rebellion.215.a
		# blood_lotus_hardline_stance_change = { harimarihardline = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.215.b
		# blood_lotus_hardline_stance_change = { neutral = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.215.c
		# blood_lotus_hardline_stance_change = { humanhardline = 3 }
	# }
# }

# country_event = { # 216
	# id = blood_lotus_rebellion.216
	# title = blood_lotus_rebellion.216.t
	# desc = blood_lotus_rebellion.216.d
	# picture = EMPTY_eventPicture
	
	# is_triggered_only = yes
	
	# trigger = {
		# always = yes
	# }
	
	# option = {
		# name = blood_lotus_rebellion.216.a
		# blood_lotus_hardline_stance_change = { harimarihardline = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.216.b
		# blood_lotus_hardline_stance_change = { neutral = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.216.c
		# blood_lotus_hardline_stance_change = { humanhardline = 3 }
	# }
# }

# country_event = { # 217
	# id = blood_lotus_rebellion.217
	# title = blood_lotus_rebellion.217.t
	# desc = blood_lotus_rebellion.217.d
	# picture = EMPTY_eventPicture
	
	# is_triggered_only = yes
	
	# trigger = {
		# always = yes
	# }
	
	# option = {
		# name = blood_lotus_rebellion.217.a
		# blood_lotus_hardline_stance_change = { harimarihardline = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.217.b
		# blood_lotus_hardline_stance_change = { neutral = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.217.c
		# blood_lotus_hardline_stance_change = { humanhardline = 3 }
	# }
# }

# country_event = { # 218 DENIED
	# id = blood_lotus_rebellion.218
	# title = blood_lotus_rebellion.218.t
	# desc = blood_lotus_rebellion.218.d
	# picture = EMPTY_eventPicture
	
	# is_triggered_only = yes
	
	# trigger = {
		# always = yes
	# }
	
	# immediate = {
		# random_owned_province = {
			# limit = {
				# province_with_uppercastes_goods = yes
			# }
			# save_event_target_as = target_province
		# }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.218.a
		# blood_lotus_hardline_stance_change = { harimarihardline = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.218.b
		# blood_lotus_hardline_stance_change = { neutral = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.218.c
		# blood_lotus_hardline_stance_change = { humanhardline = 3 }
	# }
# }

country_event = { # 219 DONE
	id = blood_lotus_rebellion.219
	title = blood_lotus_rebellion.219.t
	desc = blood_lotus_rebellion.219.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		hidden_effect = {
			random_neighbor_country = {
				save_event_target_as = target_country
			}
		}
	}
	
	option = {
		name = blood_lotus_rebellion.219.a
		blood_lotus_hardline_stance_change = { harimarihardline = 3 }
		
		add_country_modifier = {
			name = blood_lotus_rebellion_angered_neighbor_mod # -1 diplo rep +1 prestige
			duration = 3650
		}
		add_opinion = {
			who = event_target:target_country
			modifier = blood_lotus_rebellion_angered_by_refusal
		}
	}
	
	option = {
		name = blood_lotus_rebellion.219.b
		blood_lotus_hardline_stance_change = { neutral = 3 }
		
		add_country_modifier = {
			name = blood_lotus_rebellion_lies_of_state_mod # -10% opinion mod
			duration = 1825
		}
		add_opinion = {
			who = event_target:target_country
			modifier = blood_lotus_rebellion_not_impressed
		}
	}
	
	option = {
		name = blood_lotus_rebellion.219.c
		blood_lotus_hardline_stance_change = { humanhardline = 3 }
		
		add_years_of_income = -0.25
		add_country_modifier = {
			name = blood_lotus_rebellion_upholding_relations_mod # +1 diplo rep
			duration = 3650
		}
		add_opinion = {
			who = event_target:target_country
			modifier = blood_lotus_rebellion_appeased
		}
	}
}

country_event = { # 220 DONE
	id = blood_lotus_rebellion.220
	title = blood_lotus_rebellion.220.t
	desc = blood_lotus_rebellion.220.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	option = {
		name = blood_lotus_rebellion.220.a
		blood_lotus_hardline_stance_change = { harimarihardline = 3 }
		
		add_country_modifier = {
			name = blood_lotus_rebellion_rule_by_fear_mod # -3 unrest
			duration = 3650
		}
		
		blood_lotus_sympathizers_spreads = yes
	}
	
	option = {
		name = blood_lotus_rebellion.220.b
		blood_lotus_hardline_stance_change = { neutral = 3 }
		
		add_country_modifier = {
			name = blood_lotus_rebellion_rule_of_law_upheld_mod # +1 prestige
			duration = 3650
		}
	}
	
	option = {
		name = blood_lotus_rebellion.220.c
		blood_lotus_hardline_stance_change = { humanhardline = 3 }
		
		add_prestige = -20
		create_general = { tradition = 20 }
	}
}

country_event = { # 221 DONE
	id = blood_lotus_rebellion.221
	title = blood_lotus_rebellion.221.t
	desc = blood_lotus_rebellion.221.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	option = {
		name = blood_lotus_rebellion.221.a
		blood_lotus_hardline_stance_change = { harimarihardline = 3 }
		
		add_yearly_manpower = -0.25
		blood_lotus_new_sympathizers = yes
	}
	
	option = {
		name = blood_lotus_rebellion.221.b
		blood_lotus_hardline_stance_change = { neutral = 3 }
		
		add_yearly_manpower = -0.10
		blood_lotus_rebellion_spawns = yes
	}
	
	option = {
		name = blood_lotus_rebellion.221.c
		blood_lotus_hardline_stance_change = { humanhardline = 3 }
		
		add_country_modifier = {
			name = blood_lotus_rebellion_disobeying_soldiers_mod # -2.5% morale
			duration = 3650
		}
		blood_lotus_rebellion_spawns_hidden = yes
	}
}

country_event = { # 222 DONE
	id = blood_lotus_rebellion.222
	title = blood_lotus_rebellion.222.t
	desc = blood_lotus_rebellion.222.d
	picture = EMPTY_eventPicture
	
	trigger = {
		NOT = { has_country_flag = blood_lotus_war_room_blown }
	}
	
	immediate = {
		set_country_flag = blood_lotus_war_room_blown
	}
	
	option = {
		name = blood_lotus_rebellion.222.a
		blood_lotus_hardline_stance_change = { harimarihardline = 3 }
		
		add_years_of_income = 0.5
		create_general = { tradition = 40 }
	}
	
	option = {
		name = blood_lotus_rebellion.222.b
		blood_lotus_hardline_stance_change = { neutral = 3 }
		
		add_stability = -1
	}
	
	option = {
		name = blood_lotus_rebellion.222.c
		blood_lotus_hardline_stance_change = { humanhardline = 3 }
		
		create_general = { tradition = 20 }
	}
}

country_event = { # 223 DONE
	id = blood_lotus_rebellion.223
	title = blood_lotus_rebellion.223.t
	desc = blood_lotus_rebellion.223.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		any_neighbor_country = {
			NOT = { has_country_flag = blood_lotus_closed_borders }
		}
	}
	
	immediate = {
		hidden_effect = {
			random_neighbor_country = {
				limit = { NOT = { has_country_flag = blood_lotus_closed_borders } }
				set_country_flag = blood_lotus_closed_borders
				save_event_target_as = target_country
			}
		}
	}
	
	option = {
		name = blood_lotus_rebellion.223.a
		blood_lotus_hardline_stance_change = { harimarihardline = 3 }
		
		add_opinion = {
			who = event_target:target_country
			modifier = blood_lotus_rebellion_closed_borders
		}
		
		every_owned_province = {
			limit = {
				any_neighbor_province = {
					owned_by = event_target:target_country
				}
			}
			add_province_modifier = {
				name = blood_lotus_rebellion_closed_borders_mod # +1 local unrest -20% trade power
				duration = 3650
			}
		}
	}
	
	option = { # Try negotiating
		name = blood_lotus_rebellion.223.b
		blood_lotus_hardline_stance_change = { neutral = 3 }
		
		event_target:target_country = {
			country_event = { id = blood_lotus_rebellion.224 days = 15 }
		}
	}
	
	option = {
		name = blood_lotus_rebellion.223.c
		blood_lotus_hardline_stance_change = { humanhardline = 3 }
		every_owned_province = {
			limit = {
				any_neighbor_province = {
					owned_by = event_target:target_country
				}
			}
			add_province_modifier = {
				name = blood_lotus_rebellion_set_up_border_camps_mod # -5 local unrest
				duration = 3650
			}
		}
	}
}

country_event = { # 224 DONE # negotiation
	id = blood_lotus_rebellion.224
	title = blood_lotus_rebellion.224.t
	desc = blood_lotus_rebellion.224.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	after = {
		FROM = { country_event = { id = blood_lotus_rebellion.225 days = 15 } }
	}
	
	option = { # accept
		name = blood_lotus_rebellion.224.a
		
		set_country_flag = blood_lotus_accept
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				has_opinion = {
					who = FROM
					value = 50
				}
			}
			modifier = {
				factor = 2
				has_opinion = {
					who = FROM
					value = 100
				}
			}
		}
	}
	
	option = { # accept partially
		name = blood_lotus_rebellion.224.b
		
		set_country_flag = blood_lotus_partially_accept
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				has_opinion = {
					who = FROM
					value = 0
				}
				NOT = {
					has_opinion = {
						who = FROM
						value = 50
					}
				}
			}
		}
	}
	
	option = { # refused
		name = blood_lotus_rebellion.224.c
		
		set_country_flag = blood_lotus_refuses
		
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				NOT = {
					has_opinion = {
						who = FROM
						value = 0
					}
				}
			}
			modifier = {
				factor = 2
				NOT = {
					has_opinion = {
						who = FROM
						value = 50
					}
				}
			}
			modifier = {
				factor = 2
				is_rival = FROM
			}
		}
	}
}

country_event = { # 225 DONE # answer from neighbour
	id = blood_lotus_rebellion.225
	title = blood_lotus_rebellion.225.t
	desc = {
		trigger = { FROM = { has_country_flag = blood_lotus_accept } }
		desc = blood_lotus_rebellion.225.d1
	}
	desc = {
		trigger = { FROM = { has_country_flag = blood_lotus_partially_accept } }
		desc = blood_lotus_rebellion.225.d2
	}
	desc = {
		trigger = { FROM = { has_country_flag = blood_lotus_refuses } }
		desc = blood_lotus_rebellion.225.d3
	}
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	option = { # they accepted
		name = blood_lotus_rebellion.225.a
		trigger = { FROM = { has_country_flag = blood_lotus_accept } }
		hidden_effect = { FROM = { clr_country_flag = blood_lotus_accept } }
		
		add_opinion = {
			who = FROM
			modifier = blood_lotus_rebellion_opened_borders
		}
		
		every_owned_province = {
			limit = {
				any_neighbor_province = {
					owned_by = FROM
				}
			}
			add_province_modifier = {
				name = blood_lotus_rebellion_borders_kept_open_mod # -1 local unrest
				duration = 3650
			}
		}
	}
	
	option = { # they partially accepted
		name = blood_lotus_rebellion.225.b
		trigger = { FROM = { has_country_flag = blood_lotus_partially_accept } }
		hidden_effect = { FROM = { clr_country_flag = blood_lotus_partially_accept } }
		
		every_owned_province = {
			limit = {
				any_neighbor_province = {
					owned_by = FROM
				}
			}
			add_province_modifier = {
				name = blood_lotus_rebellion_limited_trade_mod # +1 local unrest
				duration = 3650
			}
		}
	}
	
	option = { # they refused
		name = blood_lotus_rebellion.225.c
		trigger = { FROM = { has_country_flag = blood_lotus_refuses } }
		hidden_effect = { FROM = { clr_country_flag = blood_lotus_refuses } }
		
		add_opinion = {
			who = FROM
			modifier = blood_lotus_rebellion_kept_closed_borders
		}
		
		every_owned_province = {
			limit = {
				any_neighbor_province = {
					owned_by = FROM
				}
			}
			add_province_modifier = {
				name = blood_lotus_rebellion_closed_borders_mod # +1 local unrest -20% trade power
				duration = 3650
			}
		}
	}
}

country_event = { # 226 DONE
	id = blood_lotus_rebellion.226
	title = blood_lotus_rebellion.226.t
	desc = blood_lotus_rebellion.226.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { has_country_flag = blood_lotus_pessimism }
	}
	
	immediate = {
		set_country_flag = blood_lotus_pessimism
	}
	
	option = {
		name = blood_lotus_rebellion.226.a
		blood_lotus_hardline_stance_change = { harimarihardline = 3 }
		
		kill_leader = {
			type = general
		}
		add_prestige = 5
	}
	
	option = {
		name = blood_lotus_rebellion.226.b
		blood_lotus_hardline_stance_change = { neutral = 3 }
		
		add_prestige = -10
	}
	
	option = {
		name = blood_lotus_rebellion.226.c
		blood_lotus_hardline_stance_change = { humanhardline = 3 }
		
		add_country_modifier = {
			name = blood_lotus_rebellion_demoralised_troops_mod # -5% morale -2 unrest
			duration = 3650
		}
	}
}

country_event = { # 227 DONE
	id = blood_lotus_rebellion.227
	title = blood_lotus_rebellion.227.t
	desc = blood_lotus_rebellion.227.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		any_owned_province = {
			OR = {
				has_hobgoblin_minority_trigger = yes
				has_dwarven_minority_trigger = yes
				has_elven_minority_trigger = yes
				has_halfling_minority_trigger = yes
			}
		}
	}
	
	option = {
		name = blood_lotus_rebellion.227.a
		blood_lotus_hardline_stance_change = { harimarihardline = 3 }
		
		every_owned_province = {
			limit = {
				OR = {
					has_hobgoblin_minority_trigger = yes
					has_dwarven_minority_trigger = yes
					has_elven_minority_trigger = yes
					has_halfling_minority_trigger = yes
				}
			}
			add_local_autonomy = 15
		}
	}
	
	option = {
		name = blood_lotus_rebellion.227.b
		blood_lotus_hardline_stance_change = { neutral = 3 }
		
		add_country_modifier = {
			name = blood_lotus_rebellion_status_quo_guaranteed_mod # -2 unrest
			duration = 3650
		}
	}
	
	option = {
		name = blood_lotus_rebellion.227.c
		blood_lotus_hardline_stance_change = { humanhardline = 3 }
		
		change_government_reform_progress = 50
	}
}

# country_event = { # 228
	# id = blood_lotus_rebellion.228
	# title = blood_lotus_rebellion.228.t
	# desc = blood_lotus_rebellion.228.d
	# picture = EMPTY_eventPicture
	
	# is_triggered_only = yes
	
	# trigger = {
		# has_country_modifier = rival_supports_blood_lotus
	# }
	
	# option = {
		# name = blood_lotus_rebellion.228.a
		# blood_lotus_hardline_stance_change = { harimarihardline = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.228.b
		# blood_lotus_hardline_stance_change = { neutral = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.228.c
		# blood_lotus_hardline_stance_change = { humanhardline = 3 }
	# }
# }

# country_event = { # 229
	# id = blood_lotus_rebellion.229
	# title = blood_lotus_rebellion.229.t
	# desc = blood_lotus_rebellion.229.d
	# picture = EMPTY_eventPicture
	
	# is_triggered_only = yes
	
	# trigger = {
		# always = yes
	# }
	
	# option = {
		# name = blood_lotus_rebellion.229.a
		# blood_lotus_hardline_stance_change = { harimarihardline = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.229.b
		# blood_lotus_hardline_stance_change = { neutral = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.229.c
		# blood_lotus_hardline_stance_change = { humanhardline = 3 }
	# }
# }

# country_event = { # 230
	# id = blood_lotus_rebellion.230
	# title = blood_lotus_rebellion.230.t
	# desc = blood_lotus_rebellion.230.d
	# picture = EMPTY_eventPicture
	
	# is_triggered_only = yes
	
	# trigger = {
		# always = yes
	# }
	
	# option = {
		# name = blood_lotus_rebellion.230.a
		# blood_lotus_hardline_stance_change = { harimarihardline = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.230.b
		# blood_lotus_hardline_stance_change = { neutral = 3 }
	# }
	
	# option = {
		# name = blood_lotus_rebellion.230.c
		# blood_lotus_hardline_stance_change = { humanhardline = 3 }
	# }
# }

