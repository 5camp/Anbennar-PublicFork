namespace = flavor_azjakuma

country_event = {
	id = flavor_azjakuma.1
	title = flavor_azjakuma.1.t
	desc = flavor_azjakuma.1.d
	picture = CITY_VIEW_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = Y01
		NOT = { has_country_flag = oni_human_tolerance_setup }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	hidden = yes
	
	option = {		
		name = flavor_azjakuma.1.a
		ai_chance = { factor = 30 }	
		change_variable = {
			which = human_race_tolerance
			value = 50
		}
		set_country_flag = oni_human_tolerance_setup
		set_country_flag = oni_birb_rejection_setup #setup for MT 
	}
}

country_event = {
	id =  flavor_azjakuma.2
	title =  flavor_azjakuma.1.t
	desc =  flavor_azjakuma.1.d
	picture = WAR_OF_THE_ROSES_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		tag = Y01
		always = yes
	}
	
	option = {
		name = flavor_azjakuma.1.a
		ai_chance = { factor = 100 }
		Y01 = {
			add_opinion = { who = Y89 modifier = loyal_servants }
			reverse_add_opinion = { who = Y89 modifier = noble_oni }
		}
	}
}

country_event = {
	id = flavor_azjakuma.3
	title =  flavor_azjakuma.1.t
	desc =  flavor_azjakuma.1.d
	picture = WAR_OF_THE_ROSES_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	hidden = yes
	
	trigger = {
		tag = Y01
		always = yes
	}
	
	option = {
		name = flavor_azjakuma.1.a
		ai_chance = { factor = 100 }
		Y01 = {
			add_faction_influence = {
				faction = oni_highest_fire
				influence = 35
			}
			add_faction_influence = {
				faction = oni_silent_mist
				influence = 25
			}
			add_faction_influence = {
				faction = oni_bright_claw
				influence = 30
			}
			add_faction_influence = {
				faction = oni_golden_gates
				influence = 20
			}
		}
	}
}

country_event = {
	id = flavor_azjakuma.4
	title =  flavor_azjakuma.4.t
	desc =  flavor_azjakuma.4.d
	picture = ELECTION_REPUBLICAN_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_reform = tagharoghi_reform
		NOT = { has_country_flag = in_oni_heir_selection }
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = in_oni_heir_selection
		}
	}
	
	option = {
		name = flavor_azjakuma.4.a
		ai_chance = { factor = 100 }
		trigger = {
			has_faction = oni_highest_fire
		}
		add_adm_power = 75
		define_heir = {
			dynasty = "Aromo"
			age = 40
			claim = 90
			max_random_adm = 5
			max_random_dip = 5
			max_random_mil = 5
		}
		add_faction_influence = {
			faction = oni_highest_fire
			influence = 15
		}
		clr_country_flag = in_oni_heir_selection
	}
	
	option = {
		name = flavor_azjakuma.4.b
		ai_chance = { factor = 100 }
		trigger = {
			has_faction = oni_silent_mist
		}
		add_dip_power = 75
		define_heir = {
			dynasty = "Talshimok"
			age = 30
			claim = 90
			max_random_adm = 4
			max_random_dip = 6
			max_random_mil = 4
		}
		add_faction_influence = {
			faction = oni_silent_mist
			influence = 15
		}
		clr_country_flag = in_oni_heir_selection
	}
	
	option = {
		name = flavor_azjakuma.4.c
		ai_chance = { factor = 100 }
		trigger = {
			has_faction = oni_bright_claw
		}
		add_mil_power = 75
		define_heir = {
			dynasty = "Surgoshi"
			age = 20
			claim = 90
			max_random_adm = 4
			max_random_dip = 4
			max_random_mil = 6
		}
		add_faction_influence = {
			faction = oni_bright_claw
			influence = 15
		}
		clr_country_flag = in_oni_heir_selection
	}
	
	option = {
		name = flavor_azjakuma.4.e
		ai_chance = { factor = 100 }
		trigger = {
			has_faction = oni_golden_gates
		}
		add_years_of_income = 1.25
		define_heir = {
			dynasty = "Moguruld"
			age = 30
			claim = 90
			max_random_adm = 6
			max_random_dip = 4
			max_random_mil = 4
		}
		add_faction_influence = {
			faction = oni_golden_gates
			influence = 15
		}
		clr_country_flag = in_oni_heir_selection
	}
	
	option = {
		name = flavor_azjakuma.4.f
		ai_chance = { factor = 100 }
		trigger = {
			has_faction = oni_cursed_souls
		}
		add_adm_power = 25
		add_dip_power = 25
		add_mil_power = 25
		define_heir = {
			dynasty = "Jishuro"
			age = 30
			claim = 90
			max_random_adm = 6
			max_random_dip = 6
			max_random_mil = 6
		}
		add_faction_influence = {
			faction = oni_cursed_souls
			influence = 15
		}
		clr_country_flag = in_oni_heir_selection
	}
}

country_event = {
	id = flavor_azjakuma.5
	title =  flavor_azjakuma.5.t
	desc =  flavor_azjakuma.5.d
	picture = COUNTRY_COLLAPSE_eventPicture
	
	trigger = {
		tag = Y01
		has_faction = oni_highest_fire
		NOT = { owns_or_subject_of = 5430 }
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = flavor_azjakuma.5.a
		ai_chance = { factor = 100 }
		add_stability = -1
		add_devotion = -10
		remove_faction = oni_highest_fire
	}
}

country_event = {
	id = flavor_azjakuma.6
	title =  flavor_azjakuma.6.t
	desc =  flavor_azjakuma.6.d
	picture = COUNTRY_COLLAPSE_eventPicture
	
	trigger = {
		tag = Y01
		has_faction = oni_silent_mist
		NOT = { owns_or_subject_of = 4831 }
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = flavor_azjakuma.6.a
		ai_chance = { factor = 100 }
		add_stability = -1
		add_devotion = -10
		remove_faction = oni_silent_mist
	}
}

country_event = {
	id = flavor_azjakuma.7
	title =  flavor_azjakuma.7.t
	desc =  flavor_azjakuma.7.d
	picture = COUNTRY_COLLAPSE_eventPicture
	
	trigger = {
		tag = Y01
		NOT = { owns_or_subject_of = 4829 }
		has_faction = oni_bright_claw
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = flavor_azjakuma.7.a
		ai_chance = { factor = 100 }
		add_stability = -1
		add_devotion = -10
		remove_faction = oni_bright_claw
	}
}

country_event = {
	id = flavor_azjakuma.8
	title =  flavor_azjakuma.8.t
	desc =  flavor_azjakuma.8.d
	picture = COUNTRY_COLLAPSE_eventPicture
	
	trigger = {
		tag = Y01
		NOT = { owns_or_subject_of = 4828 }
		has_faction = oni_golden_gates
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = flavor_azjakuma.8.a
		ai_chance = { factor = 100 }
		add_stability = -1
		add_devotion = -10
		remove_faction = oni_golden_gates
	}
}

country_event = {
	id = flavor_azjakuma.9
	title =  flavor_azjakuma.9.t
	desc =  flavor_azjakuma.9.d
	picture = COUNTRY_COLLAPSE_eventPicture
	
	trigger = {
		tag = Y01
		NOT = { owns_or_subject_of = 4848 }
		has_faction = oni_cursed_souls
		has_global_flag = khelorvalshi_restored
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = flavor_azjakuma.9.a
		ai_chance = { factor = 100 }
		add_stability = -1
		add_devotion = -10
		remove_faction = oni_cursed_souls
	}
}

country_event = {
	id = flavor_azjakuma.10
	title =  flavor_azjakuma.10.t
	desc =  flavor_azjakuma.10.d
	picture = COMET_SIGHTED_eventPicture
	
	trigger = {
		tag = Y01
		NOT = { has_faction = oni_highest_fire }
		owns_or_subject_of = 5430
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = flavor_azjakuma.10.a
		ai_chance = { factor = 100 }
		add_stability = 1
		add_devotion = 10
		add_faction = oni_highest_fire
	}
}

country_event = {
	id = flavor_azjakuma.11
	title =  flavor_azjakuma.11.t
	desc =  flavor_azjakuma.11.d
	picture = COMET_SIGHTED_eventPicture
	
	trigger = {
		tag = Y01
		NOT = { has_faction = oni_silent_mist }
		owns_or_subject_of = 4831
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = flavor_azjakuma.10.a
		ai_chance = { factor = 100 }
		add_stability = 1
		add_devotion = 10
		add_faction = oni_silent_mist
	}
}

country_event = {
	id = flavor_azjakuma.12
	title =  flavor_azjakuma.12.t
	desc =  flavor_azjakuma.12.d
	picture = COMET_SIGHTED_eventPicture
	
	trigger = {
		tag = Y01
		NOT = { has_faction = oni_bright_claw }
		owns_or_subject_of = 4829
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = flavor_azjakuma.12.a
		ai_chance = { factor = 100 }
		add_stability = 1
		add_devotion = 10
		add_faction = oni_bright_claw
	}
}

country_event = {
	id = flavor_azjakuma.13
	title =  flavor_azjakuma.13.t
	desc =  flavor_azjakuma.13.d
	picture = COMET_SIGHTED_eventPicture
	
	trigger = {
		tag = Y01
		NOT = { has_faction = oni_golden_gates }
		owns_or_subject_of = 4828
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = flavor_azjakuma.13.a
		ai_chance = { factor = 100 }
		add_stability = 1
		add_devotion = 10
		add_faction = oni_golden_gates
	}
}

country_event = {
	id = flavor_azjakuma.14
	title =  flavor_azjakuma.14.t
	desc =  flavor_azjakuma.14.d
	picture = COMET_SIGHTED_eventPicture
	
	trigger = {
		tag = Y01
		NOT = { has_faction = oni_cursed_souls }
		owns_or_subject_of = 5430
		has_global_flag = khelorvalshi_restored
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = {
		name = flavor_azjakuma.10.a
		ai_chance = { factor = 100 }
		add_stability = 1
		add_devotion = 10
		add_faction = oni_cursed_souls
		hidden_effect = {
			set_global_flag = khelorvalshi_restored
		}
	}
}

#Command Azjakuma truce start
country_event = {
	#send offer or do not
	id = flavor_azjakuma.15
	title = flavor_azjakuma.15.t
	desc = flavor_azjakuma.15.d
	picture = COMET_SIGHTED_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = flavor_azjakuma.15.a #make truce offer
		ai_chance = { factor = 95 }
		R62 = {
			country_event = {
				id = flavor_azjakuma.18
			}
		}
	}
	option = {
		name = flavor_azjakuma.15.b #do not make truce offer
		ai_chance = { factor = 5 }
		add_prestige = 10

		R62 = {
			country_event = {
				id = flavor_azjakuma.19
				days = 365
			}
		}
	}
}

country_event = { #command accepts
	#command accepts
	id = flavor_azjakuma.16
	title = flavor_azjakuma.16.t
	desc = flavor_azjakuma.16.d
	picture = COMET_SIGHTED_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = flavor_azjakuma.16.a
		ai_chance = { factor = 1 }

		tooltip = {
			R62 = {
				add_truce_with = Y01
				add_truce_with = Y89
				add_country_modifier = {
					name = command_oni_siege_magic
					duration = 1825
				}
			}
		}
	}
}

country_event = {#command rejects
	#command demands more
	id = flavor_azjakuma.17
	title = flavor_azjakuma.17.t
	desc = flavor_azjakuma.17.d
	picture = COMET_SIGHTED_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = {
		name = flavor_azjakuma.17.a
		ai_chance = { factor = 30 }
		add_stability = -1
	}
}

country_event = { #Azjakuma Deal initial offer recieved
	id = flavor_azjakuma.18
	title = flavor_azjakuma.18.t
	desc = flavor_azjakuma.18.d
	picture = WESTERNISATION_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = { #accept offer
		name = flavor_azjakuma.18.a
		ai_chance = {
			factor = 100
		}
		
		add_truce_with = Y01
		add_truce_with = Y89
		add_country_modifier = {
			name = command_oni_siege_magic
			duration = 1825
			}
		Y01 = {
			country_event = {
				id = flavor_azjakuma.16
			}
		}
	}
	option = { #reject offer
		name = flavor_azjakuma.18.b
		ai_chance = {
			factor = 0
		}

		Y01 = {
			country_event = {
				id = flavor_azjakuma.17
			}
		}
	}
}

country_event = { #Azjakuma didn't extend offer
	id = flavor_azjakuma.19
	title = flavor_azjakuma.19.t
	desc = flavor_azjakuma.19.d
	picture = WESTERNISATION_eventPicture

	is_triggered_only = yes
	fire_only_once = yes

	option = { 
		name = flavor_azjakuma.19.a
		ai_chance = {
			factor = 1
		}
	}
}
##Command Azjakuma truce end

##Shuvuush Start
country_event = {
	#Shuvuush Reject Oni Rule
	id = flavor_azjakuma.20
	title = flavor_azjakuma.20.t
	desc = flavor_azjakuma.20.d
	picture = COMET_SIGHTED_eventPicture

	trigger = {
		has_country_flag = oni_birb_rejection_setup
	}

	is_triggered_only = yes

	option = {
		name = flavor_azjakuma.20.a
		ai_chance = { factor = 1 }

		every_owned_province = {
			limit = {
				culture = shuvuush
				NOT = {
					has_province_modifier = azjakuma_birb_rejection
				}
			}
			add_permanent_province_modifier = {
				name = azjakuma_birb_rejection
				duration = -1
			} 
		}
	}
}

country_event = {
	#Cautious acceptance
	id = flavor_azjakuma.21
	title = flavor_azjakuma.21.t
	desc = flavor_azjakuma.21.d
	picture = COMET_SIGHTED_eventPicture

	trigger = {
		has_country_flag = oni_birb_caution_setup
	}

	is_triggered_only = yes

	option = {
		name = flavor_azjakuma.20.a
		ai_chance = { factor = 1 }

		every_owned_province = {
			limit = {
				culture = shuvuush
				NOT = {
					has_province_modifier = azjakuma_birb_caution
				}
			}
			add_permanent_province_modifier = {
				name = azjakuma_birb_caution
				duration = -1
			}
		}
	}
}

country_event = {
	#Oni Immigration
	id = flavor_azjakuma.22
	title = flavor_azjakuma.22.t
	desc = flavor_azjakuma.22.d
	picture = COMET_SIGHTED_eventPicture

	is_triggered_only = yes

	option = {
		name = flavor_azjakuma.22.a
		

	}
}

country_event = {
	#Full integration of the Shuvuush
	id = flavor_azjakuma.23
	title = flavor_azjakuma.23.t
	desc = flavor_azjakuma.23.d
	picture = COMET_SIGHTED_eventPicture

	trigger = {
		tag = Y01
		has_country_flag = birb_acceptance_possible
	}

	mean_time_to_happen = {
		months = 120
	}

	option = {
		name = flavor_azjakuma.23
		ai_chance = { factor = 1 }
		hidden_effect = {
			clr_country_flag = oni_birb_caution_setup
			clr_country_flag = oni_birb_acceptance_possible
			set_country_flag = oni_birb_accepted
		}
		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = azjakuma_birb_rejection
					has_province_modifier = azjakuma_birb_caution
				}
			}
			remove_province_modifier = azjakuma_birb_rejection
			remove_province_modifier = azjakuma_birb_caution
		}
	}
}

country_event = {
	#replaces rejection with caution
	id = flavor_azjakuma.24
	title = flavor_azjakuma.24.t
	desc = flavor_azjakuma.24.d
	picture = COMET_SIGHTED_eventPicture

	trigger = {
		tag = Y01
		has_country_flag = oni_birb_caution_setup
		NOT = {
			has_province_modifier = azjakuma_birb_caution
		}
	}

	mean_time_to_happen = {
		months = 1
	}

	option = {
		name = flavor_azjakuma.24
		ai_chance = { factor = 1 }

		every_owned_province = {
			limit = {
				culture = shuvuush
				NOT = {
					has_province_modifier = azjakuma_birb_caution
				}
			}
			add_permanent_province_modifier = {
				name = azjakuma_birb_caution
				duration = -1
			}
			if = {
				limit = {
					has_province_modifier = azjakuma_birb_rejection
				}
				remove_province_modifier = azjakuma_birb_rejection
			}
		}
	}
}

country_event = {
	#removes caution and rejection from provinces not owned by azjakuma
	id = flavor_azjakuma.25
	title = flavor_azjakuma.25.t
	desc = flavor_azjakuma.25.d
	picture = COMET_SIGHTED_eventPicture

	hidden = yes

	trigger = {
		NOT = {
			tag = Y01
		}
		OR = {
			has_province_modifier = azjakuma_birb_rejection
			has_province_modifier = azjakuma_birb_caution
		}
	}

	is_triggered_only = yes
	
	option = {
		name = flavor_azjakuma.25.a
		ai_chance = { factor = 1 }

		every_owned_province = {
			limit = {
				OR = {
					has_province_modifier = azjakuma_birb_rejection
					has_province_modifier = azjakuma_birb_caution
				}
			}
			if = {
				limit = {
					has_province_modifier = azjakuma_birb_rejection
				}
				remove_province_modifier = azjakuma_birb_rejection
			}
			else_if = {
				limit = {
					has_province_modifier = azjakuma_birb_caution
				}
				remove_province_modifier = azjakuma_birb_caution
			}
		}
	}
}
##Shuvuush End

country_event = {
	#The Yuantsai
	id = flavor_azjakuma.26
	title = flavor_azjakuma.26.t
	desc = flavor_azjakuma.26.d
	picture = COMET_SIGHTED_eventPicture

	is_triggered_only = yes

	option = {
		name = flavor_azjakuma24.a
		ai_chance = { factor = 30 }
	}
}

country_event = {
	#The Khelvorashi
	id = flavor_azjakuma.27
	title = flavor_azjakuma.27.t
	desc = flavor_azjakuma.27.d
	picture = COMET_SIGHTED_eventPicture

	is_triggered_only = yes

	option = {
		name = flavor_azjakuma27.a
		ai_chance = { factor = 30 }
	}
}

country_event = {
	#The Knowledge of Khelvorashi
	id = flavor_azjakuma.28
	title = flavor_azjakuma.28.t
	desc = flavor_azjakuma.28.d
	picture = COMET_SIGHTED_eventPicture

	is_triggered_only = yes

	option = {
		name = flavor_azjakuma28.a
		ai_chance = { factor = 30 }
	}
}

country_event = {
	#Meeting of the High Council
	id = flavor_azjakuma.29
	title = flavor_azjakuma.29.t
	desc = flavor_azjakuma.29.d
	picture = COMET_SIGHTED_eventPicture

	is_triggered_only = yes

	option = {
		name = flavor_azjakuma29.a
		ai_chance = { factor = 30 }
	}
}

#country_event = {
#	#Flavor
#	id = flavor_azjakuma.30
#	title = flavor_azjakuma.30.t
#	desc = flavor_azjakuma.30.d
#	picture = COMET_SIGHTED_eventPicture

#country_event = {
#	#Flavor
#	id = flavor_azjakuma.31
#	title = flavor_azjakuma.31.t
#	desc = flavor_azjakuma.31.d
#	picture = COMET_SIGHTED_eventPicture

#country_event = {
#	#Flavor
#	id = flavor_azjakuma.32
#	title = flavor_azjakuma.32.t
#	desc = flavor_azjakuma.32.d
#	picture = COMET_SIGHTED_eventPicture

#country_event = {
#	#Flavor
#	id = flavor_azjakuma.33
#	title = flavor_azjakuma.33.t
#	desc = flavor_azjakuma.33.d
#	picture = COMET_SIGHTED_eventPicture

##Hidden and mission setup events
#country_event = { #NOT USED
#	id = flavor_azjakuma.101
#	title = flavor_azjakuma.101.t
#	desc = flavor_azjakuma.101.d
#	picture = CITY_VIEW_eventPicture
#	
#	fire_only_once = yes
#	is_triggered_only = yes
#	
#	trigger = {
#		tag = Y01
#		accepted_culture = shuvuush
#	}
#	
#	mean_time_to_happen = {
#		days = 1
#	}
#	
#	hidden = yes
#	
#	option = {		
#		name = flavor_azjakuma.101.a
#		ai_chance = { factor = 30 }	
#		set_variable = {
#			which = birb_accepted_count
#			value = 0
#		}
#		if = { #sets event to increment variable each year
#			limit = {
#				NOT = {
#					check_variable = {
#						which = birb_accepted_count
#						value = 10
#					}
#				}
#			}
#			country_event = {
#				id = flavor_azjakuma.102
#				days = 365
#			}
#		}
#	}
#}

#country_event = { ###NOT USED
#	id = flavor_azjakuma.102
#	title = flavor_azjakuma.102.t
#	desc = flavor_azjakuma.102.d
#	picture = CITY_VIEW_eventPicture
#	
#	is_triggered_only = yes
#	hidden = yes
#	
#	option = {		
#		name = flavor_azjakuma.102.a
#		ai_chance = { factor = 30 }	
#		change_variable = { #increments variable by 1 year
#			which = birb_accepted_count
#			value = 1
#		}
#		if = { #if accepted for 10 years, event will no longer occur
#			limit = {
#				NOT = {
#					check_variable = {
#						which = birb_accepted_count
#						value = 10
#					}
#				}
#			}
#			country_event = {
#				id = flavor_azjakuma.102
#				days = 365
#			}
#		}
#		if = { #sets flag that allows for competion of Y01_winning_over_birb
#			limit = {
#				check_variable = {
#					which = birb_accepted_count
#					value = 10
#				}
#			}
#			set_country_flag = birb_accepted_decade
#		}
#	}
#}

country_event = { #allows Y01_winning_over_birb to be completed
	id = flavor_azjakuma.103
	title = flavor_azjakuma.103.t
	desc = flavor_azjakuma.103.d
	picture = CITY_VIEW_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	option = {		
		name = flavor_azjakuma.103.a
		ai_chance = { factor = 30 }	

		set_country_flag = birb_conquered_decade
	}
}


country_event = { #clears unneeded province modifiers to do with shuvuush integration
	id = flavor_azjakuma.105
	title = flavor_azjakuma.105.t
	desc = flavor_azjakuma.105.d
	picture = CITY_VIEW_eventPicture	

}

