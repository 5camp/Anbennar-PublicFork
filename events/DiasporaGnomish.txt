# í <-- This is here to make sure that the encoding stays ANSI, do not remove it
namespace = gnomish_diaspora_events

province_event = { #Failsafe
	id = gnomish_diaspora_events.0
	title = gnomish_diaspora_events.0.t
	desc = gnomish_diaspora_events.0.d
	
	hidden = yes
	
	trigger = {
		any_owned_province = {
			has_any_gnomish_pop_trigger = no
			OR = {
				has_province_modifier = gnomish_institute_diaspora 
				has_province_modifier = aqatbar_gnome_quarter
			}
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	immediate = {
		remove_province_modifier = gnomish_institute_diaspora 
		remove_province_modifier = aqatbar_gnome_quarter
	}
}

province_event = { #Gnomish settlers
	id = gnomish_diaspora_events.1
	title = gnomish_diaspora_events.1.t
	desc = gnomish_diaspora_events.1.d
	picture = EUROPEAN_REFUGEES_eventPicture

	trigger = {
		development = 30
		trade_goods = precursor_relics
		NOT = {
			has_any_gnomish_pop_trigger = yes
		}
		
		owner = {
			NOT = { culture_group = gnomish }
			has_institution = global_trade
		}
	}
	
	mean_time_to_happen = {
		months = 3
	}
	
	option = { #Welcome them
		name = "gnomish_diaspora_events.1.a"
		
		largest_increase_of_gnomish_tolerance_effect = yes
		add_gnomish_minority_size_effect = yes
		
		ai_chance = {
			factor = 75
			modifier = {
				factor = 0
				wants_to_decrease_tolerance_gnomish = yes
			}
		}
	}

	option = { #Refuse them
		name = "gnomish_diaspora_events.1.b"
		
		add_adm_power = 35
		
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				wants_to_increase_tolerance_gnomish = yes
			}
		}
	}
}

province_event = { #Gommo Institute
	id = gnomish_diaspora_events.2
	title = gnomish_diaspora_events.2.d
	desc = gnomish_diaspora_events.2.d
	picture = CITY_DEVELOPMENT_eventPicture
	
	trigger = {
		any_owned_province = {
			owner = {
				NOT = { culture_group = gnomish }
				has_institution = global_trade
			}
			
			has_oppressed_gnomish_minority_trigger = no
			has_any_gnomish_pop_trigger = yes
			
			AND = {
				development = 30
				trade_goods = precursor_relics
			}
		}
	}
	
	mean_time_to_happen = {
		years = 25
	}
	
	option = { #Grant them charter
		name = "gnomish_diaspora_events.2.a"
		
		largest_increase_of_gnomish_tolerance_effect = yes
		add_gnomish_minority_size_effect = yes
		
		add_province_modifier = {
			name = gnomish_institute_diaspora 
			duration = -1
		}
		
		ai_chance = {
			factor = 75
			modifier = {
				factor = 0
				wants_to_decrease_tolerance_gnomish = yes
			}
		}
	}
	
	option = { #Refuse the petition
		name = "gnomish_diaspora_events.2.b"
	
		medium_decrease_of_gnomish_tolerance_effect = yes
		add_mil_power = 50
		
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				wants_to_increase_tolerance_gnomish = yes
			}
		}
	}
}

province_event = { #Gommo Institute in special cities
	id = gnomish_diaspora_events.3
	title = gnomish_diaspora_events.3.d
	desc = gnomish_diaspora_events.3.d
	picture = CITY_DEVELOPMENT_eventPicture
	
	trigger = {
		any_owned_province = {
			owner = {
				NOT = { culture_group = gnomish }
				has_institution = global_trade
			}
			
			has_oppressed_gnomish_minority_trigger = no
			has_any_gnomish_pop_trigger = yes
			
			OR = {	
				province_id = 536
				province_id = 4435
				province_id = 365
			}	
		}
	}
	
	mean_time_to_happen = {
		months = 12
	}
	
	option = { #Grant them charter
		name = "gnomish_diaspora_events.2.a"
		
		largest_increase_of_gnomish_tolerance_effect = yes
		add_gnomish_minority_size_effect = yes
		
		add_province_modifier = {
			name = gnomish_institute_diaspora 
			duration = -1
		}
		
		ai_chance = {
			factor = 75
			modifier = {
				factor = 0
				wants_to_decrease_tolerance_gnomish = yes
			}
		}
	}
	
	option = { #Refuse the petition
		name = "gnomish_diaspora_events.2.b"
	
		medium_decrease_of_gnomish_tolerance_effect = yes
		add_mil_power = 50
		
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				wants_to_increase_tolerance_gnomish = yes
			}
		}
	}
}



province_event = { #Gnomish Street names?
	id = gnomish_diaspora_events.5
	title = gnomish_diaspora_events.5.t
	desc = gnomish_diaspora_events.5.d
	picture = CITY_DEVELOPMENT_eventPicture
	
	trigger = {
		any_owned_province = {
			has_province_modifier = gnomish_institute_diaspora 
		}
		NOT = {
			has_country_flag = gommo_branch_3
		}
	}
	
	mean_time_to_happen = {
		months = 3
	}
	
	immediate = {
		set_country_flag = gommo_branch_3
	}
	
	option = {
		name = "gnomish_diaspora_events.5.a"
	
		medium_increase_of_gnomish_tolerance_effect = yes
	}
	
	option = {
		name = "gnomish_diaspora_events.5.b"
	
		medium_decrease_of_gnomish_tolerance_effect = yes
	}
}

province_event = { #Noise protection ordinance
	id = gnomish_diaspora_events.6
	title = gnomish_diaspora_events.6.t
	desc = gnomish_diaspora_events.6.d
	picture = CITY_DEVELOPMENT_eventPicture
	
	trigger = {
		any_owned_province = {
			has_province_modifier = gnomish_institute_diaspora 
		}
		NOT = {
			has_country_flag = gommo_branch_2
		}
	}
	
	mean_time_to_happen = {
		months = 3
	}
	
	immediate = {
		set_country_flag = gommo_branch_2
	}
	
	option = {
		name = "gnomish_diaspora_events.6.a"
	
		medium_increase_of_gnomish_tolerance_effect = yes
	}
	
	option = {
		name = "gnomish_diaspora_events.6.b"
	
		medium_decrease_of_gnomish_tolerance_effect = yes
	}
}

province_event = { #Steam explosion
	id = gnomish_diaspora_events.7
	title = gnomish_diaspora_events.7.t
	desc = gnomish_diaspora_events.7.d
	picture = CITY_DEVELOPMENT_eventPicture
	
	trigger = {
		any_owned_province = {
			has_province_modifier = gnomish_institute_diaspora 
		}
		NOT = {
			has_country_flag = gommo_branch_1
		}
	}
	
	mean_time_to_happen = {
		months = 3
	}
	
	immediate = {
		set_country_flag = gommo_branch_1
	}

	option = {
		name = "gnomish_diaspora_events.7.a"
	
		medium_increase_of_gnomish_tolerance_effect = yes
	}
	
	option = {
		name = "gnomish_diaspora_events.7.b"
	
		medium_decrease_of_gnomish_tolerance_effect = yes
	}
}

province_event = { #Special quarter in Aqatbar
	id = gnomish_diaspora_events.10
	title = gnomish_diaspora_events.10.d
	desc = gnomish_diaspora_events.10.d
	picture = HOUSE_OF_TRADE_eventPicture
	
	trigger = {	
		any_owned_province = {
			province_id = 536
			has_province_modifier = gnomish_institute_diaspora 
			has_integrated_gnomish_minority_trigger = yes
		}
	}
	
	mean_time_to_happen = {
		months = 12
	}
	
	option = {
		name = "gnomish_diaspora_events.10.a"
		536 = {
			remove_province_modifier = gnomish_institute_diaspora 
			
			add_province_modifier = {
				name = aqatbar_gnome_quarter
				duration = -1
			}
		}
	}
	
	option = { #We don't want them.
		name = "gnomish_diaspora_events.10.a"
		
		medium_decrease_of_gnomish_tolerance_effect = yes
		536 = {
			remove_province_modifier = gnomish_institute_diaspora 
		}
	}
}

province_event = { #Special quarter in Port Jaher
	id = gnomish_diaspora_events.11
	title = gnomish_diaspora_events.11.d
	desc = gnomish_diaspora_events.11.d
	picture = HOUSE_OF_TRADE_eventPicture
	
	trigger = {	
		any_owned_province = {
			province_id = 365
			has_province_modifier = gnomish_institute_diaspora 
			has_integrated_gnomish_minority_trigger = yes
		}
	}
	
	mean_time_to_happen = {
		months = 12
	}
	
	option = {
		name = "gnomish_diaspora_events.11.a"
		365 = {
			remove_province_modifier = gnomish_institute_diaspora 
			
			add_province_modifier = {
				name = port_jaher_gnome_quarter
				duration = -1
			}
		}
	}
	
	option = { #We don't want them.
		name = "gnomish_diaspora_events.11.a"
		
		medium_decrease_of_gnomish_tolerance_effect = yes
		365 = {
			remove_province_modifier = gnomish_institute_diaspora 
		}
	}
}

province_event = { #Special quarter in Port Jaher
	id = gnomish_diaspora_events.12
	title = gnomish_diaspora_events.12.d
	desc = gnomish_diaspora_events.12.d
	picture = HOUSE_OF_TRADE_eventPicture
	
	trigger = {	
		any_owned_province = {
			province_id = 4435
			has_province_modifier = gnomish_institute_diaspora 
			has_integrated_gnomish_minority_trigger = yes
		}
	}
	
	mean_time_to_happen = {
		months = 12
	}
	
	option = {
		name = "gnomish_diaspora_events.12.a"
		4435 = {
			remove_province_modifier = gnomish_institute_diaspora 
			
			add_province_modifier = {
				name = rayavhashapal_gnome_quarter
				duration = -1
			}
		}
	}
	
	option = { #We don't want them.
		name = "gnomish_diaspora_events.12.a"
		
		medium_decrease_of_gnomish_tolerance_effect = yes
		4435 = {
			remove_province_modifier = gnomish_institute_diaspora 
		}
	}
}