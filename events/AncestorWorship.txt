
namespace = ancestor_worship

#1-99 major events
#100+ flavor events




#Discover Krummul
country_event = {
	id = ancestor_worship.1
	title = ancestor_worship.1.t
	desc = ancestor_worship.1.d
	picture = COURT_eventPicture
	
	trigger = {
		religion = ancestor_worship
		NOT = { has_country_flag = ancestor_worship_knows_krummul }
		has_discovered = 4217 #vazumbrog
	}

	mean_time_to_happen = { days = 1825 }

	goto = 4217
	option = {
		name = ancestor_worship.1.a
		add_prestige = 10
		custom_tooltip = ancestor_worship.1.tooltip
		hidden_effect = { set_country_flag = ancestor_worship_knows_krummul }
	}
}

#Discover Balgar
country_event = {
	id = ancestor_worship.2
	title = ancestor_worship.2.t
	desc = ancestor_worship.2.d
	picture = COURT_eventPicture
	
	trigger = {
		religion = ancestor_worship
		NOT = { has_country_flag = ancestor_worship_knows_balgar }
		has_discovered = 831 #south castonath
	}

	mean_time_to_happen = { days = 1825 }

	goto = 831
	option = {
		name = ancestor_worship.2.a
		add_prestige = 10
		custom_tooltip = ancestor_worship.2.tooltip
		hidden_effect = { set_country_flag = ancestor_worship_knows_balgar }
	}
}

#Discover Murri
country_event = {
	id = ancestor_worship.3
	title = ancestor_worship.3.t
	desc = ancestor_worship.3.d
	picture = COURT_eventPicture
	
	trigger = {
		religion = ancestor_worship
		NOT = { has_country_flag = ancestor_worship_knows_murri }
		has_discovered = 2863 #khugdihr
	}

	mean_time_to_happen = { days = 1825 }

	goto = 2863
	option = {
		name = ancestor_worship.3.a
		add_prestige = 10
		custom_tooltip = ancestor_worship.3.tooltip
		hidden_effect = { set_country_flag = ancestor_worship_knows_murri }
	}
}


#New Ancestor
country_event = {
	id = ancestor_worship.10
	title = ancestor_worship.10.t
	desc = ancestor_worship.10.d
	picture = KING_SICK_IN_BED_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
		NOT = {
			months_of_ruling = 12
		}
	}

	option = {	#Put them in the shrines
		name = ancestor_worship.10.1
		ai_chance = {
			factor = 1
		}
		add_years_of_income = -0.3
		add_legitimacy = 5
		add_country_modifier = {
			name = dwarovar_new_ancestor
			duration = 3650
		}
	}

	option = {	#Nah
		name = ancestor_worship.10.2
		ai_chance = {
			factor = 1
		}
		#Nothing
	}
}

#Ancient Knowledge unearthed
country_event = {
	id = ancestor_worship.11
	title = ancestor_worship.11.t
	desc = ancestor_worship.11.d
	picture = ARTWORK_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
		any_owned_province = {
			has_construction = digging_deeper
			NOT = {
				has_province_modifier = dig_5
			}
		}
	}

	option = {	#We were cool back then
		name = ancestor_worship.11.1
		ai_chance = {
			factor = 1
		}
		add_prestige = 10
	}

	option = {	#Why would you ever pick option 1?
		name = ancestor_worship.11.2
		ai_chance = {
			factor = 1
		}
		add_adm_power = 50
	}
}

#Conflicting Records lead to conflict
country_event = {
	id = ancestor_worship.12
	title = ancestor_worship.12.t
	desc = ancestor_worship.12.t
	picture = DEBATE_REPUBLICAN_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
	}

	option = {
		name = ancestor_worship.12.1
		ai_chance = {
			factor = 1
		}
		add_adm_power = 50
	}

	option = {
		name = ancestor_worship.12.2
		ai_chance = {
			factor = 1
		}
		add_estate_influence_modifier = {
			estate = estate_mages
			desc = conflicting_ancestor_records
			influence = -10
			duration = 3650
		}
		add_estate_loyalty = {
			estate = estate_church
			loyalty = -10
		}
	}

	option = {
		trigger = {
			ruler_has_personality = scholar_personality
		}
		name = ancestor_worship.12.3
		ai_chance = {
			factor = 10
		}
		add_prestige = 10
	}
}

#Krummul Stories Inspire Warriors
country_event = {
	id = ancestor_worship.13
	title = ancestor_worship.13.t
	desc = ancestor_worship.13.d
	picture = DISCIPLINED_SOLDIERS_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
		has_country_flag = ancestor_worship_knows_krummul
	}

	option = {
		name = ancestor_worship.13.1
		ai_chance = {
			factor = 1
		}
		add_country_modifier = {
			name = dwarovar_krummul_stories
			duration = 3650
		}
	}

	option = {
		trigger = {
			tag = H78	#Seghdihr
		}
		highlight = yes
		name = ancestor_worship.13.2
		ai_chance = {
			factor = 10
		}
		add_prestige = 10
		add_country_modifier = {
			name = dwarovar_krummul_stories
			duration = 3650
		}
	}
}

#Balgar stories inspire architects
country_event = {
	id = ancestor_worship.14
	title = ancestor_worship.14.t
	desc = ancestor_worship.14.d
	picture = CITY_DEVELOPMENT_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
		has_country_flag = ancestor_worship_knows_balgar
	}

	option = {
		name = ancestor_worship.14.1
		ai_chance = {
			factor = 1
		}
		add_country_modifier = {
			name = dwarovar_balgar_stories
			duration = 3650
		}
	}

	option = {
		trigger = {
			tag = Z36	#Hammerhome
		}
		highlight = yes
		name = ancestor_worship.14.2
		ai_chance = {
			factor = 10
		}
		add_prestige = 10
		add_country_modifier = {
			name = dwarovar_balgar_stories
			duration = 3650
		}
	}
}

#Quila Stories inspire farming
country_event = {
	id = ancestor_worship.15
	title = ancestor_worship.15.t
	desc = ancestor_worship.15.d
	picture = FARMING_eventPicture
	goto = quila_farmers_prov

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
		any_owned_province = {
			OR = {
				trade_goods = livestock
				trade_goods = grain
				trade_goods = fungi
				trade_goods = serpentbloom
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					OR = {
						trade_goods = livestock
						trade_goods = grain
						trade_goods = fungi
						trade_goods = serpentbloom
					}
				}
				save_event_target_as = quila_farmers_prov
			}
		}
	}

	option = {
		name = ancestor_worship.15.1
		ai_chance = {
			factor = 1
		}
		event_target:quila_farmers_prov = {
			add_province_modifier = {
				name = dwarovar_quila_stories
				duration = 3650
			}
		}
	}

	option = {
		trigger = {
			tag = I10	#Hul Jorkad
		}
		highlight = yes
		name = ancestor_worship.15.2
		ai_chance = {
			factor = 10
		}
		add_prestige = 10
		event_target:quila_farmers_prov = {
			add_province_modifier = {
				name = dwarovar_quila_stories
				duration = 3650
			}
		}

	}
}

#Urist Stories inspire spelunkers
country_event = {
	id = ancestor_worship.16
	title = ancestor_worship.16.t
	desc = ancestor_worship.16.d
	picture = MULTI_RACIAL_MERC_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
		any_owned_province = {
			has_province_flag = generated_expedition
		}
	}

	option = {
		name = ancestor_worship.16.1
		ai_chance = {
			factor = 1
		}
		add_country_modifier = {
			name = dwarovar_urist_stories
			duration = 3650
		}
	}

	option = {
		trigger = {
			tag = I18	#Grozumdihr
		}
		highlight = yes
		name = ancestor_worship.16.2
		ai_chance = {
			factor = 10
		}
		add_prestige = 10
		add_country_modifier = {
			name = dwarovar_urist_stories
			duration = 3650
		}
	}
}

#Mellegar stories inspire inventors
country_event = {
	id = ancestor_worship.17
	title = ancestor_worship.17.t
	desc = ancestor_worship.17.d
	picture = ADVISOR_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
	}

	option = {
		name = ancestor_worship.17.1
		ai_chance = {
			factor = 1
		}
		add_innovativeness_small_effect = yes
	}

	option = {
		trigger = {
			OR = {
				tag = I03	#Dur Vazhatun
				tag = I12	#Orlghelovar
			}
		}
		highlight = yes 
		name = ancestor_worship.17.2
		ai_chance = {
			factor = 10
		}
		add_prestige = 10
		add_innovativeness_small_effect = yes
	}
}

#Hehogrim Stories inspire joy
country_event = {
	id = ancestor_worship.18
	title = ancestor_worship.18.t
	desc = ancestor_worship.18.d
	picture = KING_DOING_GREAT_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
	}

	option = {
		name = ancestor_worship.18.1
		ai_chance = {
			factor = 1
		}
		add_country_modifier = {
			name = dwarovar_hehogrim_stories
			duration = 3650
		}
	}

	option = {
		trigger = {
			tag = I15	#Hehodovar
		}
		name = ancestor_worship.18.2
		ai_chance = {
			factor = 10
		}
		add_prestige = 10
		add_country_modifier = {
			name = dwarovar_hehogrim_stories
			duration = 3650
		}
	}
}

#Gimron Stories inspire justice
country_event = {
	id = ancestor_worship.19
	title = ancestor_worship.19.t
	desc = ancestor_worship.19.d
	picture = COURT_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
	}

	option = {
		name = ancestor_worship.19.1
		ai_chance = {
			factor = 1
		}
		add_adm_power = 50
	}

	option = {
		trigger = {
			tag = I01	#Amldihr
		}
		highlight = yes
		name = ancestor_worship.19.2
		ai_chance = {
			factor = 10
		}
		add_prestige = 10
		add_adm_power = 50
	}
}

#Murri Stories inspire adventurers
country_event = {
	id = ancestor_worship.20
	title = ancestor_worship.20.t
	desc = ancestor_worship.20.d
	picture = MULTI_RACIAL_MERC_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
	}

	option = {
		name = ancestor_worship.20.1
		ai_chance = {
			factor = 1
		}
		add_country_modifier = {
			name = dwarovar_murri_stories
			duration = 3650
		}
	}

	option = {
		trigger = {
			tag = I07	#Khugdihr
		}
		highlight = yes
		name = ancestor_worship.20.2
		ai_chance = {
			factor = 10
		}
		add_prestige = 10
		add_country_modifier = {
			name = dwarovar_murri_stories
			duration = 3650
		}
	}
}

#Dagrin stories inspire missionaries
country_event = {
	id = ancestor_worship.21
	title = ancestor_worship.21.t
	desc = ancestor_worship.21.d
	picture = CHURCH_ESTATE_1_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
	}

	option = {
		name = ancestor_worship.21.1
		ai_chance = {
			factor = 1
		}
		add_country_modifier = {
			name = dwarovar_dagrin_stories
			duration = 3650
		}
	}

	option = {
		trigger = {
			tag = I06	#Er Natvir
		}
		highlight = yes
		name = ancestor_worship.21.2
		ai_chance = {
			factor = 10
		}
		add_prestige = 10
		add_country_modifier = {
			name = dwarovar_dagrin_stories
			duration = 3650
		}
	}
}

#Outsider stories become popular
country_event = {
	id = ancestor_worship.22
	title = ancestor_worship.22.t
	desc = ancestor_worship.22.d
	picture = CHURCH_ESTATE_UPSET_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
		any_known_country = {
			monstrous_culture = no
			monstrous_government = no
		}
	}

	option = {
		name = ancestor_worship.22.1
		ai_chance = {
			factor = 1
		}
		add_country_modifier = {
			name = dwarovar_outsider_stories
			duration = 3650
		}
	}

	option = {
		name = ancestor_worship.22.2
		ai_chance = {
			factor = 1
		}
		add_years_of_income = -0.3
		add_estate_loyalty = {
			estate = estate_church
			loyalty = 10
		}
	}
}

#Grave of local ancestor
country_event = {
	id = ancestor_worship.23
	title = ancestor_worship.23.t
	desc = ancestor_worship.23.d
	picture = CAVE_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
	}

	option = {
		name = ancestor_worship.23.1
		ai_chance = {
			factor = 1
		}
		add_legitimacy = 5
		add_estate_influence_modifier = {
			estate = estate_church
			desc = dwarovar_ancestor_grave
			influence = 5
			duration = 1325
		}
		add_estate_loyalty = {
			estate = estate_church
			loyalty = 5
		}
	}
}

#Ancestor Holiday Celebration
country_event = {
	id = ancestor_worship.24
	title = ancestor_worship.24.t
	desc = ancestor_worship.24.d
	picture = FEAST_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
		years_of_income = 0.5
	}

	option = {
		name = ancestor_worship.24.1
		ai_chance = {
			factor = 1
		}
		add_years_of_income = -0.25
		add_estate_loyalty = {
			estate = estate_church
			loyalty = 10
		}
		add_prestige = 10
	}

	option = {
		name = ancestor_worship.24.2
		ai_chance = {
			factor = 0.5
		}
		add_estate_loyalty = {
			estate = estate_church
			loyalty = -10
		}
		add_prestige = -15
	}
}

#Clan leader is making a shrine before even dying
country_event = {
	id = ancestor_worship.25
	title = ancestor_worship.25.t
	desc = ancestor_worship.25.d
	picture = BABBLING_BAFFOON_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
		has_estate = estate_nobles
	}

	option = {
		name = ancestor_worship.25.1
		ai_chance = {
			factor = 1
		}
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = 10
		}
		add_estate_influence_modifier = {
			estate = estate_nobles
			desc = dwarovar_allowed_shrine
			influence = 10
			duration = 3650
		}
		add_estate_loyalty = {
			estate = estate_church
			loyalty = -10
		}
		add_estate_influence_modifier = {
			estate = estate_church
			desc = dwarovar_allowed_shrine
			influence = -10
			duration = 3650
		}
		add_years_of_income = 0.35
	}

	option = {
		name = ancestor_worship.25.2
		ai_chance = {
			factor = 1
		}
		
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = -10
		}
		add_estate_influence_modifier = {
			estate = estate_nobles
			desc = dwarovar_disallowed_shrine
			influence = -10
			duration = 3650
		}
		add_estate_loyalty = {
			estate = estate_church
			loyalty = 10
		}
		add_estate_influence_modifier = {
			estate = estate_church
			desc = dwarovar_disallowed_shrine
			influence = 10
			duration = 3650
		}
		add_prestige = 15
	}
}

#Tales of a noble foreigner
country_event = {
	id = ancestor_worship.26
	title = ancestor_worship.26.t
	desc = ancestor_worship.26.d
	picture = MILITARISTICALLY_TALENTED_RULER_eventPicture
	goto = noble_ancestor_border_prov

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
		any_neighbor_country = {
			alliance_with = ROOT
			NOT = {
				culture_group = orcish
				culture_group = goblin
				culture_group = hobgoblin
				culture_group = ogre
				religion_group = dwarven
			}
		}
	}

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					any_neighbor_province = {
						owner = {
							alliance_with = ROOT
							NOT = {
								culture_group = orcish
								culture_group = goblin
								culture_group = hobgoblin
								culture_group = ogre
								religion_group = dwarven
							}
						}
					}
				}
				save_event_target_as = noble_ancestor_border_prov
				random_neighbor_province = {
					limit = {
						owner = {
							alliance_with = ROOT
							NOT = {
								culture_group = orcish
								culture_group = goblin
								culture_group = hobgoblin
								culture_group = ogre
								religion_group = dwarven
							}
						}
					}
					owner = {
						save_event_target_as = noble_ancestor_origin
					}
				}
			}
		}
	}

	option = {
		name = ancestor_worship.26.1
		ai_chance = {
			factor = 1
		}
		add_estate_loyalty = {
			estate = estate_church
			loyalty = -10
		}
		add_estate_influence_modifier = {
			estate = estate_church
			desc = dwarovar_foreign_ancestor_accepted
			influence = -10
			duration = 3650
		}
		event_target:noble_ancestor_border_prov = {
			add_base_tax = 1
			add_unrest = -5
		}
	}

	option = {
		name = ancestor_worship.26.2
		ai_chance = {
			factor = 1
		}
		add_estate_loyalty = {
			estate = estate_church
			loyalty = 10
		}
		add_estate_influence_modifier = {
			estate = estate_church
			desc = dwarovar_foreign_ancestor_denied
			influence = 10
			duration = 3650
		}
		event_target:noble_ancestor_border_prov = {
			add_unrest = 5
			add_local_autonomy = 10
		}
	}

	option = {
		trigger = {
			ruler_has_personality = benevolent_personality
		}
		highlight = yes
		name = ancestor_worship.26.3
		ai_chance = {
			factor = 10
		}
		add_estate_loyalty = {
			estate = estate_church
			loyalty = -10
		}
		add_estate_influence_modifier = {
			estate = estate_church
			desc = dwarovar_foreign_ancestor_accepted
			influence = -10
			duration = 3650
		}
		event_target:noble_ancestor_border_prov = {
			add_base_tax = 1
			add_unrest = -5
		}
		if = {
			limit = {
				event_target:noble_ancestor_origin = {
					culture_is_elven = yes
				}
			}
			small_increase_of_elven_tolerance_effect = yes
		}
		else_if = {
			limit = {
				event_target:noble_ancestor_origin = {
					culture_is_centaur = yes
				}
			}
			small_increase_of_centaur_tolerance_effect = yes
		}
		else_if = {
			limit = {
				event_target:noble_ancestor_origin = {
					culture_is_human = yes
				}
			}
			small_increase_of_human_tolerance_effect = yes
		}
		else_if = {
			limit = {
				event_target:noble_ancestor_origin = {
					culture_is_harimari = yes
				}
			}
			small_increase_of_harimari_tolerance_effect = yes
		}
		else_if = {
			limit = {
				event_target:noble_ancestor_origin = {
					culture_is_halfling = yes
				}
			}
			small_increase_of_halfling_tolerance_effect = yes
		}
		else_if = {
			limit = {
				event_target:noble_ancestor_origin = {
					culture_is_harpy = yes
				}
			}
			small_increase_of_harpy_tolerance_effect = yes
		}
		else_if = {
			limit = {
				event_target:noble_ancestor_origin = {
					culture_is_gnollish = yes
				}
			}
			small_increase_of_gnollish_tolerance_effect = yes
		}
	}
}

#Celebrate the ancestors
country_event = {
	id = ancestor_worship.27
	title = ancestor_worship.27.t
	desc = ancestor_worship.27.d
	picture = FEAST_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
		is_at_war = no
	}

	option = {
		name = ancestor_worship.27.1
		ai_chance = {
			factor = 1
		}
		add_stability_or_adm_power = yes
	}
}

#Monsters destroy ancestor's grave
country_event = {
	id = ancestor_worship.28
	title = ancestor_worship.28.t
	desc = ancestor_worship.28.d
	picture = ANGRY_MOB_eventPicture

	is_triggered_only = yes

	trigger = {
		religion = ancestor_worship
	}

	option = {
		name = ancestor_worship.28.1
		ai_chance = {
			factor = 1
		}
		add_stability = -1
	}

	option = {
		name = ancestor_worship.28.2
		ai_chance = {
			factor = 1
		}
		add_years_of_income = -0.3
	}

	option = {
		trigger = {
			ruler_has_personality = architectural_visionary_personality
		}
		highlight = yes
		name = ancestor_worship.28.3
		ai_chance = {
			factor = 1
		}
		add_years_of_income = -0.6
		add_stability_or_adm_power = yes
	}
}