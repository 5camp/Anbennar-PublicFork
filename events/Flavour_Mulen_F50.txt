
namespace = flavour_mulen

#foundation to city
province_event = {
  id = flavour_mulen.1
  title = flavour_mulen.1.t
  desc = flavour_mulen.1.d
  picture = ELECTION_REPUBLICAN_eventPicture

  trigger = {
		owner = {
      tag = F50
      has_country_flag = mulen_hanging_cities
    }
    development = 25
    has_active_triggered_province_modifier = mulen_hanging_city_foundation
  }

  mean_time_to_happen = {
  	months = 120

  	modifier = {
  		factor = 0.9
  		development = 26
  	}
  	modifier = {
  		factor = 0.8
  		development = 27
  	}
  	modifier = {
  		factor = 0.7
  		development = 28
  	}
  	modifier = {
  		factor = 0.6
  		development = 29
  	}
  	modifier = {
  		factor = 0.5
  		development = 30
  	}
  }

  option = {
    name = flavour_mulen.1.a
    remove_province_triggered_modifier = mulen_hanging_city_foundation
    add_province_triggered_modifier = mulen_hanging_city
  }
}

#city to specialization
province_event = {
  id = flavour_mulen.2
  title = flavour_mulen.2.t
  desc = flavour_mulen.2.d
  picture = ELECTION_REPUBLICAN_eventPicture

  trigger = {
  	owner = {
      tag = F50
      has_country_flag = mulen_hanging_cities_specializations
    }
    development = 35
    has_active_triggered_province_modifier = mulen_hanging_city
  }

  mean_time_to_happen = {
  	months = 120

  	modifier = {
  		factor = 0.9
  		development = 36
  	}
  	modifier = {
  		factor = 0.8
  		development = 37
  	}
  	modifier = {
  		factor = 0.7
  		development = 38
  	}
  	modifier = {
  		factor = 0.6
  		development = 39
  	}
  	modifier = {
  		factor = 0.5
  		development = 40
  	}
  }

  option = {
    name = flavour_mulen.2.a
    remove_province_triggered_modifier = mulen_hanging_city
    add_province_triggered_modifier = mulen_hanging_city_baths
  }

  option = {
    name = flavour_mulen.2.b
    remove_province_triggered_modifier = mulen_hanging_city
    add_province_triggered_modifier = mulen_hanging_city_gardens
  }

  option = {
    name = flavour_mulen.2.c
    remove_province_triggered_modifier = mulen_hanging_city
    add_province_triggered_modifier = mulen_hanging_city_libraries
  }
}

#goblin requests expedition
country_event = {
  id = flavour_mulen.3
  title = flavour_mulen.3.t
  desc = flavour_mulen.3.d
  picture = ELECTION_REPUBLICAN_eventPicture

  is_triggered_only = yes

  trigger = {
    tag = F50
    2921 = { owned_by = ROOT }
    F50 = { NOT = { mission_completed = mulen_finding_our_miners } }
  }

  #send expedition
  option = {
    name = flavour_mulen.3.a
    F50 = {

    }
    add_treasury = -25
    add_manpower = -2.5
    country_event = {
      id = flavour_mulen.5
      days = 730
      random = 730
    }
  }

  #ask again later
  option = {
    name = flavour_mulen.3.b
    country_event = {
      id = flavour_mulen.4
      days = 730
      random = 730
    }
  }
}

#goblin asks again later
country_event = {
  id = flavour_mulen.4
  title = flavour_mulen.4.t
  desc = flavour_mulen.4.d
  picture = ELECTION_REPUBLICAN_eventPicture

  is_triggered_only = yes

  trigger = {
    tag = F50
    2921 = { owned_by = ROOT }
    F50 = { NOT = { mission_completed = mulen_finding_our_miners } }
  }

  #send expedition
  option = {
    name = flavour_mulen.4.a
    add_treasury = -25
    add_manpower = -2.5
    country_event = {
      id = flavour_mulen.5
      days = 730
      random = 730
    }
  }

  #ask again later recursive
  option = {
    name = flavour_mulen.4.b
    country_event = {
      id = flavour_mulen.4
      days = 730
      random = 730
    }
  }
}

#expedition returns
country_event = {
  id = flavour_mulen.5
  title = flavour_mulen.5.t
  desc = flavour_mulen.5.d
  picture = ELECTION_REPUBLICAN_eventPicture

  is_triggered_only = yes

  trigger = {
    tag = F50
  }

  option = {
    name = flavour_mulen.5.a
    anduz_area = {
      discover_country = F50
    }
    ambermine_alley_area = {
      discover_country = F50
    }
    earthseed_area = {
      discover_country = F50
    }
  }
}

#fp expedition leaves
country_event = {
  id = flavour_mulen.6
  title = flavour_mulen.6.t
  desc = flavour_mulen.6.d
  picture = ELECTION_REPUBLICAN_eventPicture

  is_triggered_only = yes

  trigger = {
    tag = F50
  }

  option = {
    name = flavour_mulen.6.a
    hidden_effect = {
      country_event = {
        id = flavour_mulen.7
        days = 1825
        random = 1825
      }
    }
  }
}

#fp expedition returns
country_event = {
  id = flavour_mulen.7
  title = flavour_mulen.7.t
  desc = flavour_mulen.7.d
  picture = ELECTION_REPUBLICAN_eventPicture

  is_triggered_only = yes

  trigger = {
    tag = F50
  }

  option = {
    name = flavour_mulen.7.a
    forbidden_lands_superregion = {
    	discover_country = F50
    }
    set_country_flag = fp_expedition_returned
  }
}

#transfer trade ultimatum
country_event = {
  id = flavour_mulen.8
  title = flavour_mulen.8.t
  desc = flavour_mulen.8.d
  picture = ELECTION_REPUBLICAN_eventPicture

  is_triggered_only = yes

  trigger = {

  }

  #transfer trade
  option = {
    name = flavour_mulen.8.a
    ai_chance = {
      factor = 50
      modifier = {
        factor = 0
        OR = {
          is_rival = F50
          is_enemy = F50
        }
      }
      modifier = {
        factor = 3
        FROM = {
          military_strength = {
          	who = PREV
          	value = 3.0
          }
        }
      }
      modifier = {
        factor = 2
        FROM = {
          military_strength = {
          	who = PREV
          	value = 2.0
          }
        }
      }
      modifier = {
        factor = 2
        has_opinion = {
          who = F50
          value = 100
        }
      }
      modifier = {
        factor = 1.5
        has_opinion = {
          who = F50
          value = 50
        }
      }
      modifier = {
        factor = 0.5
        military_strength = {
        	who = FROM
        	value = 1.0
        }
      }
      modifier = {
        factor = 0
        military_strength = {
        	who = FROM
        	value = 2.0
        }
      }
    }
    F50 = {
      country_event = {
        id = flavour_mulen.9
        days = 30
      }
    }
  }

  #refuse, generate cb
  option = {
    name = flavour_mulen.8.b
    ai_chance = {
      factor = 50
      modifier = {
        factor = 0
        FROM = {
          military_strength = {
            who = PREV
            value = 3.0
          }
        }
      }
      modifier = {
        factor = 0.5
        FROM = {
          military_strength = {
            who = PREV
            value = 2.0
          }
        }
      }
      modifier = {
        factor = 0.5
        has_opinion = {
          who = F50
          value = -25
        }
      }
      modifier = {
        factor = 0.75
        NOT = {
          has_opinion = {
            who = F50
            value = 0
          }
        }
      }
      modifier = {
        factor = 2
        military_strength = {
          who = FROM
          value = 2.0
        }
      }
      modifier = {
        factor = 3
        military_strength = {
          who = FROM
          value = 3.0
        }
      }
    }
    F50 = {
      country_event = {
        id = flavour_mulen.10
        days = 30
      }
    }
  }
}

#transfer trade ultimatum transfers
country_event = {
  id = flavour_mulen.9
  title = flavour_mulen.9.t
  desc = flavour_mulen.9.d
  picture = ELECTION_REPUBLICAN_eventPicture

  is_triggered_only = yes

  option = {
    name = flavour_mulen.9.a
    transfer_trade = FROM #check if works
  }
}

#transfer trade ultimatum rejects
country_event = {
  id = flavour_mulen.10
  title = flavour_mulen.10.t
  desc = flavour_mulen.10.d
  picture = ELECTION_REPUBLICAN_eventPicture

  is_triggered_only = yes

  option = {
    name = flavour_mulen.10.a
    add_casus_belli = {
        target = FROM
        type = cb_trade_war_triggered
        months = 120
    }
  }
}

#Merchant Matriarch government events

#matriarchs reign in queen
country_event = {
  id = flavour_mulen.11
  title = flavour_mulen.11.t
  desc = flavour_mulen.11.d
  picture = ELECTION_REPUBLICAN_eventPicture

  is_triggered_only = yes

  trigger = {
    tag = F50
    has_reform = harpy_matriarchy_reform
    has_country_flag = mulen_constitution
    statists_vs_orangists = 0.5
  }

  option = {
    name = flavour_mulen.11.a
    change_statists_vs_orangists = -0.33
    add_prestige = -5
  }
}

#queen reigns in matriarchs
country_event = {
  id = flavour_mulen.12
  title = flavour_mulen.12.t
  desc = flavour_mulen.12.d
  picture = ELECTION_REPUBLICAN_eventPicture

  is_triggered_only = yes

  trigger = {
    tag = F50
    has_reform = harpy_matriarchy_reform
    has_country_flag = mulen_constitution
    NOT = { statists_vs_orangists = -0.5 }
  }

  option = {
    name = flavour_mulen.12.a
    change_statists_vs_orangists = 0.33
    add_prestige = -5
  }
}

#matriarchs evade taxes
country_event = {
  id = flavour_mulen.13
  title = flavour_mulen.13.t
  desc = flavour_mulen.13.d
  picture = ELECTION_REPUBLICAN_eventPicture

  is_triggered_only = yes

  trigger = {
    tag = F50
    has_reform = harpy_matriarchy_reform
    NOT = { statists_vs_orangists = -0.5 }
  }

  option = {
    name = flavour_mulen.13.a
    add_corruption = 2
  }
}

#matriarchs print money
country_event = {
  id = flavour_mulen.14
  title = flavour_mulen.14.t
  desc = flavour_mulen.14.d
  picture = ELECTION_REPUBLICAN_eventPicture

  is_triggered_only = yes

  trigger = {
    tag = F50
    has_reform = harpy_matriarchy_reform
    NOT = { statists_vs_orangists = -0.5 }
  }

  option = {
    name = flavour_mulen.14.a
    add_inflation = 2
  }
}
