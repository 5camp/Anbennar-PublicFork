########################################
# Raj Events                         #
########################################

namespace = rahenraj

country_event = {
	id = rahenraj.0
	title = rahenraj.0.t
	desc = rahenraj.0.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	fire_only_once = yes
	
	trigger = { tag = R51 }
	
	immediate = {
		hidden_effect = {
			save_global_event_target_as = raja_global_target	#This is only used for the raj menu and NOT updated regularly
			random_subject_country = {
				limit = { has_country_flag = raj_vizier }
				save_global_event_target_as = raj_vizier_global_target	#same
			}
			raj_monthy_calc = yes
			raj_cohesion_yearly_tick = yes
			4411 = {
				set_variable = { which = raj_cohesion value = 30 }
				set_variable = { which = vizierSway value = 0 }
				set_variable = { which = rajCohesionIncreaseGargantuan value = 499 }
				set_variable = { which = rajCohesionIncreaseHuge value = 199 }
				set_variable = { which = rajCohesionIncreaseLarge value = 99 }
				set_variable = { which = rajCohesionIncreaseMedium value = 49 }
				set_variable = { which = rajCohesionIncreaseSmall value = 19 }
				set_variable = { which = rajCohesionChangeNull value = 0 }
				set_variable = { which = rajCohesionDecreaseGargantuan value = -500 }
				set_variable = { which = rajCohesionDecreaseHuge value = -200 }
				set_variable = { which = rajCohesionDecreaseLarge value = -100 }
				set_variable = { which = rajCohesionDecreaseMedium value = -50 }
				set_variable = { which = rajCohesionDecreaseSmall value = -20 }
			}
		}
	}
	
	option = {
		name = rahenraj.0.a
		
		add_corruption = 5 #Replace this with the setup of the Raj cohesion
		
		custom_tooltip = raj_cohesion_current_tt
		
		hidden_effect = {
			country_event = { id = rahenraj.2000 days = 365 }
		}
	}
}

# The DYNASTYNAME raja_reform has fallen!
province_event = {
	id = rahenraj.1
	title = rahenraj.1.t
	picture = COURT_eventPicture
	desc = {
		trigger = {
			owner = {
				has_reform = raja_reform
				NOT = { has_country_flag = raj_was_vizier }
			}
			FROM = { has_reform = raja_reform }
		}
		desc = rahenraj.1.da
	}
	desc = {
		trigger = {
			owner = {
				has_reform = raja_reform
				NOT = { has_country_flag = raj_was_vizier }
			}
			FROM = { NOT = { has_reform = raja_reform } }
		}
		desc = rahenraj.1.da
	}
	desc = {
		trigger = { owner = { NOT = { has_reform = raja_reform } } }
		desc = rahenraj.1.db
	}
	desc = {
		trigger = {
			owner = {
				has_reform = raja_reform
				has_country_flag = raj_was_vizier
			}
		}
		desc = rahenraj.1.dc
	}
	
	major = yes
	is_triggered_only = yes
	
	trigger = {
		province_id = 4411
	}
	

	immediate = {
		# Save new owner as Raja if valid
		hidden_effect = {
			owner = {
				if = { limit = { has_country_flag = raj_vizier }
					raj_clear_vizier = yes
					set_country_flag = raj_was_vizier
				}
				
				if = {
					limit = {
						OR = {
							has_reform = prabhi_reform
							has_reform = senapti_reform
							has_reform = indep_prabhi_reform
						}
					}
					add_core = 4411
					set_capital = 4411
					grant_independence = yes
					add_government_reform = raja_reform
					save_event_target_as = new_shogunate
					if = {
						limit = { NOT = { has_estate_privilege = estate_raj_ministries_raj_cohesion } }
						set_estate_privilege = estate_raj_ministries_raj_cohesion
					}
				}
			}
		
			# Handle all Prabhi+Senapti transfers
			if = { #Case: new owner is the new Raja, previous Raja lives -> all Prahbi+Senapti get transferred to new Raja
				limit = {
					#FROM = Previous Raja
					FROM = { exists = yes }
					FROM = { has_reform = raja_reform }
					#New owner is Raja
					owner = { has_reform = raja_reform }
				}
				#Degrade the previous Raja to Prahbi level, and gives them+their daimyo vassals to new raja
				FROM = {
					every_subject_country = {
						limit = {
							OR = {
								is_subject_of_type = daimyo_vassal
								is_subject_of_type = great_daimyo_vassal
							}
						}
						#Make subject of new raja 
						event_target:new_shogunate = {
							vassalize = PREV
						}
					}
					
					#Make old raja subject of new raja
					event_target:new_shogunate = {
						vassalize = FROM
					}
					
					#Downgrade rank and force prabhi reform onto old raja
					set_government_rank = 1
					add_government_reform = prabhi_reform
				}
				#Cleanup event.
				event_target:new_shogunate = {
					country_event = {
						id = rahenraj.1001
						days = 5
					}
				}
				raj_cohesion_calc = yes
			}
			if = { #Case: new owner is NOT the new Raja, previous Raja lives -> all Prahbi+Senapti go free
				limit = {
					#FROM = Previous Raja
					FROM = { exists = yes }
					FROM = { has_reform = raja_reform }
					#New owner is NOT raja
					NOT = { owner = { has_reform = raja_reform } }
				}
				#Degrade the previous Raja to Prahbi level, release everyone, disband the Raja
				FROM = {
					every_subject_country = {
						limit = {
							OR = {
								is_subject_of_type = daimyo_vassal
								is_subject_of_type = great_daimyo_vassal
							}
						}
						
						#Grant freedom from old raja
						grant_independence = yes
						
						if = {
							limit = {
								has_reform = prabhi_reform
								has_reform = senapti_reform
							}
							#Previous subjects become independent Prabhi
							add_government_reform = indep_prabhi_reform
						}
					}
					
					#Downgrade rank and force indep_prabhi reform onto old raja
					set_government_rank = 1
					add_government_reform = indep_prabhi_reform
				}
			}
			if = { #Case: new owner is the new Raja, previous Raja is dead -> all Prahbi+Senapti get transferred to new Raja
				limit = {
					#FROM = Previous Raja is dead
					NOT = { FROM = { exists = yes } }
					#New owner is raja
					owner = { has_reform = raja_reform }
				}
				#Vassalize all old prabhi/senapti.
				every_country = {
					limit = {
						OR = {
							has_reform = prabhi_reform
							has_reform = senapti_reform
						}
						NOT = { war_with = event_target:new_shogunate }
					}
					event_target:new_shogunate = {
						vassalize = PREV
					}
				}
				#Any old prabhi/senapti still at war with the new raja get independence
				every_country = {
					limit = {
						OR = {
							has_reform = prabhi_reform
							has_reform = senapti_reform
						}
						war_with = event_target:new_shogunate
					}
					add_government_reform = indep_prabhi_reform
				}
				
				#Cleanup event.
				event_target:new_shogunate = {
					country_event = {
						id = rahenraj.1001
						days = 5
					}
				}
				raj_cohesion_calc = yes
			}
			if = { #Case: new owner is NOT the new Raja, previous Raja dead -> all Prahbi+Senapti go free, disband the Raja
				limit = {
					#FROM = Previous Raja is dead
					NOT = { FROM = { exists = yes } }
					#New owner is NOT raja
					NOT = { owner = { has_reform = raja_reform } }
				}
				
				#Grant freedom to all old prabhi/senapti
				every_country = {
					limit = { 
						OR = {
							has_reform = prabhi_reform
							has_reform = senapti_reform
						}
					}
					
					#Grant freedom
					grant_independence = yes
					add_government_reform = indep_prabhi_reform
				}
			}
			
			
			if = {
				limit = {
					any_country = {
						OR = {
							is_subject_of_type = daimyo_vassal
							is_subject_of_type = great_daimyo_vassal
						}
						NOT = { overlord = { has_reform = raja_reform } }
					}
				}
				every_country = {
					limit = {
						OR = {
							is_subject_of_type = daimyo_vassal
							is_subject_of_type = great_daimyo_vassal
						}
						NOT = { overlord = { has_reform = raja_reform } }
					}
					grant_independence = yes
					add_government_reform = indep_daimyo
				}
			}
		}
	}
	
	option = {
		name = rahenraj.1.a
		trigger = { owner = { has_reform = raja_reform } }
		custom_tooltip = claiming_the_raj_tooltip
		owner = {
			if = { limit = { has_country_flag = raj_was_vizier }
				raj_cohesion_change_absolute = { amount = -25 }
				clr_country_flag = raj_was_vizier
			}
			else = {
				raj_cohesion_change_absolute = { amount = -20 }
			}
			country_event = { id = rahenraj.2100 days = 1 }	#new Vizier election
		}
		hidden_effect = { #strip all reformation modifiers from the former Raja
			FROM = {
				rahen_remove_harimraj_reforms_effect = yes
				remove_country_modifier = raj_opened_senapti_ranks
				remove_country_modifier = raj_closed_senapti_ranks
			}
		}
	}
	
	option = {
		name = rahenraj.1.b
		trigger = { owner = { NOT = { has_reform = raja_reform } } }
		owner = {
			if = { limit = { NOT = { has_global_flag = destroyed_raj } }
				add_prestige = 20
				add_adm_power = 50
				add_dip_power = 50
				add_mil_power = 50
				set_global_flag = destroyed_raj
				4411 = {
					remove_province_modifier = rahen_corrupt_ministers
					remove_province_modifier = rahen_powerful_nobility
					remove_province_modifier = rahen_arrogant_foreign_office
					remove_province_modifier = rahen_disloyal_officers
				}
			}
		}
		hidden_effect = { #stip all reformation modifiers from the former Raja
			FROM = {
				rahen_remove_harimraj_reforms_effect = yes
				remove_country_modifier = raj_opened_senapti_ranks
				remove_country_modifier = raj_closed_senapti_ranks
			}
		}
	}
}

#A Senapti Falls
country_event = { #This event lowers a Senapti to Prabhi rank
	id = rahenraj.2
	title = rahenraj.2.t
	desc = rahenraj.2.d
	picture = CONQUEST_eventPicture
	
	trigger = {
		is_subject_of_type = great_daimyo_vassal
		NOT = { has_country_modifier = prabhi_recently_promoted }
		NOT = { has_country_modifier = raj_mandate_senapti_primacy }
		NOT = { has_country_modifier = rajiya_senapti }
		OR = {
			AND = {
				OR = {
					NOT = { num_of_cities = 2 }
					AND = {
						overlord = {
							has_country_modifier = raj_closed_senapti_ranks
							culture_group = harimari
						}
						NOT = { ruler_is_harimari = yes }
					}
					AND = {
						overlord = {
							has_country_modifier = raj_closed_senapti_ranks
							culture_is_human = yes
						}
						NOT = { ruler_is_human = yes }
					}
				}
			}
			AND = {
				raj_above_allowed_senaptia = yes
				overlord = {
					NOT = {
						any_subject_country = {
							is_subject_of_type = great_daimyo_vassal
							NOT = { has_country_modifier = prabhi_recently_promoted }
							NOT = { has_country_modifier = raj_mandate_senapti_primacy }
							NOT = { has_country_modifier = rajiya_senapti }
							NOT = { tag = ROOT }
							ROOT = { total_development = PREV }
						}
					}
				}
			}
		}
	}
	
	mean_time_to_happen = {
		months = 1
	}
	
	option = { #Oh no, we've fallen from grace!!!
		name = rahenraj.2.a
		ai_chance = { factor = 1 }
		
		overlord = {
			create_subject = {
				subject_type = daimyo_vassal
				subject = ROOT
			}
		}
		if = {
			limit = {
				has_reform = senapti_reform
			}
			add_government_reform = prabhi_reform
		}
		hidden_effect = {
			4411 = { change_variable = { raj_current_num_of_senaptia = -1 } }
		}
	}
}

# #A Prabhi Rises
# country_event = { #This is a hidden event that just does the original effect
	# id = rahenraj.3
	# title = rahenraj.3.t
	# desc = rahenraj.3.d
	# picture = CONQUEST_eventPicture
	# hidden = yes
	
	# trigger = {
		# is_subject_of_type = daimyo_vassal
		# if = {
			# limit = { overlord = { has_country_modifier = raj_closed_senapti_ranks } }
			# OR = {
				# AND = {
					# overlord = {
						# culture_group = harimari
					# }
					# ruler_is_harimari = yes
				# }
				# AND = {
					# overlord = {
						# culture_is_human = yes
					# }
					# ruler_is_human = yes
				# }
			# }
		# }
		# NOT = { has_country_modifier = prabhi_promotion_rejected }
		# NOT = { has_country_modifier = senapti_recently_demoted }
		# num_of_cities = 2
		# NOT = { has_country_flag = potential_senapti }
		# OR = {
			# overlord = {
				# num_of_subjects = 100
				# NOT = { great_daimyo_vassal = 14 }
			# }
			# overlord = {
				# num_of_subjects = 70
				# NOT = { great_daimyo_vassal = 12 }
			# }
			# overlord = {
				# num_of_subjects = 50
				# NOT = { great_daimyo_vassal = 10 }
			# }
			# overlord = {
				# num_of_subjects = 35
				# NOT = { great_daimyo_vassal = 8 }
			# }
			# overlord = {
				# num_of_subjects = 25
				# NOT = { great_daimyo_vassal = 4 }
			# }
			# overlord = {
				# num_of_subjects = 15
				# NOT = { great_daimyo_vassal = 2 }
			# }
		# }
		# NOT = {
			# overlord = {
				# any_subject_country = {
					# is_subject_of_type = daimyo_vassal
					# NOT = { has_country_modifier = prabhi_promotion_rejected }
					# NOT = { has_country_modifier = senapti_recently_demoted }
					# num_of_cities = 2
					# if = {
						# limit = { overlord = { has_country_modifier = raj_closed_senapti_ranks culture_group = harimari } }
						# ruler_is_harimari = yes
					# }
					# if = {
						# limit = { overlord = { has_country_modifier = raj_closed_senapti_ranks culture_is_human = yes } }
						# ruler_is_human = yes
					# }
					# NOT = { tag = ROOT }
					# variable_arithmetic_trigger = {
						# export_to_variable = {
							# which = our_total_development
							# value = trigger_value:total_development
						# }
						# export_to_variable = {
							# which = root_total_development
							# value = trigger_value:total_development
							# who = ROOT
						# }
						
						# check_variable = { #Check if A >= B
							# which = our_total_development #A
							# which = root_total_development #B
						# }
					# }
				# }
			# }
		# }
	# }
	
	# mean_time_to_happen = {
		# months = 1
	# }
	
	# option = { #Send event to Raj
		# ai_chance = { factor = 1 }
		# save_global_event_target_as = potential_senapti_target
		# overlord = {
			# country_event = {
				# id = rahenraj.4
			# }
		# }
		# hidden_effect = { set_country_flag = potential_senapti }
	# }
# }
country_event = { #Tell the Raj that there is a new potential Senpati
	id = rahenraj.4
	title = rahenraj.4.t
	desc = rahenraj.4.d
	picture = CONQUEST_eventPicture
	
	major = yes
	major_trigger = {
		has_reform = raja_reform
		overlord = { has_reform = raja_reform }
	}
	
	is_triggered_only = yes
	
	option = { #Raise Prabhi to Senapti
		name = rahenraj.4.a
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				event_target:potential_senapti_target = {
					has_idea_group = offensive_ideas
				}
			}
			modifier = {
				factor = 2
				event_target:potential_senapti_target = {
					has_idea_group = defensive_ideas
				}
			}
			modifier = {
				factor = 2
				event_target:potential_senapti_target = {
					has_idea_group = quantity_ideas
				}
			}
			modifier = {
				factor = 2
				event_target:potential_senapti_target = {
					has_idea_group = quality_ideas
				}
			}
		} #! Balance AI chance
		
		event_target:potential_senapti_target = {
			overlord = {
				create_subject = {
					subject_type = great_daimyo_vassal
					subject = event_target:potential_senapti_target
				}
			}
			add_government_reform = senapti_reform
			hidden_effect = { clr_country_flag = potential_senapti }
		}
		hidden_effect = { 4411 = { change_variable = { raj_current_num_of_senaptia = 1 } } }
	}
	
	option = { #We don't need any more Senapti
		name = rahenraj.4.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				event_target:potential_senapti_target = {
					NOT = { total_development = 50 }
				}
			}
			modifier = {
				factor = 2
				event_target:potential_senapti_target = {
					NOT = { army_size = 8 }
				}
			}
			modifier = {
				factor = 2
				any_subject_country = {
					is_subject_of_type = daimyo_vassal
					NOT = { has_country_modifier = prabhi_promotion_rejected }
					NOT = { has_country_modifier = senapti_recently_demoted }
					NOT = { has_country_modifier = raj_mandate_extended_prabhi_privileges }
					num_of_cities = 2
					if = {
						limit = { overlord = { has_country_modifier = raj_closed_senapti_ranks culture_group = harimari } }
						ruler_is_harimari = yes
					}
					if = {
						limit = { overlord = { has_country_modifier = raj_closed_senapti_ranks culture_is_human = yes } }
						ruler_is_human = yes
					}
					total_development = ROOT
				}
			}
		} #! Balance AI chance
		
		event_target:potential_senapti_target = {
			add_country_modifier = {
				name = prabhi_promotion_rejected
				duration = 3650 #10 years
			}
			hidden_effect = { clr_country_flag = potential_senapti }
		} #! Notify of rejection
	}
}

#Event to ensure that Senapti and Prabhi keep Harimari rulers
country_event = { #If a Senapti ruler isn't a harimari
	id = rahenraj.5
	title = rahenraj.5.t
	picture = COURT_eventPicture
	
	desc = {
		trigger = {
			overlord = {
				culture_group = harimari
			}
		}
		desc = rahenraj.5.da
	}
	desc = {
		trigger = {
			overlord = {
				culture_is_human = yes
			}
		}
		desc = rahenraj.5.db
	}
	
	trigger = {
		has_reform = senapti_reform
		OR = {
			AND = {
				overlord = {
					has_country_modifier = raj_closed_senapti_ranks
					culture_group = harimari
				}
				NOT = { ruler_is_harimari = yes }
			}
			AND = {
				overlord = {
					has_country_modifier = raj_closed_senapti_ranks
					culture_is_human = yes
				}
				NOT = { ruler_is_human = yes }
			}
		}
	}
	is_triggered_only = yes
	
	option = { #Keep Current Ruler
		ai_chance = { factor = 0 }
		name = rahenraj.5.a
		
		add_prestige = 10
		increase_legitimacy_medium_effect = yes
	}
	option = { #Change Ruler
		ai_chance = { factor = 5 }
		name = rahenraj.5.b
		
		hidden_effect = {
			export_to_variable = {
				which = rajCulture
				value = primary_culture
				who = overlord
			}
		}
		
		define_ruler = {
			culture = variable:rajCulture
			claim = 50
			male = yes
		}
	}
}
country_event = { #If a Raj subject has an heir that isn't a harimari
	id = rahenraj.6
	title = rahenraj.6.t
	picture = COURT_eventPicture
	
	desc = {
		trigger = {
			overlord = {
				culture_group = harimari
			}
		}
		desc = rahenraj.6.da
	}
	desc = {
		trigger = {
			overlord = {
				culture_is_human = yes
			}
		}
		desc = rahenraj.6.db
	}
	
	trigger = {
		OR = {
			has_reform = prabhi_reform
			has_reform = senapti_reform
		}
		overlord = { has_country_modifier = raj_closed_senapti_ranks }
		has_heir = yes
		NOT = { has_heir_flag = raj_heir_refused }
		OR = {
			AND = {
				overlord = {
					culture_group = harimari
				}
				ruler_is_harimari = yes
				NOT = { heir_is_harimari = yes }
			}
			AND = {
				overlord = {
					culture_is_human = yes
				}
				ruler_is_human = yes
				NOT = { heir_is_human = yes }
			}
		}
	}
	is_triggered_only = yes
	
	option = { #Keep Current Heir
		ai_chance = { factor = 0 }
		name = rahenraj.5.a
		
		add_prestige = 10
		add_heir_claim = 20
		
		set_heir_flag = raj_heir_refused
	}
	option = { #Change Heir
		ai_chance = { factor = 5 }
		name = rahenraj.5.b
		
		hidden_effect = {
			export_to_variable = {
				which = rajCulture
				value = primary_culture
				who = overlord
			}
			
		}
		
		define_heir = {
			culture = variable:rajCulture
			claim = 50
			male = yes
			no_consort_with_heir = yes
			age = 25
		}
		set_heir_flag = set_heir_race
	}
}



###########################
### Reforming the court ###
###########################

#Reform the military
country_event = {
	id = rahenraj.7
	title = rahenraj.7.t
	desc = rahenraj.7.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	major = yes
	is_triggered_only = yes
	
	option = { #Sack all current commanders
		ai_chance = { factor = 1 }
		name = rahenraj.7.a
		
		add_army_tradition = -50
		add_army_professionalism = -0.5
		if = {
			limit = { num_of_generals = 1 }
			kill_leader = { type = general }
		}
		else_if = {
			limit = { num_of_generals = 2 }
			kill_leader = { type = general }
			kill_leader = { type = general }
		}
		else_if = {
			limit = { num_of_generals = 3 }
			kill_leader = { type = general }
			kill_leader = { type = general }
			kill_leader = { type = general }
		}
		add_country_modifier = {
			name = rahen_insecure_officer_jobs
			duration = 1825 #5 years
		}
		add_country_modifier = {
			name = rahen_disorganised_military
			duration = 9125 #25 years
		}
		4411 = { remove_province_modifier = rahen_disloyal_officers }
		hidden_effect = {
			country_event = {
				id = rahenraj.8
				days = 30
				random = 60
			}
			country_event = {
				id = rahenraj.9
				days = 30
				random = 60
			}
		}
		random = { 
			chance = 75 

			4411 = {
				spawn_rebels = {
					type = pretender_rebels
					size = 1
				}
			}
			add_manpower = -10	
		}
	}
	option = { #Investigate each individual commander's loyalty
		ai_chance = { factor = 2 }
		name = rahenraj.7.b
		
		hidden_effect = {
			country_event = {
				id = rahenraj.13
				days = 120
				random = 240
			}
		}
	}
	option = { #Nevermind, this will be too disruptive
		ai_chance = { factor = 1 }
		name = rahenraj.7.c
		
		add_stability_or_adm_power = yes
		remove_country_modifier = rahen_court_reformations
	}
}
country_event = { #How do we want to find new officers?
	id = rahenraj.8
	title = rahenraj.8.t
	desc = rahenraj.8.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #Look for new commanders under the great families
		ai_chance = { factor = 1 }
		name = rahenraj.8.a
		
		add_estate_influence_modifier = {
			estate = estate_nobles
			desc = EST_VAL_NOBLES_RAHEN_RECRUITING_FROM_NOBILITY
			influence = 10
			duration = 7300 #20 years
		}
		add_estate_loyalty_modifier = {
			estate = estate_nobles
			desc = EST_VAL_NOBLES_RAHEN_RECRUITING_FROM_NOBILITY_LOY
			loyalty = 10
			duration = 7300 #20 years
		}
		hidden_effect = {
			country_event = {
				id = rahenraj.10
				days = 120
				random = 1200
			}
		}
	}
	option = { #Recruit from the best warriors, host a public contest in exactly a year
		ai_chance = { factor = 1 }
		name = rahenraj.8.b
		
		hidden_effect = {
			country_event = {
				id = rahenraj.11
				days = 365
				random = 3
			}
		}
	}
}
country_event = { #How do we want to ensure the loyalty of these new officers?
	id = rahenraj.9
	title = rahenraj.9.t
	desc = rahenraj.9.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #Soldiers are loyal to coin
		ai_chance = { factor = 1 }
		name = rahenraj.9.a
		
		add_country_modifier = {
			name = rahen_soldiers_are_loyal_to_gold
			duration = 9125 #25 years
		}
	}
	option = { #Hand pick them to ensure they are personally loyal to the Raja
		ai_chance = { factor = 1 }
		name = rahenraj.9.b
		
		add_country_modifier = {
			name = rahen_hand_picked_commanders
			duration = 9125 #25 years
		}
	}
}
country_event = { #Noble families propose candidates
	id = rahenraj.10
	title = rahenraj.10.t
	desc = rahenraj.10.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			country_event = {
				id = rahenraj.17
				days = 730 #2 years
				random = 365
			}
		}
	}
	
	option = { #The great warrior
		ai_chance = { factor = 1 }
		name = rahenraj.10.a
		
		add_corruption = 2
		create_general = {
			tradition = 60
			add_shock = 3
		}
		add_estate_influence_modifier = {
			estate = estate_nobles
			desc = EST_VAL_NOBLES_RAHEN_NOBLE_OFFICERS
			influence = 10
			duration = 9125 #25 years
		}
		if = {
			limit = { has_country_modifier = rahen_soldiers_are_loyal_to_gold }
			add_years_of_income = -1
		}
		else_if = {
			limit = { has_country_modifier = rahen_hand_picked_commanders }
			add_mil_power = -100
		}
	}
	option = { #The leader of troops
		ai_chance = { factor = 1 }
		name = rahenraj.10.b
		
		add_corruption = 2
		create_general = {
			tradition = 40
		}
		add_country_modifier = {
			name = rahen_charismatic_marshal
			duration = 7300 #20 years
		}
		add_estate_influence_modifier = {
			estate = estate_nobles
			desc = EST_VAL_NOBLES_RAHEN_NOBLE_OFFICERS
			influence = 10
			duration = 9125 #25 years
		}
		if = {
			limit = { has_country_modifier = rahen_soldiers_are_loyal_to_gold }
			add_years_of_income = -1
		}
		else_if = {
			limit = { has_country_modifier = rahen_hand_picked_commanders }
			add_mil_power = -100
		}
	}
	option = { #The student of war
		ai_chance = { factor = 1 }
		name = rahenraj.10.c
		
		add_corruption = 2
		define_advisor = {
			type = commandant
			skill = 2
			discount = yes
			culture = ROOT
			religion = ROOT
		}
		country_event = {
			id = rahenraj.12
			days = 365
			random = 1825 #5 years
		}
		add_estate_influence_modifier = {
			estate = estate_nobles
			desc = EST_VAL_NOBLES_RAHEN_NOBLE_OFFICERS
			influence = 10
			duration = 9125 #25 years
		}
		if = {
			limit = { has_country_modifier = rahen_soldiers_are_loyal_to_gold }
			add_years_of_income = -1
		}
		else_if = {
			limit = { has_country_modifier = rahen_hand_picked_commanders }
			add_mil_power = -100
		}
	}
	option = { #None are fitting, we will rely on the common soldier
		ai_chance = { factor = 1 }
		name = rahenraj.10.dd
		
		create_general = {
			tradition = 30
			culture = ROOT
		}
		add_estate_influence_modifier = {
			estate = estate_nobles
			desc = EST_VAL_NOBLES_RAHEN_COMMON_OFFICERS
			influence = -10
			duration = 9125 #25 years
		}
		if = {
			limit = { has_country_modifier = rahen_soldiers_are_loyal_to_gold }
			add_years_of_income = -1
		}
		else_if = {
			limit = { has_country_modifier = rahen_hand_picked_commanders }
			add_mil_power = -100
		}
	}
}
country_event = { #A winner of the great contest
	id = rahenraj.11
	title = rahenraj.11.t
	desc = rahenraj.11.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			country_event = {
				id = rahenraj.17
				days = 730 #2 years
				random = 365
			}
		}
	}
	
	option = { #We must have this man lead our armies!
		ai_chance = { factor = 1 }
		name = rahenraj.11.a
		
		reduce_stability_or_adm_power = yes
		reduce_legitimacy_large_effect = yes
		create_general = {
			tradition = 60
			add_shock = 3
			add_manuever = 2
			add_siege = 1
		}
		if = {
			limit = { has_country_modifier = rahen_soldiers_are_loyal_to_gold }
			add_years_of_income = -1
		}
		else_if = {
			limit = { has_country_modifier = rahen_hand_picked_commanders }
			add_mil_power = -100
		}
	}
	option = { #This man will lead the imperial bodyguard!
		ai_chance = { factor = 1 }
		name = rahenraj.11.b
		
		define_advisor = {
			type = grand_captain
			skill = 2
			discount = yes
		}
		country_event = {
			id = rahenraj.12
			days = 1825 #5 years
			random = 1825
		}
		reduce_stability_or_adm_power = yes
		reduce_legitimacy_large_effect = yes
		if = {
			limit = { has_country_modifier = rahen_soldiers_are_loyal_to_gold }
			add_years_of_income = -1
		}
		else_if = {
			limit = { has_country_modifier = rahen_hand_picked_commanders }
			add_mil_power = -100
		}
	}
	option = { #His skill might be great, but his lack of noble blood is discouraging
		ai_chance = { factor = 1 }
		name = rahenraj.11.c
		
		create_general = {
			tradition = 30
			culture = ROOT
		}
		add_estate_influence_modifier = {
			estate = estate_nobles
			desc = EST_VAL_NOBLES_RAHEN_NOBLE_OFFICERS
			influence = 10
			duration = 9125 #25 years
		}
		if = {
			limit = { has_country_modifier = rahen_soldiers_are_loyal_to_gold }
			add_years_of_income = -1
		}
		else_if = {
			limit = { has_country_modifier = rahen_hand_picked_commanders }
			add_mil_power = -100
		}
	}
}
country_event = { #New general organises the military
	id = rahenraj.12
	title = rahenraj.12.t
	desc = rahenraj.12.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #Finally, structure!
		ai_chance = { factor = 1 }
		name = rahenraj.12.a
		
		remove_country_modifier = rahen_disorganised_military
	}
}
country_event = { #How do we want to test our commanders' loyalty?
	id = rahenraj.13
	title = rahenraj.13.t
	desc = rahenraj.13.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #Gather intelligence on each commander
		ai_chance = { factor = 1 }
		name = rahenraj.13.a
		
		add_country_modifier = {
			name = rahen_internal_military_monitoring
			duration = 18250 #50 years
		}
		hidden_effect = {
			country_event = {
				id = rahenraj.14
				days = 365
				random = 365
			}
		}
	}
	option = { #Devise a test
		ai_chance = { factor = 1 }
		name = rahenraj.13.b
		
		add_mil_power = -100
		
		hidden_effect = {
			country_event = {
				id = rahenraj.15
				days = 365
				random = 365
			}
		}
	}
}
country_event = { #The most loyal have been filtered out and the disloyal have been put on a list
	id = rahenraj.14
	title = rahenraj.14.t
	desc = rahenraj.14.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			country_event = {
				id = rahenraj.17
				days = 730 #2 years
				random = 365
			}
		}
	}
	
	option = { #Reward the most loyal ones to promote good behaviour
		ai_chance = { factor = 1 }
		name = rahenraj.14.a
		
		add_country_modifier = {
			name = rahen_rewarding_loyal_officers
			duration = 9125 #25 years
		}
	}
	option = { #Sack the most disloyal and blackmail the other dissenters to have them fall in line
		ai_chance = { factor = 1 }
		name = rahenraj.14.b
		
		add_country_modifier = {
			name = rahen_blackmailing_disloyal_officers
			duration = 9125 #25 years
		}
	}
}
country_event = { #The test preparations have been finished
	id = rahenraj.15
	title = rahenraj.15.t
	desc = rahenraj.15.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			country_event = {
				id = rahenraj.16
				days = 1825 #5 years
				random = 365
			}
		}
	}
	
	option = { #Commence the tests
		ai_chance = { factor = 1 }
		name = rahenraj.15.a
		
	}
}
country_event = { #The test has been concluded
	id = rahenraj.16
	title = rahenraj.16.t
	desc = rahenraj.16.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			country_event = {
				id = rahenraj.17
				days = 730 #2 years
				random = 365
			}
		}
	}
	
	option = { #Make rank adjustments as appropriate
		ai_chance = { factor = 1 }
		name = rahenraj.16.a
		
	}
}
country_event = { #Officers have fallen in line
	id = rahenraj.17
	title = rahenraj.17.t
	desc = rahenraj.17.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #After a rigorous program of reforms we have now managed to ensure the loyalty of our officer corps
		ai_chance = { factor = 1 }
		name = rahenraj.17.a
		
		4411 = { remove_province_modifier = rahen_disloyal_officers }
		remove_country_modifier = rahen_court_reformations
		hidden_effect = { rahen_add_completed_reforms_flag = yes }
	}
}

#Reform the ministry
country_event = {
	id = rahenraj.20
	title = rahenraj.20.t
	desc = rahenraj.20.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	major = yes
	is_triggered_only = yes
	
	option = { #Found the Board of Inquiry
		ai_chance = { factor = 1 }
		name = rahenraj.20.a
		
		add_country_modifier = {
			name = rahen_board_of_inquiry
			duration = -1
		}
		hidden_effect = {
			country_event = {
				id = rahenraj.21
				days = 15
				random = 60
			}
		}
	}
	option = { #Dismiss the ministries
		ai_chance = { factor = 1 }
		name = rahenraj.20.b
		
		4411 = { remove_province_modifier = rahen_corrupt_ministers }
		remove_country_modifier = rahen_court_reformations
		add_country_modifier = {
			name = rahen_despotic_rule
			duration = 18250 #50 years
		}
		
		add_country_modifier = {
			name = rahen_dismissed_ministries
			duration = 10950 #30 years
		}
		add_country_modifier = {
			name = rahen_ministry_of_agriculture_dismissed
			duration = 10950 #30 years
		}
		add_country_modifier = {
			name = rahen_ministry_of_philosophy_dismissed
			duration = 10950 #30 years
		}
		add_country_modifier = {
			name = rahen_ministry_of_commerce_dismissed
			duration = 10950 #30 years
		}
		add_country_modifier = {
			name = rahen_ministry_of_infrastructure_dismissed
			duration = 10950 #30 years
		}
		add_country_modifier = {
			name = rahen_ministry_of_justice_dismissed
			duration = 10950 #30 years
		}
		
		hidden_effect = {
			every_subject_country = {
				add_country_modifier = {
					name = rahen_ministry_of_agriculture_dismissed
					duration = 3650 #10 years
				}
				add_country_modifier = {
					name = rahen_ministry_of_philosophy_dismissed
					duration = 3650 #10 years
				}
				add_country_modifier = {
					name = rahen_ministry_of_commerce_dismissed
					duration = 3650 #10 years
				}
				add_country_modifier = {
					name = rahen_ministry_of_infrastructure_dismissed
					duration = 3650 #10 years
				}
				add_country_modifier = {
					name = rahen_ministry_of_justice_dismissed
					duration = 3650 #10 years
				}
			}
			
			country_event = {
				id = rahenraj.27
				days = 1825
				random = 3650
			}
			country_event = {
				id = rahenraj.28
				days = 1825
				random = 3650
			}
			country_event = {
				id = rahenraj.29
				days = 1825
				random = 3650
			}
			country_event = {
				id = rahenraj.30
				days = 1825
				random = 3650
			}
			country_event = {
				id = rahenraj.31
				days = 1825
				random = 3650
			}
			hidden_effect = { rahen_add_completed_reforms_flag = yes }
		}
	}
	option = { #Nevermind, this will be too disruptive
		ai_chance = { factor = 1 }
		name = rahenraj.7.c
		
		add_stability_or_adm_power = yes
		remove_country_modifier = rahen_court_reformations
	}
}
country_event = { #What should the approach of the board be?
	id = rahenraj.21
	title = rahenraj.21.t
	desc = rahenraj.21.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #Supervision of the ministries
		ai_chance = { factor = 1 }
		name = rahenraj.21.a
		
		add_country_modifier = {
			name = rahen_supervised_ministries
			duration = 9125 #25 years
		}
		hidden_effect = {
			country_event = {
				id = rahenraj.22
				days = 730
				random = 1095
			}
		}
	}
	option = { #The purging of misbehaving ministers
		ai_chance = { factor = 1 }
		name = rahenraj.21.b
		
		
		add_country_modifier = {
			name = rahen_purging_policy
			duration = 5475 #15 years
		}
		hidden_effect = {
			country_event = {
				id = rahenraj.22
				days = 365
				random = 365
			}
		}
	}
}
country_event = { #The first steps
	id = rahenraj.22
	title = rahenraj.22.t
	desc = rahenraj.22.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #It'll be a while
		ai_chance = { factor = 1 }
		name = rahenraj.22.a
		
		add_country_modifier = {
			name = rahen_restoring_ministry_1
			duration = -1
		}
		
		if = {
			limit = { has_country_modifier = rahen_supervised_ministries }
			add_adm_power = -50
			add_prestige = -10
		}
		else_if = {
			limit = { has_country_modifier = rahen_purging_policy }
			add_adm_power = -100
			random = {
				chance = 33
				4411 = {
					spawn_rebels = {
						type = noble_rebels
						size = 1
					}
				}
			}
			random = {
				chance = 33
				reduce_stability_or_adm_power = yes
			}
		}
		
		hidden_effect = {
			if = {
				limit = { has_country_modifier = rahen_supervised_ministries }
				country_event = {
					id = rahenraj.23
					days = 730
					random = 1095
				}
			}
			else_if = {
				limit = { has_country_modifier = rahen_purging_policy }
				country_event = {
					id = rahenraj.23
					days = 365
					random = 365
				}
			}
		}
	}
}
country_event = { #We're seeing improvement
	id = rahenraj.23
	title = rahenraj.23.t
	desc = rahenraj.23.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #Good, good
		ai_chance = { factor = 1 }
		name = rahenraj.23.a
		
		add_country_modifier = {
			name = rahen_restoring_ministry_2
			duration = -1
		}
		remove_country_modifier = rahen_restoring_ministry_1
		
		if = {
			limit = { has_country_modifier = rahen_supervised_ministries }
			add_adm_power = -50
			add_prestige = -10
		}
		else_if = {
			limit = { has_country_modifier = rahen_purging_policy }
			add_adm_power = -100
			random = {
				chance = 33
				4411 = {
					spawn_rebels = {
						type = noble_rebels
						size = 1
					}
				}
			}
			random = {
				chance = 33
				reduce_stability_or_adm_power = yes
			}
		}
		
		hidden_effect = {
			if = {
				limit = { has_country_modifier = rahen_supervised_ministries }
				country_event = {
					id = rahenraj.24
					days = 730
					random = 1095
				}
			}
			else_if = {
				limit = { has_country_modifier = rahen_purging_policy }
				country_event = {
					id = rahenraj.24
					days = 365
					random = 365
				}
			}
		}
	}
}
country_event = { #A high level suspect
	id = rahenraj.24
	title = rahenraj.24.t
	desc = rahenraj.24.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #Glad that's rooted out
		ai_chance = { factor = 1 }
		name = rahenraj.24.a
		
		add_country_modifier = {
			name = rahen_restoring_ministry_3
			duration = -1
		}
		remove_country_modifier = rahen_restoring_ministry_2
		
		if = {
			limit = { has_country_modifier = rahen_supervised_ministries }
			add_adm_power = -50
			add_prestige = -10
		}
		else_if = {
			limit = { has_country_modifier = rahen_purging_policy }
			add_adm_power = -100
			random = {
				chance = 33
				4411 = {
					spawn_rebels = {
						type = noble_rebels
						size = 1
					}
				}
			}
			random = {
				chance = 33
				reduce_stability_or_adm_power = yes
			}
		}
		
		hidden_effect = {
			if = {
				limit = { has_country_modifier = rahen_supervised_ministries }
				country_event = {
					id = rahenraj.25
					days = 730
					random = 1095
				}
			}
			else_if = {
				limit = { has_country_modifier = rahen_purging_policy }
				country_event = {
					id = rahenraj.25
					days = 365
					random = 365
				}
			}
		}
	}
}
country_event = { #Functioning ministries
	id = rahenraj.25
	title = rahenraj.25.t
	desc = rahenraj.25.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #We're almost there
		ai_chance = { factor = 1 }
		name = rahenraj.25.a
		
		add_country_modifier = {
			name = rahen_restoring_ministry_4
			duration = -1
		}
		remove_country_modifier = rahen_restoring_ministry_3
		
		hidden_effect = {
			if = {
				limit = { has_country_modifier = rahen_supervised_ministries }
				country_event = {
					id = rahenraj.26
					days = 730
					random = 1095
				}
			}
			else_if = {
				limit = { has_country_modifier = rahen_purging_policy }
				country_event = {
					id = rahenraj.26
					days = 365
					random = 365
				}
			}
		}
	}
}
country_event = { #The ministries have been cleansed
	id = rahenraj.26
	title = rahenraj.26.t
	desc = rahenraj.26.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #Splendid
		ai_chance = { factor = 1 }
		name = rahenraj.26.a
		
		remove_country_modifier = rahen_restoring_ministry_4
		4411 = { remove_province_modifier = rahen_corrupt_ministers }
		remove_country_modifier = rahen_court_reformations
		remove_country_modifier = rahen_board_of_inquiry
		hidden_effect = { rahen_add_completed_reforms_flag = yes }
	}
}
country_event = { #Restoreing the ministry of agriculture
	id = rahenraj.27
	title = rahenraj.27.t
	desc = rahenraj.27.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #Let's build them up
		ai_chance = { factor = 3 }
		name = rahenraj.27.a
		
		remove_country_modifier = rahen_ministry_of_agriculture_dismissed
		hidden_effect = {
			every_subject_country = {
				remove_country_modifier = rahen_ministry_of_agriculture_dismissed
			}
		}
		
		define_advisor = {
			type = natural_scientist
			skill = 2
			discount = yes
		}
		
		if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_4 }
			remove_country_modifier = rahen_deminished_despotic_rule_4
		}
		else_if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_3 }
			remove_country_modifier = rahen_deminished_despotic_rule_3
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_4
				duration = 18250
			}
		}
		else_if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_2 }
			remove_country_modifier = rahen_deminished_despotic_rule_2
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_3
				duration = 18250
			}
		}
		else_if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_1 }
			remove_country_modifier = rahen_deminished_despotic_rule_1
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_2
				duration = 18250
			}
		}
		else_if = {
			limit = { has_country_modifier = rahen_despotic_rule }
			remove_country_modifier = rahen_despotic_rule
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_1
				duration = 18250
			}
		}
		
		if = {
			limit = {
				NOT = {
					has_country_modifier = rahen_ministry_of_agriculture_dismissed
					has_country_modifier = rahen_ministry_of_infrastructure_dismissed
					has_country_modifier = rahen_ministry_of_philosophy_dismissed
					has_country_modifier = rahen_ministry_of_commerce_dismissed
					has_country_modifier = rahen_ministry_of_justice_dismissed
				}
			}
			remove_country_modifier = rahen_dismissed_ministries
		}
	}
	
	option = { #We don't need them
		ai_chance = { factor = 1 }
		name = rahenraj.27.b
		
		hidden_effect = {
			if = {
				limit = { has_country_flag = rahen_ministries_disbanded_2 }
				
				country_event = {
					id = rahenraj.32
					days = 365
					random = 365
				}
			}
			else_if = {
				limit = { has_country_flag = rahen_ministries_disbanded_1 }
				set_country_flag = rahen_ministries_disbanded_2
			}
			else = {
				set_country_flag = rahen_ministries_disbanded_1
			}
		}
	}
}
country_event = { #Restoreing the ministry of philosophy
	id = rahenraj.28
	title = rahenraj.28.t
	desc = rahenraj.28.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #Let's build them up
		ai_chance = { factor = 3 }
		name = rahenraj.28.a
		
		remove_country_modifier = rahen_ministry_of_philosophy_dismissed
		hidden_effect = {
			every_subject_country = {
				remove_country_modifier = rahen_ministry_of_philosophy_dismissed
			}
		}
		
		define_advisor = {
			type = philosopher
			skill = 2
			discount = yes
		}
		
		if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_4 }
			remove_country_modifier = rahen_deminished_despotic_rule_4
		}
		else_if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_3 }
			remove_country_modifier = rahen_deminished_despotic_rule_3
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_4
				duration = 18250
			}
		}
		else_if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_2 }
			remove_country_modifier = rahen_deminished_despotic_rule_2
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_3
				duration = 18250
			}
		}
		else_if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_1 }
			remove_country_modifier = rahen_deminished_despotic_rule_1
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_2
				duration = 18250
			}
		}
		else_if = {
			limit = { has_country_modifier = rahen_despotic_rule }
			remove_country_modifier = rahen_despotic_rule
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_1
				duration = 18250
			}
		}
		
		if = {
			limit = {
				NOT = {
					has_country_modifier = rahen_ministry_of_agriculture_dismissed
					has_country_modifier = rahen_ministry_of_infrastructure_dismissed
					has_country_modifier = rahen_ministry_of_philosophy_dismissed
					has_country_modifier = rahen_ministry_of_commerce_dismissed
					has_country_modifier = rahen_ministry_of_justice_dismissed
				}
			}
			remove_country_modifier = rahen_dismissed_ministries
		}
	}
	
	option = { #We don't need them
		ai_chance = { factor = 1 }
		name = rahenraj.28.b
		
		hidden_effect = {
			if = {
				limit = { has_country_flag = rahen_ministries_disbanded_2 }
				
				country_event = {
					id = rahenraj.32
					days = 365
					random = 365
				}
			}
			else_if = {
				limit = { has_country_flag = rahen_ministries_disbanded_1 }
				set_country_flag = rahen_ministries_disbanded_2
			}
			else = {
				set_country_flag = rahen_ministries_disbanded_1
			}
		}
	}
}
country_event = { #Restoreing the ministry of commerce
	id = rahenraj.29
	title = rahenraj.29.t
	desc = rahenraj.29.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #Let's build them up
		ai_chance = { factor = 3 }
		name = rahenraj.29.a
		
		remove_country_modifier = rahen_ministry_of_commerce_dismissed
		hidden_effect = {
			every_subject_country = {
				remove_country_modifier = rahen_ministry_of_commerce_dismissed
			}
		}
		
		define_advisor = {
			type = trader
			skill = 2
			discount = yes
		}
		
		if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_4 }
			remove_country_modifier = rahen_deminished_despotic_rule_4
		}
		else_if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_3 }
			remove_country_modifier = rahen_deminished_despotic_rule_3
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_4
				duration = 18250
			}
		}
		else_if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_2 }
			remove_country_modifier = rahen_deminished_despotic_rule_2
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_3
				duration = 18250
			}
		}
		else_if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_1 }
			remove_country_modifier = rahen_deminished_despotic_rule_1
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_2
				duration = 18250
			}
		}
		else_if = {
			limit = { has_country_modifier = rahen_despotic_rule }
			remove_country_modifier = rahen_despotic_rule
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_1
				duration = 18250
			}
		}
		
		if = {
			limit = {
				NOT = {
					has_country_modifier = rahen_ministry_of_agriculture_dismissed
					has_country_modifier = rahen_ministry_of_infrastructure_dismissed
					has_country_modifier = rahen_ministry_of_philosophy_dismissed
					has_country_modifier = rahen_ministry_of_commerce_dismissed
					has_country_modifier = rahen_ministry_of_justice_dismissed
				}
			}
			remove_country_modifier = rahen_dismissed_ministries
		}
	}
	
	option = { #We don't need them
		ai_chance = { factor = 1 }
		name = rahenraj.29.b
		
		hidden_effect = {
			if = {
				limit = { has_country_flag = rahen_ministries_disbanded_2 }
				
				country_event = {
					id = rahenraj.32
					days = 365
					random = 365
				}
			}
			else_if = {
				limit = { has_country_flag = rahen_ministries_disbanded_1 }
				set_country_flag = rahen_ministries_disbanded_2
			}
			else = {
				set_country_flag = rahen_ministries_disbanded_1
			}
		}
	}
}
country_event = { #Restoreing the ministry of infrastructure
	id = rahenraj.30
	title = rahenraj.30.t
	desc = rahenraj.30.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #Let's build them up
		ai_chance = { factor = 3 }
		name = rahenraj.30.a
		
		remove_country_modifier = rahen_ministry_of_infrastructure_dismissed
		hidden_effect = {
			every_subject_country = {
				remove_country_modifier = rahen_ministry_of_infrastructure_dismissed
			}
		}
		
		define_advisor = {
			type = fortification_expert
			skill = 2
			discount = yes
		}
		
		if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_4 }
			remove_country_modifier = rahen_deminished_despotic_rule_4
		}
		else_if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_3 }
			remove_country_modifier = rahen_deminished_despotic_rule_3
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_4
				duration = 18250
			}
		}
		else_if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_2 }
			remove_country_modifier = rahen_deminished_despotic_rule_2
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_3
				duration = 18250
			}
		}
		else_if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_1 }
			remove_country_modifier = rahen_deminished_despotic_rule_1
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_2
				duration = 18250
			}
		}
		else_if = {
			limit = { has_country_modifier = rahen_despotic_rule }
			remove_country_modifier = rahen_despotic_rule
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_1
				duration = 18250
			}
		}
		
		if = {
			limit = {
				NOT = {
					has_country_modifier = rahen_ministry_of_agriculture_dismissed
					has_country_modifier = rahen_ministry_of_infrastructure_dismissed
					has_country_modifier = rahen_ministry_of_philosophy_dismissed
					has_country_modifier = rahen_ministry_of_commerce_dismissed
					has_country_modifier = rahen_ministry_of_justice_dismissed
				}
			}
			remove_country_modifier = rahen_dismissed_ministries
		}
	}
	
	option = { #We don't need them
		ai_chance = { factor = 1 }
		name = rahenraj.30.b
		
		hidden_effect = {
			if = {
				limit = { has_country_flag = rahen_ministries_disbanded_2 }
				
				country_event = {
					id = rahenraj.32
					days = 365
					random = 365
				}
			}
			else_if = {
				limit = { has_country_flag = rahen_ministries_disbanded_1 }
				set_country_flag = rahen_ministries_disbanded_2
			}
			else = {
				set_country_flag = rahen_ministries_disbanded_1
			}
		}
	}
}
country_event = { #Restoreing the ministry of justice
	id = rahenraj.31
	title = rahenraj.31.t
	desc = rahenraj.31.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #Let's build them up
		ai_chance = { factor = 3 }
		name = rahenraj.31.a
		
		remove_country_modifier = rahen_ministry_of_justice_dismissed
		hidden_effect = {
			every_subject_country = {
				remove_country_modifier = rahen_ministry_of_justice_dismissed
			}
		}
		define_advisor = {
			type = theologian
			skill = 2
			discount = yes
		}
		
		if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_4 }
			remove_country_modifier = rahen_deminished_despotic_rule_4
		}
		else_if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_3 }
			remove_country_modifier = rahen_deminished_despotic_rule_3
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_4
				duration = 18250
			}
		}
		else_if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_2 }
			remove_country_modifier = rahen_deminished_despotic_rule_2
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_3
				duration = 18250
			}
		}
		else_if = {
			limit = { has_country_modifier = rahen_deminished_despotic_rule_1 }
			remove_country_modifier = rahen_deminished_despotic_rule_1
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_2
				duration = 18250
			}
		}
		else_if = {
			limit = { has_country_modifier = rahen_despotic_rule }
			remove_country_modifier = rahen_despotic_rule
			add_country_modifier = {
				name = rahen_deminished_despotic_rule_1
				duration = 18250
			}
		}
		
		if = {
			limit = {
				NOT = {
					has_country_modifier = rahen_ministry_of_agriculture_dismissed
					has_country_modifier = rahen_ministry_of_infrastructure_dismissed
					has_country_modifier = rahen_ministry_of_philosophy_dismissed
					has_country_modifier = rahen_ministry_of_commerce_dismissed
					has_country_modifier = rahen_ministry_of_justice_dismissed
				}
			}
			remove_country_modifier = rahen_dismissed_ministries
		}
	}
	
	option = { #We don't need them
		ai_chance = { factor = 1 }
		name = rahenraj.31.b
		
		hidden_effect = {
			if = {
				limit = { has_country_flag = rahen_ministries_disbanded_2 }
				
				country_event = {
					id = rahenraj.32
					days = 365
					random = 365
				}
			}
			else_if = {
				limit = { has_country_flag = rahen_ministries_disbanded_1 }
				set_country_flag = rahen_ministries_disbanded_2
			}
			else = {
				set_country_flag = rahen_ministries_disbanded_1
			}
		}
	}
}
country_event = { #Collapse of the Raj
	id = rahenraj.32
	title = rahenraj.32.t
	desc = rahenraj.32.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	major = yes
	is_triggered_only = yes
	
	option = { #Oh boy
		ai_chance = { factor = 1 }
		name = rahenraj.32.a
		
		add_stability = -4
		every_subject_country = {
			every_owned_province = {
				add_claim = ROOT
			}
		}
		every_subject_country = {
			limit = {
				NOT = {
					AND = {
						capital_scope = { province_group = harimraj_core_lands }
						NOT = { liberty_desire = 50 }
					}
				}
			}
			grant_independence = yes
			if = {
				limit = {
					OR = {
						has_reform = senapti_reform
						has_reform = prabhi_reform
					}
				}
				add_government_reform = indep_prabhi_reform
			}
		}
		every_subject_country = {
			overlord = {
				create_subject = {
					subject_type = vassal
					subject = PREV
				}
			}
		}
		4411 = {
			remove_province_modifier = rahen_corrupt_ministers
			remove_province_modifier = rahen_powerful_nobility
			remove_province_modifier = rahen_arrogant_foreign_office
			remove_province_modifier = rahen_disloyal_officers
		}
		add_government_reform = autocracy_reform
		
		hidden_effect = {
			rahen_remove_harimraj_reforms_effect = yes
			set_country_flag = rahen_corrupt_court_completed
			clr_country_flag = reformed_rahen_court
			remove_country_modifier = raj_opened_senapti_ranks
			remove_country_modifier = raj_closed_senapti_ranks
		}
	}
}

#Reform the foreign office
country_event = {
	id = rahenraj.40
	title = rahenraj.40.t
	desc = rahenraj.40.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	major = yes
	is_triggered_only = yes
	
	option = { #Accompany diplomats during missions
		ai_chance = { factor = 1 }
		name = rahenraj.40.a
		
		reduce_legitimacy_large_effect = yes
		add_country_modifier = {
			name = rahen_raja_accompanying_diplomatic_missions
			duration = -1
		}
	}
	option = { #Temporarily disestablish the foreign office
		ai_chance = { factor = 1 }
		name = rahenraj.40.b
		
		add_country_modifier = {
			name = rahen_dismissed_foreign_office
			duration = 18250 #50 years
		}
		remove_country_modifier = rahen_court_reformations
		4411 = { remove_province_modifier = rahen_arrogant_foreign_office }
		hidden_effect = {
			country_event = {
				id = rahenraj.41
				days = 365
				random = 1460
			}
		}
		hidden_effect = { rahen_add_completed_reforms_flag = yes }
	}
	option = { #Nevermind, this will be too disruptive
		ai_chance = { factor = 1 }
		name = rahenraj.7.c
		
		add_stability_or_adm_power = yes
		remove_country_modifier = rahen_court_reformations
	}
}
country_event = { #A group of people appears at court wanting to refound the foreign office, but they don't agree how
	id = rahenraj.41
	title = rahenraj.41.t
	desc = rahenraj.41.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			country_event = {
				id = rahenraj.42
				days = 365
				random = 1825
			}
		}
	}
	
	option = { #A highly educated nobleman
		ai_chance = { factor = 1 }
		name = rahenraj.41.a
		
		define_advisor = {
			type = diplomat
			skill = 2
			discount = yes
		}
		add_estate_influence_modifier = {
			estate = estate_nobles 
			desc = EST_VAL_RAHEN_DIPLOMATIC_CORPS_FOUNDER
			influence = 10
			duration = 18250 #50 years
		}
	}
	option = { #A wise wizard
		ai_chance = { factor = 1 }
		name = rahenraj.41.b
		
		define_advisor = {
			type = diplomat
			skill = 2
			discount = yes
		}
		add_estate_influence_modifier = {
			estate = estate_mages 
			desc = EST_VAL_RAHEN_DIPLOMATIC_CORPS_FOUNDER
			influence = 10
			duration = 18250 #50 years
		}
	}
	option = { #A philosopher and rhetorician
		ai_chance = { factor = 1 }
		name = rahenraj.41.c
		
		define_advisor = {
			type = diplomat
			skill = 2
			discount = yes
		}
		add_estate_influence_modifier = {
			estate = estate_church
			desc = EST_VAL_RAHEN_DIPLOMATIC_CORPS_FOUNDER
			influence = 10
			duration = 18250 #50 years
		}
	}
	option = { #A well travelled merchant
		ai_chance = { factor = 1 }
		name = rahenraj.41.dd
		
		define_advisor = {
			type = diplomat
			skill = 2
			discount = yes
		}
		add_estate_influence_modifier = {
			estate = estate_burghers
			desc = EST_VAL_RAHEN_DIPLOMATIC_CORPS_FOUNDER
			influence = 10
			duration = 18250 #50 years
		}
	}
	option = { #A charming bard
		ai_chance = { factor = 1 }
		name = rahenraj.41.e
		
		define_advisor = {
			type = diplomat
			skill = 2
			female = yes
			discount = yes
		}
		add_estate_influence_modifier = {
			estate = estate_adventurers 
			desc = EST_VAL_RAHEN_DIPLOMATIC_CORPS_FOUNDER
			influence = 10
			duration = 18250 #50 years
		}
	}
}
country_event = { #We're starting to get recruits
	id = rahenraj.42
	title = rahenraj.42.t
	desc = rahenraj.42.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			country_event = {
				id = rahenraj.43
				days = 1825
				random = 3650
			}
		}
	}
	
	option = { #Start educating them
		ai_chance = { factor = 1 }
		name = rahenraj.42.a
		
		if = {
			limit = { has_estate_influence_modifier = { estate = estate_nobles modifier = EST_VAL_RAHEN_DIPLOMATIC_CORPS_FOUNDER  } }
			add_country_modifier = {
				name = rahen_noble_diplomats
				duration = 18250 #50 years
			}
		}
		else_if = {
			limit = { has_estate_influence_modifier = { estate = estate_mages modifier = EST_VAL_RAHEN_DIPLOMATIC_CORPS_FOUNDER  } }
			add_country_modifier = {
				name = rahen_wizard_diplomats
				duration = 18250 #50 years
			}
		}
		else_if = {
			limit = { has_estate_influence_modifier = { estate = estate_church modifier = EST_VAL_RAHEN_DIPLOMATIC_CORPS_FOUNDER  } }
			add_country_modifier = {
				name = rahen_philosopher_diplomats
				duration = 18250 #50 years
			}
		}
		else_if = {
			limit = { has_estate_influence_modifier = { estate = estate_burghers modifier = EST_VAL_RAHEN_DIPLOMATIC_CORPS_FOUNDER  } }
			add_country_modifier = {
				name = rahen_merchant_diplomats
				duration = 18250 #50 years
			}
		}
		else_if = {
			limit = { has_estate_influence_modifier = { estate = estate_adventurers modifier = EST_VAL_RAHEN_DIPLOMATIC_CORPS_FOUNDER  } }
			add_country_modifier = {
				name = rahen_adventurer_diplomats
				duration = 18250 #50 years
			}
		}
	}
}
country_event = { #Our corps is slowly shaping up
	id = rahenraj.43
	title = rahenraj.43.t
	desc = rahenraj.43.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			country_event = {
				id = rahenraj.44
				days = 730
				random = 1825
			}
		}
	}
	
	option = { #Let's start sending out our first fully trained diplomats
		ai_chance = { factor = 1 }
		name = rahenraj.43.a
		
		add_country_modifier = {
			name = rahen_burgeoning_diplomatic_corps
			duration = 18250 #50 years
		}
	}
}
country_event = { #Now to develop the rest of our corps
	id = rahenraj.44
	title = rahenraj.44.t
	desc = rahenraj.44.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			country_event = {
				id = rahenraj.45
				days = 730
				random = 1825
			}
		}
	}
	
	option = { #We want the best
		ai_chance = { factor = 1 }
		name = rahenraj.44.a
		
		remove_country_modifier = rahen_burgeoning_diplomatic_corps
		add_country_modifier = {
			name = rahen_developed_diplomatic_corps
			duration = 18250 #50 years
		}
	}
}
country_event = { #Talking to the world properly again
	id = rahenraj.45
	title = rahenraj.45.t
	desc = rahenraj.45.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #Now we can return to a normal state of foreign relations
		ai_chance = { factor = 1 }
		name = rahenraj.45.a
		
		remove_country_modifier = rahen_noble_diplomats
		remove_country_modifier = rahen_wizard_diplomats
		remove_country_modifier = rahen_philosopher_diplomats
		remove_country_modifier = rahen_merchant_diplomats
		remove_country_modifier = rahen_adventurer_diplomats
		
		remove_country_modifier = rahen_developed_diplomatic_corps
		remove_country_modifier = rahen_dismissed_foreign_office
		if = {
			limit = { has_estate_influence_modifier = { estate = estate_nobles modifier = EST_VAL_RAHEN_DIPLOMATIC_CORPS_FOUNDER  } }
			add_country_modifier = {
				name = rahen_noble_foreign_office
				duration = 9125 #25 years
			}
		}
		else_if = {
			limit = { has_estate_influence_modifier = { estate = estate_mages modifier = EST_VAL_RAHEN_DIPLOMATIC_CORPS_FOUNDER  } }
			add_country_modifier = {
				name = rahen_wizard_foreign_office
				duration = 9125 #25 years
			}
		}
		else_if = {
			limit = { has_estate_influence_modifier = { estate = estate_church modifier = EST_VAL_RAHEN_DIPLOMATIC_CORPS_FOUNDER  } }
			add_country_modifier = {
				name = rahen_philosopher_foreign_office
				duration = 9125 #25 years
			}
		}
		else_if = {
			limit = { has_estate_influence_modifier = { estate = estate_burghers modifier = EST_VAL_RAHEN_DIPLOMATIC_CORPS_FOUNDER  } }
			add_country_modifier = {
				name = rahen_merchant_foreign_office
				duration = 9125 #25 years
			}
		}
		else_if = {
			limit = { has_estate_influence_modifier = { estate = estate_adventurers modifier = EST_VAL_RAHEN_DIPLOMATIC_CORPS_FOUNDER  } }
			add_country_modifier = {
				name = rahen_adventurer_foreign_office
				duration = 9125 #25 years
			}
		}
	}
}

country_event = { #The Raja speaks to the court of [raja_visiting_court.GetName]
	id = rahenraj.46
	title = rahenraj.46.t
	desc = rahenraj.46.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	
	trigger = { has_country_modifier = rahen_raja_accompanying_diplomatic_missions }
	
	immediate = {
		hidden_effect = {
			random_known_country = {
				limit = {
					NOT = { is_rival = ROOT historical_rival_with = ROOT }
					NOT = {
						has_opinion_modifier = {
							who = ROOT
							modifier = rahen_raja_personal_visit
						}
						has_opinion_modifier = {
							who = ROOT
							modifier = rahen_raja_personal_insult
						}
					}
					NOT = { has_country_modifier = monstrous_nation }
				}
				save_global_event_target_as = raja_visiting_court
			}
		}
	}
	
	option = { #Let's forge some relations
		ai_chance = { factor = 1 }
		name = rahenraj.46.a
		
		trigger = {
			OR = {
				ruler_has_personality	= silver_tongue_personality
				ruler_has_personality	= charismatic_negotiator_personality
				ruler_has_personality	= careful_personality
				ruler_has_personality	= well_connected_personality
				dip = 6
			}
		}
		
		random_list = {
			60 = {
				country_event = { id = rahenraj.47 days = 1 }
			}
			38 = {
				country_event = { id = rahenraj.48 days = 1 }
			}
			2 = {
				country_event = { id = rahenraj.49 days = 1 }
			}
		}
	}
	option = { #I'd fuck her
		ai_chance = { factor = 1 }
		name = rahenraj.46.b
		
		trigger = {
			OR = {
				ruler_has_personality	= loose_lips_personality
				ruler_has_personality	= babbling_buffoon_personality
				ruler_has_personality	= fertile_personality
				ruler_has_personality	= drunkard_personality
				ruler_has_personality	= sinner_personality
				NOT = { dip = 2 }
			}
		}
		
		random_list = {
			10 = {
				country_event = { id = rahenraj.47 days = 1 }
			}
			50 = {
				country_event = { id = rahenraj.48 days = 1 }
			}
			40 = {
				country_event = { id = rahenraj.49 days = 1 }
			}
		}
	}
	option = { #Time to show those idiots how you negotiate
		ai_chance = { factor = 1 }
		name = rahenraj.46.c
		
		trigger = {
			OR = {
				ruler_has_personality	= malevolent_personality
				ruler_has_personality	= intricate_web_weaver_personality
				ruler_has_personality	= strict_personality
				ruler_has_personality	= fierce_negotiator_personality
				ruler_has_personality	= cruel_personality
			}
		}
		
		random_list = {
			45 = {
				country_event = { id = rahenraj.47 days = 1 }
			}
			40 = {
				country_event = { id = rahenraj.48 days = 1 }
			}
			15 = {
				country_event = { id = rahenraj.49 days = 1 }
			}
		}
	}
	option = { #Let's just go meet them
		ai_chance = { factor = 1 }
		name = rahenraj.46.dd
		
		trigger = {
			NOT = {
				ruler_has_personality	= malevolent_personality
				ruler_has_personality	= intricate_web_weaver_personality
				ruler_has_personality	= strict_personality
				ruler_has_personality	= fierce_negotiator_personality
				ruler_has_personality	= cruel_personality
				
				ruler_has_personality	= loose_lips_personality
				ruler_has_personality	= babbling_buffoon_personality
				ruler_has_personality	= fertile_personality
				ruler_has_personality	= drunkard_personality
				ruler_has_personality	= sinner_personality
				NOT = { dip = 2 }
				
				ruler_has_personality	= silver_tongue_personality
				ruler_has_personality	= charismatic_negotiator_personality
				ruler_has_personality	= careful_personality
				ruler_has_personality	= well_connected_personality
				dip = 6
			}
		}
		
		random_list = {
			30 = {
				country_event = { id = rahenraj.47 days = 1 }
			}
			65 = {
				country_event = { id = rahenraj.48 days = 1 }
			}
			5 = {
				country_event = { id = rahenraj.49 days = 1 }
			}
		}
	}
}
country_event = { #Great diplomatic success in [raja_visiting_court.GetName]
	id = rahenraj.47
	title = rahenraj.47.t
	desc = rahenraj.47.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	
	option = { #See, that's how you do it.
		ai_chance = { factor = 1 }
		name = rahenraj.47.a
		
		event_target:raja_visiting_court = { add_opinion = { who = ROOT modifier = rahen_raja_personal_visit } }
		if = {
			limit = { has_country_modifier = rahen_raja_restored_court_reputation_5 }
			country_event = { id = rahenraj.93 days = 5 }
		}
		else_if = {
			limit = { has_country_modifier = rahen_raja_restored_court_reputation_4 }
			remove_country_modifier = rahen_raja_restored_court_reputation_4
			add_country_modifier = { name = rahen_raja_restored_court_reputation_5 duration = -1 }
		}
		else_if = {
			limit = { has_country_modifier = rahen_raja_restored_court_reputation_3 }
			remove_country_modifier = rahen_raja_restored_court_reputation_3
			add_country_modifier = { name = rahen_raja_restored_court_reputation_4 duration = -1 }
		}
		else_if = {
			limit = { has_country_modifier = rahen_raja_restored_court_reputation_2 }
			remove_country_modifier = rahen_raja_restored_court_reputation_2
			add_country_modifier = { name = rahen_raja_restored_court_reputation_3 duration = -1 }
		}
		else_if = {
			limit = { has_country_modifier = rahen_raja_restored_court_reputation_1 }
			remove_country_modifier = rahen_raja_restored_court_reputation_1
			add_country_modifier = { name = rahen_raja_restored_court_reputation_2 duration = -1 }
		}
		else = {
			add_country_modifier = { name = rahen_raja_restored_court_reputation_1 duration = -1 }
		}
		hidden_effect = {
			event_target:raja_visiting_court = {
				country_event = { id = rahenraj.90 }
			}
		}
	}
}
country_event = { #Diplomatic visit to [raja_visiting_court.GetName]
	id = rahenraj.48
	title = rahenraj.48.t
	desc = rahenraj.48.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	
	option = { #That went well enough
		ai_chance = { factor = 1 }
		name = rahenraj.48.a
		
		event_target:raja_visiting_court = { add_opinion = { who = ROOT modifier = rahen_raja_personal_visit } }
		hidden_effect = {
			event_target:raja_visiting_court = {
				country_event = { id = rahenraj.91 }
			}
		}
	}
}
country_event = { #Diplomatic blunder in [raja_visiting_court.GetName]
	id = rahenraj.49
	title = rahenraj.49.t
	desc = rahenraj.49.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	
	option = { #Whoops.
		ai_chance = { factor = 1 }
		name = rahenraj.49.a
		
		event_target:raja_visiting_court = {
			add_opinion = { who = ROOT modifier = rahen_raja_personal_insult }
			add_casus_belli = {
				target = ROOT
				type = cb_insult
				months = 12
			}
		}
		add_country_modifier = { name = rahen_raja_diplomatic_blunder duration = 365 }
		hidden_effect = {
			event_target:raja_visiting_court = {
				country_event = { id = rahenraj.92 }
			}
		}
	}
}


#Reform the Nobility
country_event = {
	id = rahenraj.50
	title = rahenraj.50.t
	desc = rahenraj.50.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	major = yes
	is_triggered_only = yes
	
	option = { #Demand oaths of fealty and appoint successors
		ai_chance = { factor = 1 }
		name = rahenraj.50.a
		
		hidden_effect = {	
			country_event = {
				id = rahenraj.51
				days = 7
			}
		}
	}
	#option = { #Make a tour of the provinces
	#	ai_chance = { factor = 1 }
	#	name = rahenraj.50.b
	#	
	#	hidden_effect = {
	#		country_event = {
	#			id = rahenraj.51
	#			days = 30
	#		}
	#	}
	#}
	option = { #Nevermind, this will be too disruptive
		ai_chance = { factor = 0 }
		name = rahenraj.7.c
		
		add_stability_or_adm_power = yes
		remove_country_modifier = rahen_court_reformations
	}
}
country_event = { #Hosting a national banquet and demand oaths of fealty
	id = rahenraj.51
	title = rahenraj.51.t
	desc = rahenraj.51.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	major = yes
	is_triggered_only = yes
	
	option = { #They will come to court or they are traitors
		ai_chance = { factor = 1 }
		name = rahenraj.51.a
		
		hidden_effect = {	
			every_subject_country = {
				country_event = {
					id = rahenraj.52
					days = 30
					random = 30
				}
			}
		
			country_event = {
				id = rahenraj.53
				days = 120
				random = 60
			}
		}
	}
}
country_event = { #The Raja demands we visit court to pledge our allegiance, he also wishes to appoint our heir
	id = rahenraj.52
	title = rahenraj.52.t
	desc = rahenraj.52.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	
	option = { #We will bow down to the Raja's will
		ai_chance = { factor = 10 }
		name = rahenraj.52.a
		
		define_heir = {
			dynasty = ROOT
			age = 23
			change_adm = 3
			change_dip = 3
			change_mil = 3
			claim = 50
		}
	}
	option = { #Who does he think he is? He can come take our oath by force if he wants it!
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { liberty_desire = 30 }
			}
			modifier = {
				factor = 10
				liberty_desire = 50
			}
			modifier = {
				factor = 10
				liberty_desire = 80
			}
		}
		name = rahenraj.52.b
		hidden_effect = {
			overlord = { save_event_target_as = current_raja }
		}
		add_stability = -3
		add_government_reform = indep_prabhi_reform
		declare_war_with_cb = {
			who = event_target:current_raja
			casus_belli = cb_independence_war
		}
	}
}
country_event = { #All our subjects have either come and declared their oath, or they have proven their disloyalty
	id = rahenraj.53
	title = rahenraj.53.t
	desc = rahenraj.53.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	is_triggered_only = yes
	
	option = { #Good
		ai_chance = { factor = 1 }
		name = rahenraj.53.a
		
		remove_country_modifier = rahen_court_reformations
		4411 = { remove_province_modifier = rahen_powerful_nobility }
		add_country_modifier = {
			name = rahen_loyal_nobility
			duration = 9125 #25 years
		}
		hidden_effect = { rahen_add_completed_reforms_flag = yes }
	}
}

country_event = { #The Raja visited our court and was real nice!
	id = rahenraj.90
	title = rahenraj.90.t
	desc = rahenraj.90.d
	picture = COURT_eventPicture
	
	
	is_triggered_only = yes
	
	option = { #Great!
		ai_chance = { factor = 1 }
		name = rahenraj.90.a
		
		add_prestige = 25
	}
}
country_event = { #The Raja visited our court!
	id = rahenraj.91
	title = rahenraj.91.t
	desc = rahenraj.91.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	
	option = { #Great!
		ai_chance = { factor = 1 }
		name = rahenraj.91.a
		
		add_prestige = 10
	}
}
country_event = { #The Raja visited our court and was the worst guest!
	id = rahenraj.92
	title = rahenraj.92.t
	desc = rahenraj.92.d
	picture = ACCUSATION_eventPicture
	
	is_triggered_only = yes
	
	option = { #Typical
		ai_chance = { factor = 1 }
		name = rahenraj.92.a
		
		add_prestige = -5
	}
}
country_event = { #The Raja has set an example for our foreign office, they'll learn from this.
	id = rahenraj.93
	title = rahenraj.93.t
	desc = rahenraj.93.d
	picture = ACCUSATION_eventPicture
	
	is_triggered_only = yes
	
	option = { #They better
		ai_chance = { factor = 1 }
		name = rahenraj.93.a
		
		remove_country_modifier = rahen_raja_accompanying_diplomatic_missions
		remove_country_modifier = rahen_raja_restored_court_reputation_5
		remove_country_modifier = rahen_court_reformations
		4411 = { remove_province_modifier = rahen_arrogant_foreign_office }
		add_ruler_modifier = { name = rahen_raja_of_the_foreign_courts duration = -1 }
		hidden_effect = { rahen_add_completed_reforms_flag = yes }
	}
}


country_event = { #The Court has finally been reformed
	id = rahenraj.97
	title = rahenraj.97.t
	desc = rahenraj.97.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	trigger = { has_country_flag = reformed_rahen_court }
	
	option = { #Shit
		ai_chance = { factor = 1 }
		name = rahenraj.97.a
		
		add_government_reform = restructured_dhenijansari_court_reform
		add_country_modifier = {
			name = rahen_curtailed_courts
			duration = 9125 #25 years
		}
		hidden_effect = {
			clr_country_flag = rahen_ministries_disbanded_1
			clr_country_flag = rahen_ministries_disbanded_2
			set_country_flag = rahen_corrupt_court_completed
		}
	}
}
country_event = { #The Court is completely out of our control
	id = rahenraj.98
	title = rahenraj.98.t
	desc = rahenraj.98.d
	picture = COURT_eventPicture
	
	trigger = { capital = 4411 }
	
	major = yes
	is_triggered_only = yes
	
	option = { #How dare they disobey me!
		ai_chance = { factor = 1 }
		name = rahenraj.98.a
		
		reduce_legitimacy_huge_effect = yes
	}
}
country_event = { #The Court has finally been reformed
	id = rahenraj.99
	title = rahenraj.99.t
	desc = rahenraj.99.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	option = { #Grand!
		ai_chance = { factor = 1 }
		name = rahenraj.99.a
		
		set_country_flag = rahen_corrupt_court_completed
		country_event = {
			id = rahenraj.97
			days = 5
		}
	}
}

#########################
### Random Raj Events ###
#########################

country_event = { #Someone relieved our treasury of some gold
	id = rahenraj.100
	title = rahenraj.100.t
	desc = rahenraj.100.d
	picture = ACCUSATION_eventPicture
	
	is_triggered_only = yes
	
	option = { #Not now
		ai_chance = { factor = 1 }
		name = rahenraj.100.a
		
		add_years_of_income = -0.5
	}
}
country_event = { #Blackmailed by a courtier
	id = rahenraj.101
	title = rahenraj.101.t
	desc = rahenraj.101.d
	picture = ACCUSATION_eventPicture
	
	is_triggered_only = yes
	
	option = { #Give in
		ai_chance = { factor = 1 }
		name = rahenraj.101.a
		
		add_corruption = 1
	}
	option = { #Refuse
		ai_chance = {
			factor = 1
			modifier = {
				factor = 10
				stability = 1
			}
			modifier = {
				factor = 10
				NOT = { stability = -2 }
			}
		}
		name = rahenraj.101.b
		
		reduce_stability_or_adm_power = yes
		add_corruption = -0.5
	}
}
country_event = { #A band of adventurers offers aid in rooting out corruption
	id = rahenraj.102
	title = rahenraj.102.t
	desc = rahenraj.102.d
	picture = ACCUSATION_eventPicture
	
	is_triggered_only = yes
	
	trigger = { NOT = { has_estate_influence_modifier = { estate = estate_adventurers modifier = EST_VAL_ADVENTURER_RAHEN_ACCEPTED_AID } } }
	
	option = { #Take them up on their offer
		ai_chance = { factor = 10 }
		name = rahenraj.102.a
		
		add_corruption = -0.2
		add_estate_influence_modifier = {
			estate = estate_adventurers 
			desc = EST_VAL_ADVENTURER_RAHEN_ACCEPTED_AID
			influence = 20
			duration = 1825
		}
	}
	option = { #Deny them
		ai_chance = { factor = 1 }
		name = rahenraj.102.b
		
		increase_legitimacy_medium_effect = yes
	}
}
country_event = { #The nobility offers aid stabalising the country
	id = rahenraj.103
	title = rahenraj.103.t
	desc = rahenraj.103.d
	picture = ACCUSATION_eventPicture
	
	is_triggered_only = yes
	
	trigger = { NOT = { has_estate_influence_modifier = { estate = estate_nobles modifier = EST_VAL_NOBLES_RAHEN_NOBLE_APPEASEMENT } } }
	
	option = { #Take them up on their offer
		ai_chance = { factor = 1 }
		name = rahenraj.103.a
		
		add_stability_or_adm_power = yes
		add_corruption = 1
		add_estate_influence_modifier = {
			estate = estate_nobles 
			desc = EST_VAL_NOBLES_RAHEN_NOBLE_APPEASEMENT
			influence = 20
			duration = 1825
		}
	}
	option = { #Deny them
		ai_chance = {
			factor = 1
			modifier = {
				factor = 10
				stability = 0
			}
		}
		name = rahenraj.103.b
		
		add_corruption = -0.2
	}
}
country_event = { #The Merchants offer monetary aid
	id = rahenraj.104
	title = rahenraj.104.t
	desc = rahenraj.104.d
	picture = ACCUSATION_eventPicture
	
	is_triggered_only = yes
	
	trigger = { NOT = { has_estate_influence_modifier = { estate = estate_burghers modifier = EST_VAL_MERCHANTS_RAHEN_MONETARY_AID } } }
	
	option = { #Take them up on their offer
		ai_chance = { factor = 1 }
		name = rahenraj.104.a
		
		add_years_of_income = 1
		add_corruption = 1
		add_estate_influence_modifier = {
			estate = estate_burghers 
			desc = EST_VAL_MERCHANTS_RAHEN_MONETARY_AID
			influence = 20
			duration = 1825
		}
	}
	option = { #Deny them
		ai_chance = {
			factor = 1
			modifier = {
				factor = 10
				NOT = { num_of_loans = 1 }
			}
		}
		name = rahenraj.104.b
		
		add_corruption = -0.2
	}
}
country_event = { #Ministers demand more privileges
	id = rahenraj.105
	title = rahenraj.105.t
	desc = rahenraj.105.d
	picture = ACCUSATION_eventPicture
	
	is_triggered_only = yes
	
	option = { #Give them what they want
		ai_chance = { factor = 1 }
		name = rahenraj.105.a
		
		add_corruption = 1
	}
	option = { #This has to end
		ai_chance = {
			factor = 1
			modifier = {
				factor = 10
				manpower_percentage = 0.1
			}
		}
		name = rahenraj.105.b
		
		4411 = {
			spawn_rebels = {
				type = pretender_rebels
				size = 1
			}
		}
		add_corruption = -0.5
	}
}
country_event = { #Ruler Poisoned
	id = rahenraj.106
	title = rahenraj.106.t
	desc = rahenraj.106.d
	picture = KING_SICK_IN_BED_eventPicture
	
	is_triggered_only = yes
	
	option = { #May he be strong
		ai_chance = { factor = 1 }
		name = rahenraj.106.a
		
		random_list = {
			75 = { kill_ruler = yes }
			25 = {  }
		}
	}
}
country_event = { #Honest courtiers replace the corrupt
	id = rahenraj.107
	title = rahenraj.107.t
	desc = rahenraj.107.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		corruption = 10
		4411 = { NOT = { has_province_modifier = rahen_corrupt_ministers has_province_modifier = rahen_powerful_nobility has_province_modifier = rahen_arrogant_foreign_office has_province_modifier = rahen_disloyal_officers } }
	}
	
	option = { #Finally some cooperation
		ai_chance = { factor = 1 }
		name = rahenraj.107.a
		
		add_corruption = -1
	}
}

##################################
### Collapse of the Raj Events ###
##################################

country_event = { #Collapse of the Raj
	id = rahenraj.200
	title = rahenraj.200.t
	desc = rahenraj.200.d
	picture = COURT_eventPicture
	
	major = yes
	is_triggered_only = yes
	
	trigger = { corruption = 60 }
	
	option = { #It was inevitable
		ai_chance = { factor = 1 }
		name = rahenraj.200.a
		
		add_stability = -4
		every_subject_country = {
			every_owned_province = {
				add_claim = ROOT
			}
		}
		every_subject_country = {
			limit = {
				NOT = {
					AND = {
						capital_scope = { province_group = harimraj_core_lands }
						NOT = { liberty_desire = 50 }
					}
				}
			}
			grant_independence = yes
			if = {
				limit = {
					OR = {
						has_reform = senapti_reform
						has_reform = prabhi_reform
					}
				}
				add_government_reform = indep_prabhi_reform
			}
		}
		every_subject_country = {
			overlord = {
				create_subject = {
					subject_type = vassal
					subject = PREV
				}
			}
		}
		4411 = {
			remove_province_modifier = rahen_corrupt_ministers
			remove_province_modifier = rahen_powerful_nobility
			remove_province_modifier = rahen_arrogant_foreign_office
			remove_province_modifier = rahen_disloyal_officers
		}
		add_government_reform = autocracy_reform
		
		hidden_effect = {
			rahen_remove_harimraj_reforms_effect = yes
			set_country_flag = rahen_corrupt_court_completed
			clr_country_flag = reformed_rahen_court
			remove_country_modifier = raj_opened_senapti_ranks
			remove_country_modifier = raj_closed_senapti_ranks
		}
	}
}
country_event = { #Control over [rahenraj_slipping_vassal.GetName] slipping away
	id = rahenraj.201
	title = rahenraj.201.t
	desc = rahenraj.201.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	
	trigger = { corruption = 50 }
	
	immediate = {
		if = {
			limit = {
				any_subject_country = { liberty_desire = 80 }
			}
			random_subject_country = {
				limit = {
					liberty_desire = 80
				}
				save_event_target_as = rahenraj_slipping_vassal
			}
		}
		else_if = {
			limit = {
				any_subject_country = { liberty_desire = 60 }
			}
			random_subject_country = {
				limit = {
					liberty_desire = 60
				}
				save_event_target_as = rahenraj_slipping_vassal
			}
		}
		else_if = {
			limit = {
				any_subject_country = { liberty_desire = 40 }
			}
			random_subject_country = {
				limit = {
					liberty_desire = 40
				}
				save_event_target_as = rahenraj_slipping_vassal
			}
		}
	}
	
	option = { #Why aren't they listening?!
		ai_chance = { factor = 1 }
		name = rahenraj.201.a
		
		event_target:rahenraj_slipping_vassal = {
			grant_independence = yes
			if = {
				limit = {
					OR = {
						has_reform = senapti_reform
						has_reform = prabhi_reform
					}
				}
				add_government_reform = indep_prabhi_reform
			}
		}
	}
}



################################
#####   Flavour 'n shit    #####
################################

country_event = { #The title of Sar
	id = rahenraj.401
	title = rahenraj.401.t
	desc = rahenraj.401.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	
	option = {
		ai_chance = { factor = 1 }
		name = rahenraj.401.a
		
		FROM = {
			add_country_modifier = {
				name = rajiya_senapti
				duration = -1
			}
		}
		if = {
			limit = { NOT = { is_subject_of_type = great_daimyo_vassal } }
			
			FROM = {
				overlord = {
					create_subject = {
						subject_type = great_daimyo_vassal
						subject = FROM
					}
				}
				add_government_reform = senapti_reform
			}
			hidden_effect = { 4411 = { change_variable = { raj_current_num_of_senaptia = 1 } } }
		}
	}
	option = {
		ai_chance = { factor = 0 }
		name = rahenraj.401.b
		
		FROM = {
			add_liberty_desire = 50
		}
	}
}


#####################################
### General Raj Management Extras ###
#####################################

country_event = {
	id = rahenraj.1000
	title = rahenraj.1000.t
	desc = rahenraj.1000.d
	picture = COURT_eventPicture

	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		OR = {
			has_reform = raja_reform
			overlord = { has_reform = raja_reform }
		}
		OR = {
			AND = {
				is_subject_of_type = daimyo_vassal
				NOT = { has_reform = prabhi_reform }
			}
			AND = {
				is_subject_of_type = great_daimyo_vassal
				NOT = { has_reform = senapti_reform }
			}
			NOT = {
				has_estate_privilege = estate_raj_ministries_raj_cohesion
			}
		}
	}
	
	immediate = {
		if = {
			limit = {
				is_subject_of_type = daimyo_vassal
				NOT = { has_reform = prabhi_reform }
			}
			add_government_reform = prabhi_reform
		}
		else_if = {
			limit = {
				is_subject_of_type = great_daimyo_vassal
				NOT = { has_reform = senapti_reform }
			}
			add_government_reform = senapti_reform
		}
		
		if = {
			limit = { NOT = { has_estate_privilege = estate_raj_ministries_raj_cohesion } }
			set_estate_privilege = estate_raj_ministries_raj_cohesion
		}
	}
	
	option = {
		ai_chance = { factor = 1 }
		name = rahenraj.1000.a
	}
}
#Open or Closed Senapti Ranks?
country_event = {
	id = rahenraj.1001
	title = rahenraj.1001.t
	desc = rahenraj.1001.d
	picture = COURT_eventPicture

	is_triggered_only = yes

	option = { #Only our own can be Senapti
		ai_chance = { factor = 20 }
		name = rahenraj.1001.b
		trigger = { OR = { culture_group = harimari culture_is_human = yes } }
		add_country_modifier = {
			name = raj_closed_senapti_ranks
			duration = -1
		}
		custom_tooltip = rahen_close_senapti_ranks_tt
		hidden_effect = {
			if = {
				limit = { culture_group = harimari }
				every_subject_country = {
					limit = { ruler_is_harimari = yes }
					add_opinion = {
						who = ROOT
						modifier = rahen_raja_closed_senapti_a
					}
				}
				every_subject_country = {
					limit = { NOT = { ruler_is_harimari = yes } }
					add_opinion = {
						who = ROOT
						modifier = rahen_raja_closed_senapti_b
					}
				}
			}
			if = {
				limit = { culture_is_human = yes }
				every_subject_country = {
					limit = { ruler_is_human = yes }
					add_opinion = {
						who = ROOT
						modifier = rahen_raja_closed_senapti_a
					}
				}
				every_subject_country = {
					limit = { NOT = { ruler_is_human = yes } }
					add_opinion = {
						who = ROOT
						modifier = rahen_raja_closed_senapti_b
					}
				}
			}
		}
	}
	option = { #Open Senapti ranks to all
		ai_chance = { factor = 1 }
		name = rahenraj.1001.a
		add_country_modifier = {
			name = raj_opened_senapti_ranks
			duration = -1
		}
		reduce_stability_or_adm_power = yes
		custom_tooltip = rahen_open_up_senapti_ranks_tt
		hidden_effect = {
			if = {
				limit = { culture_group = harimari }
				every_subject_country = {
					limit = { ruler_is_harimari = yes }
					add_opinion = {
						who = ROOT
						modifier = rahen_raja_opened_up_senapti_b
					}
				}
				every_subject_country = {
					limit = { NOT = { ruler_is_harimari = yes } }
					add_opinion = {
						who = ROOT
						modifier = rahen_raja_opened_up_senapti_a
					}
				}
			}
			if = {
				limit = { culture_is_human = yes }
				every_subject_country = {
					limit = { ruler_is_human = yes }
					add_opinion = {
						who = ROOT
						modifier = rahen_raja_opened_up_senapti_b
					}
				}
				every_subject_country = {
					limit = { NOT = { ruler_is_human = yes } }
					add_opinion = {
						who = ROOT
						modifier = rahen_raja_opened_up_senapti_a
					}
				}
			}
		}
	}
}
country_event = { #Requesting Raj Mandates
	id = rahenraj.1002
	title = rahenraj.1002.t
	desc = rahenraj.1002.d
	picture = RAJ_SUBMENU_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			overlord = { save_event_target_as = raja_target }
			
			#For every mandate
			export_to_variable = { which = rajMandateReasonsRelations value = opinion who = event_target:raja_target }
			divide_variable = { which = rajMandateReasonsRelations value = 4000 }
			multiply_variable = { which = rajMandateReasonsRelations value = 1000 }
			export_to_variable = { which = rajMandateReasonsDipRep value = modifier:diplomatic_reputation }
			divide_variable = { which = rajMandateReasonsDipRep value = 1000 }
			multiply_variable = { which = rajMandateReasonsDipRep value = 5000 }
			
			#For protection mandate
			set_variable = { which = rajMandateReasonsProtectionPositives value = 0 }
			set_variable = { which = rajMandateReasonsProtectionNegatives value = -15 }
			if = { limit = { 4411 = { check_variable = { which = raj_cohesion value = 80 } } }
				change_variable = { which = rajMandateReasonsProtectionNegatives value = -1000 }
			}
			
			#For expansion mandate
			set_variable = { which = rajMandateReasonsExpansionPositives value = 0 }
			set_variable = { which = rajMandateReasonsExpansionNegatives value = -5 }
			export_to_variable = { which = rajMandateReasonsNumCities value = num_of_cities }
			multiply_variable = { which = rajMandateReasonsNumCities value = -3 }
			change_variable = { which = rajMandateReasonsExpansionNegatives which = rajMandateReasonsNumCities }
			
			#For guaranteed autonomy
			set_variable = { which = rajMandateReasonsAutonomyPositives value = 0 }
			set_variable = { which = rajMandateReasonsAutonomyNegatives value = -25 }
			if = { limit = { NOT = { liberty_desire = 30 } }
				change_variable = { which = rajMandateReasonsAutonomyNegatives value = -1000 }
			}
			else = {
				export_to_variable = { which = rajMandateReasonsLD value = trigger_value:liberty_desire }
				divide_variable = { which = rajMandateReasonsLD value = 5 }
				divide_variable = { which = rajMandateReasonsLD value = 1000 }
				multiply_variable = { which = rajMandateReasonsLD value = 1000 }
				change_variable = { which = rajMandateReasonsAutonomyPositives which = rajMandateReasonsLD }
			}
			
			#For Prabhi privileges
			if = { limit = { has_reform = prabhi_reform }
				set_variable = { which = rajMandateReasonsPrabhiPositives value = 0 }
				set_variable = { which = rajMandateReasonsPrabhiNegatives value = -10 }
			}
			#For Senapti guarantee
			else = {
				set_variable = { which = rajMandateReasonsSenaptiPositives value = 0 }
				set_variable = { which = rajMandateReasonsSenaptiNegatives value = -25 }
				export_to_variable = { which = rajMandateReasonsDisc value = modifier:discipline }
				multiply_variable = { which = rajMandateReasonsDisc value = 100 }
				if = { limit = { check_variable = { which = rajMandateReasonsDisc value = 0 } }
					change_variable = { which = rajMandateReasonsSenaptiPositives which = rajMandateReasonsDisc }
				}
				else = {
					change_variable = { which = rajMandateReasonsSenaptiNegatives which = rajMandateReasonsDisc }
				}
			}
			
			if = { limit = { check_variable = { which = rajMandateReasonsRelations value = 0.01 } }
				change_variable = { which = rajMandateReasonsProtectionPositives which = rajMandateReasonsRelations }
				change_variable = { which = rajMandateReasonsExpansionPositives which = rajMandateReasonsRelations }
				change_variable = { which = rajMandateReasonsAutonomyPositives which = rajMandateReasonsRelations }
				change_variable = { which = rajMandateReasonsPrabhiPositives which = rajMandateReasonsRelations }
				change_variable = { which = rajMandateReasonsSenaptiPositives which = rajMandateReasonsRelations }
			}
			else = {
				change_variable = { which = rajMandateReasonsProtectionNegatives which = rajMandateReasonsRelations }
				change_variable = { which = rajMandateReasonsExpansionNegatives which = rajMandateReasonsRelations }
				change_variable = { which = rajMandateReasonsAutonomyNegatives which = rajMandateReasonsRelations }
				change_variable = { which = rajMandateReasonsPrabhiNegatives which = rajMandateReasonsRelations }
				change_variable = { which = rajMandateReasonsSenaptiNegatives which = rajMandateReasonsRelations }
			}
			if = { limit = { check_variable = { which = rajMandateReasonsDipRep value = 0.01 } }
				change_variable = { which = rajMandateReasonsProtectionPositives which = rajMandateReasonsDipRep }
				change_variable = { which = rajMandateReasonsExpansionPositives which = rajMandateReasonsDipRep }
				change_variable = { which = rajMandateReasonsAutonomyPositives which = rajMandateReasonsDipRep }
				change_variable = { which = rajMandateReasonsPrabhiPositives which = rajMandateReasonsDipRep }
				change_variable = { which = rajMandateReasonsSenaptiPositives which = rajMandateReasonsDipRep }
			}
			else = {
				change_variable = { which = rajMandateReasonsProtectionNegatives which = rajMandateReasonsDipRep }
				change_variable = { which = rajMandateReasonsExpansionNegatives which = rajMandateReasonsDipRep }
				change_variable = { which = rajMandateReasonsAutonomyNegatives which = rajMandateReasonsDipRep }
				change_variable = { which = rajMandateReasonsPrabhiNegatives which = rajMandateReasonsDipRep }
				change_variable = { which = rajMandateReasonsSenaptiNegatives which = rajMandateReasonsDipRep }
			}
			set_variable = { which = rajMandateReasonsProtectionDiff which = rajMandateReasonsProtectionPositives }
			change_variable = { which = rajMandateReasonsProtectionDiff which = rajMandateReasonsProtectionNegatives }
			set_variable = { which = rajMandateReasonsExpansionDiff which = rajMandateReasonsExpansionPositives }
			change_variable = { which = rajMandateReasonsExpansionDiff which = rajMandateReasonsExpansionNegatives }
			set_variable = { which = rajMandateReasonsAutonomyDiff which = rajMandateReasonsAutonomyPositives }
			change_variable = { which = rajMandateReasonsAutonomyDiff which = rajMandateReasonsAutonomyNegatives }
			set_variable = { which = rajMandateReasonsPrabhiDiff which = rajMandateReasonsPrabhiPositives }
			change_variable = { which = rajMandateReasonsPrabhiDiff which = rajMandateReasonsPrabhiNegatives }
			set_variable = { which = rajMandateReasonsSenaptiDiff which = rajMandateReasonsSenaptiPositives }
			change_variable = { which = rajMandateReasonsSenaptiDiff which = rajMandateReasonsSenaptiNegatives }
		}
	}
	
	#Close
	option = {
		name = rahenraj.1002.z
		ai_chance = { factor = 0 }
		hidden_effect = { country_event = { id = rahenraj.3000 } }
	}
	
	#Ask the Raja for protection
	option = {
		name = rahenraj.1002.a
		trigger = {
			OR = {
				check_variable = { which = rajMandateReasonsProtectionDiff value = 1 }
				overlord = { ai = no }
			}
		}
		ai_chance = {
			factor = 5
			modifier = { factor = 0 total_development = 60 }
			modifier = { factor = 4 NOT = { num_of_cities = 2 } }
			modifier = {
				factor = 2
				any_neighbor_country = {
					overlord = { overlord_of = ROOT } 
					NOT = { alliance_with = ROOT }
					army_strength = { who = ROOT value = 2 }
				}
			}
		}
		
		raj_cohesion_change = { amount = 10 mandate = yes }
		custom_tooltip = request_raj_mandate_tt
		tooltip = {
			add_country_modifier = {
				name = raj_mandate_raja_protection
				duration = 5475
			}
			custom_tooltip = desc_raj_mandate_raja_protection
		}
		hidden_effect = { set_country_flag = requested_raj_mandate_raja_protection }
		hidden_effect = { overlord = { country_event = { id = rahenraj.1003 days = 1 } } }
		hidden_effect = {
			clr_country_flag = raj_requested_mandate
			if = { limit = { ai = no }
				country_event = { id = rahenraj.3000 }
			}
		}
		
		custom_tooltip = raj_mandate_reasons_accept_tt
		custom_tooltip = raj_mandate_reasons_protection_tt
	}
	#Ask the Raja for protection (unavailable)
	option = {
		name = rahenraj.1002.ax
		trigger = {
			NOT = { check_variable = { which = rajMandateReasonsProtectionDiff value = 1 } }
			overlord = { ai = yes }
		}
		ai_chance = {
			factor = 5
			modifier = { factor = 0 total_development = 60 }
			modifier = { factor = 4 NOT = { num_of_cities = 2 } }
			modifier = {
				factor = 2
				any_neighbor_country = {
					overlord = { overlord_of = ROOT } 
					NOT = { alliance_with = ROOT }
					army_strength = { who = ROOT value = 2 }
				}
			}
		}
		
		custom_tooltip = request_raj_mandate_tt
		tooltip = {
			add_country_modifier = {
				name = raj_mandate_raja_protection
				duration = 5475
			}
			custom_tooltip = desc_raj_mandate_raja_protection
		}
		
		custom_tooltip = raj_mandate_reasons_refuse_tt
		custom_tooltip = raj_mandate_reasons_protection_tt
		if = { limit = { 4411 = { check_variable = { which = raj_cohesion value = 80 } } }
			custom_tooltip = raj_mandate_reasons_80_cohesion_tt
		}
		
		hidden_effect = { country_event = { id = rahenraj.3007 } }
	}
	
	#Ask the Raja for expansion rights
	option = {
		name = rahenraj.1002.b
		trigger = {
			OR = {
				check_variable = { which = rajMandateReasonsExpansionDiff value = 1 }
				overlord = { ai = no }
			}
			NOT = { has_country_flag = raj_vizier }
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				any_neighbor_country = {
					overlord = { overlord_of = ROOT } 
					NOT = { alliance_with = ROOT }
					ROOT = { army_strength = { who = PREV value = 2 } }
				}
			}
			modifier = {
				factor = 0
				NOT = {
					4411 = { check_variable = { which = raj_cohesion value = 80 } }
					total_development = 100
				}
			}
		}
		
		raj_cohesion_change = { amount = 10 mandate = yes }
		custom_tooltip = request_raj_mandate_tt
		tooltip = {
			add_country_modifier = {
				name = raj_mandate_right_to_expansion
				duration = 5475
			}
			custom_tooltip = desc_raj_mandate_right_to_expansion
		}
		hidden_effect = { set_country_flag = requested_raj_mandate_right_to_expansion }
		hidden_effect = { overlord = { country_event = { id = rahenraj.1003 days = 1 } } }
		hidden_effect = {
			clr_country_flag = raj_requested_mandate
			if = { limit = { ai = no }
				country_event = { id = rahenraj.3000 }
			}
		}
		
		custom_tooltip = raj_mandate_reasons_accept_tt
		custom_tooltip = raj_mandate_reasons_expansion_tt
		custom_tooltip = raj_mandate_reasons_num_cities_tt
	}
	#Ask the Raja for expansion rights (unavailable)
	option = {
		name = rahenraj.1002.bx
		trigger = {
			NOT = { check_variable = { which = rajMandateReasonsExpansionDiff value = 1 } }
			overlord = { ai = yes }
			NOT = { has_country_flag = raj_vizier }
		}
		
		custom_tooltip = request_raj_mandate_tt
		tooltip = {
			add_country_modifier = {
				name = raj_mandate_right_to_expansion
				duration = 5475
			}
			custom_tooltip = desc_raj_mandate_right_to_expansion
		}
		
		custom_tooltip = raj_mandate_reasons_refuse_tt
		custom_tooltip = raj_mandate_reasons_expansion_tt
		custom_tooltip = raj_mandate_reasons_num_cities_tt
		
		hidden_effect = { country_event = { id = rahenraj.3007 } }
	}
	
	#Ask the Raja to guarantee our autonomy
	option = {
		name = rahenraj.1002.c
		trigger = {
			OR = {
				check_variable = { which = rajMandateReasonsAutonomyDiff value = 1 }
				overlord = { ai = no }
			}
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				overlord = { has_disaster = rahen_corrupt_court }
			}
			modifier = {
				factor = 0
				NOT = { 4411 = { check_variable = { which = raj_cohesion value = 80 } } }
			}
		}
		
		raj_cohesion_change = { amount = 10 mandate = yes }
		custom_tooltip = request_raj_mandate_tt
		tooltip = {
			add_country_modifier = {
				name = raj_mandate_guaranteed_autonomy
				duration = 5475
			}
			custom_tooltip = desc_raj_mandate_guaranteed_autonomy
		}
		hidden_effect = { set_country_flag = requested_raj_mandate_guaranteed_autonomy }
		hidden_effect = { overlord = { country_event = { id = rahenraj.1003 days = 1 } } }
		hidden_effect = {
			clr_country_flag = raj_requested_mandate
			if = { limit = { ai = no }
				country_event = { id = rahenraj.3000 }
			}
		}
		
		custom_tooltip = raj_mandate_reasons_accept_tt
		custom_tooltip = raj_mandate_reasons_autonomy_tt
	}
	#Ask the Raja to guarantee our autonomy (unavailable)
	option = {
		name = rahenraj.1002.cx
		trigger = {
			NOT = { check_variable = { which = rajMandateReasonsAutonomyDiff value = 1 } }
			overlord = { ai = yes }
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				overlord = { has_disaster = rahen_corrupt_court }
			}
			modifier = {
				factor = 0
				NOT = { 4411 = { check_variable = { which = raj_cohesion value = 80 } } }
			}
		}
		
		custom_tooltip = request_raj_mandate_tt
		tooltip = {
			add_country_modifier = {
				name = raj_mandate_guaranteed_autonomy
				duration = 5475
			}
			custom_tooltip = desc_raj_mandate_guaranteed_autonomy
		}
		
		hidden_effect = { country_event = { id = rahenraj.3007 } }
		
		custom_tooltip = raj_mandate_reasons_refuse_tt
		custom_tooltip = raj_mandate_reasons_autonomy_tt
		if = { limit = { NOT = { liberty_desire = 30 } }
			custom_tooltip = raj_mandate_reasons_low_LD_tt
		}
	}
	
	#Ask the Raja for trading privileges
	option = {
		name = rahenraj.1002.dd
		trigger = { has_reform = prabhi_reform }
		ai_chance = { factor = 10 }
		
		raj_cohesion_change = { amount = 10 mandate = yes }
		add_years_of_income = -0.5
		add_country_modifier = {
			name = raj_mandate_mercantile_preference
			duration = 5475
		}
		hidden_effect = {
			clr_country_flag = raj_requested_mandate
			if = { limit = { ai = no }
				country_event = { id = rahenraj.3000 }
			}
		}
		
		custom_tooltip = raj_mandate_reasons_accept_tt
		custom_tooltip = raj_mandate_reasons_base_always_tt
	}
	
	#Ask the Raja for the right to expand our armoury
	option = {
		name = rahenraj.1002.e
		trigger = { has_reform = senapti_reform }
		ai_chance = { factor = 50 }
		
		raj_cohesion_change = { amount = 10 mandate = yes }
		add_years_of_income = -0.5
		add_country_modifier = {
			name = raj_mandate_sanctioned_armoury
			duration = 5475
		}
		hidden_effect = {
			clr_country_flag = raj_requested_mandate
			if = { limit = { ai = no }
				country_event = { id = rahenraj.3000 }
			}
		}
		
		custom_tooltip = raj_mandate_reasons_accept_tt
		custom_tooltip = raj_mandate_reasons_base_always_tt
	}
	
	#Ask the Raja to provide education
	option = {
		name = rahenraj.1002.f
		trigger = { always = yes }
		ai_chance = {
			factor = 10
			modifier = { factor = 0 NOT = { adm_tech = 5 } }
		}
		
		raj_cohesion_change = { amount = 10 mandate = yes }
		add_years_of_income = -0.5
		add_country_modifier = {
			name = raj_mandate_ministry_lectures
			duration = 5475
		}
		hidden_effect = {
			clr_country_flag = raj_requested_mandate
			if = { limit = { ai = no }
				country_event = { id = rahenraj.3000 }
			}
		}
		
		custom_tooltip = raj_mandate_reasons_accept_tt
		custom_tooltip = raj_mandate_reasons_base_always_tt
	}
	
	#Ask the Raja to secure our title as a Senapti
	option = {
		name = rahenraj.1002.g
		trigger = {
			has_reform = senapti_reform
			OR = {
				check_variable = { which = rajMandateReasonsSenaptiDiff value = 1 }
				overlord = { ai = no }
			}
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				NOT = {
					overlord = {
						any_subject_country = {
							is_subject_of_type = great_daimyo_vassal
							NOT = { has_country_modifier = prabhi_recently_promoted }
							NOT = { has_country_modifier = raj_mandate_senapti_primacy }
							NOT = { has_country_modifier = rajiya_senapti }
							NOT = { tag = ROOT }
							NOT = { total_development = ROOT }
						}
					}
				}
			}
		}
		
		raj_cohesion_change = { amount = 10 mandate = yes }
		custom_tooltip = request_raj_mandate_tt
		tooltip = {
			add_country_modifier = {
				name = raj_mandate_senapti_primacy
				duration = 5475
			}
			custom_tooltip = desc_raj_mandate_senapti_primacy
		}
		hidden_effect = { set_country_flag = requested_raj_mandate_senapti_primacy }
		hidden_effect = { overlord = { country_event = { id = rahenraj.1003 days = 1 } } }
		hidden_effect = {
			clr_country_flag = raj_requested_mandate
			if = { limit = { ai = no }
				country_event = { id = rahenraj.3000 }
			}
		}
		
		custom_tooltip = raj_mandate_reasons_accept_tt
		custom_tooltip = raj_mandate_reasons_senapti_tt
	}
	#Ask the Raja to secure our title as a Senapti (unavailable)
	option = {
		name = rahenraj.1002.gx
		trigger = {
			has_reform = senapti_reform
			NOT = { check_variable = { which = rajMandateReasonsSenaptiDiff value = 1 } }
			overlord = { ai = yes }
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				NOT = {
					overlord = {
						any_subject_country = {
							is_subject_of_type = great_daimyo_vassal
							NOT = { has_country_modifier = prabhi_recently_promoted }
							NOT = { has_country_modifier = raj_mandate_senapti_primacy }
							NOT = { tag = ROOT }
							NOT = { total_development = ROOT }
						}
					}
				}
			}
		}
		
		raj_cohesion_change = { amount = 10 mandate = yes }
		custom_tooltip = request_raj_mandate_tt
		tooltip = {
			add_country_modifier = {
				name = raj_mandate_senapti_primacy
				duration = 5475
			}
			custom_tooltip = desc_raj_mandate_senapti_primacy
		}
		
		hidden_effect = { country_event = { id = rahenraj.3007 } }
		
		custom_tooltip = raj_mandate_reasons_refuse_tt
		custom_tooltip = raj_mandate_reasons_senapti_tt
	}
	
	#Ask the Raja to extend our privileges as a Prabhi
	option = {
		name = rahenraj.1002.h
		trigger = {
			has_reform = prabhi_reform
			OR = {
				check_variable = { which = rajMandateReasonsPrabhiDiff value = 1 }
				overlord = { ai = no }
			}
		}
		ai_chance = { factor = 20 }
		
		raj_cohesion_change = { amount = 10 mandate = yes }
		custom_tooltip = request_raj_mandate_tt
		tooltip = {
			add_country_modifier = {
				name = raj_mandate_extended_prabhi_privileges
				duration = 5475
			}
			custom_tooltip = desc_raj_mandate_extended_prabhi_privileges
		}
		hidden_effect = { set_country_flag = requested_raj_mandate_extended_prabhi_privileges }
		hidden_effect = { overlord = { country_event = { id = rahenraj.1003 days = 1 } } }
		hidden_effect = {
			clr_country_flag = raj_requested_mandate
			if = { limit = { ai = no }
				country_event = { id = rahenraj.3000 }
			}
		}
		
		custom_tooltip = raj_mandate_reasons_accept_tt
		custom_tooltip = raj_mandate_reasons_prabhi_tt
	}
	#Ask the Raja to extend our privileges as a Prabhi (unavailable)
	option = {
		name = rahenraj.1002.hx
		trigger = {
			has_reform = prabhi_reform
			NOT = { check_variable = { which = rajMandateReasonsSenaptiDiff value = 1 } }
			overlord = { ai = yes }
		}
		ai_chance = { factor = 20 }
		
		raj_cohesion_change = { amount = 10 mandate = yes }
		custom_tooltip = request_raj_mandate_tt
		tooltip = {
			add_country_modifier = {
				name = raj_mandate_extended_prabhi_privileges
				duration = 5475
			}
			custom_tooltip = desc_raj_mandate_extended_prabhi_privileges
		}
		
		hidden_effect = { country_event = { id = rahenraj.3007 } }
		
		custom_tooltip = raj_mandate_reasons_refuse_tt
		custom_tooltip = raj_mandate_reasons_prabhi_tt
	}
	
	#Swear to be a good boi
	option = {
		name = rahenraj.1002.i
		trigger = { always = no }
		ai_chance = { factor = 10 }
		
		raj_cohesion_change = { amount = 10 mandate = yes }
		custom_tooltip = request_raj_mandate_tt
		tooltip = {
			add_country_modifier = {
				name = raj_mandate_territorial_limits
				duration = 5475
			}
			custom_tooltip = desc_raj_mandate_territorial_limits
			return_all_uncored_provinces = { release_nations = yes }
		}
		hidden_effect = { set_country_flag = requested_raj_mandate_territorial_limits }
		hidden_effect = { overlord = { country_event = { id = rahenraj.1003 days = 1 } } }
		hidden_effect = {
			clr_country_flag = raj_requested_mandate
			if = { limit = { ai = no }
				country_event = { id = rahenraj.3000 }
			}
		}
	}
	
	#Close
	option = {
		ai_chance = { factor = 0 }
		name = rahenraj.1002.z
		trigger = { always = yes }
		
		add_dip_power = 50
		hidden_effect = {
			clr_country_flag = raj_requested_mandate
			if = { limit = { ai = no }
				country_event = { id = rahenraj.3000 }
			}
		}
	}
}
country_event = { #The Raja agrees or not
	id = rahenraj.1003
	title = rahenraj.1003.t
	desc = rahenraj.1003.d
	picture = COURT_eventPicture

	major = yes
	major_trigger = { tag = FROM }
	
	is_triggered_only = yes
	
	option = {
		name = rahenraj.1003.a
		trigger = { FROM = { has_country_flag = requested_raj_mandate_raja_protection } }
		ai_chance = { factor = 100 }
		
		if = { limit = { ai = no }
			add_adm_power = -5
		}
		FROM = {
			tooltip = { 
				add_country_modifier = {
					name = raj_mandate_raja_protection
					duration = 5475
				}
				custom_tooltip = desc_raj_mandate_raja_protection
			}
			set_country_flag = raj_mandate_raja_protection
			hidden_effect = { country_event = { id = rahenraj.1004 } }
		}
	}
	option = {
		name = rahenraj.1003.a
		trigger = { FROM = { has_country_flag = requested_raj_mandate_right_to_expansion } }
		ai_chance = { factor = 100 }
		
		if = { limit = { ai = no }
			add_adm_power = -5
		}
		FROM = {
			tooltip = { 
				add_country_modifier = {
					name = raj_mandate_right_to_expansion
					duration = 5475
				}
				custom_tooltip = desc_raj_mandate_right_to_expansion
			}
			set_country_flag = raj_mandate_right_to_expansion
			hidden_effect = { country_event = { id = rahenraj.1004 } }
		}
	}
	option = {
		name = rahenraj.1003.a
		trigger = { FROM = { has_country_flag = requested_raj_mandate_guaranteed_autonomy } }
		ai_chance = { factor = 100 }
		
		if = { limit = { ai = no }
			add_adm_power = -5
		}
		FROM = {
			tooltip = { 
				add_country_modifier = {
					name = raj_mandate_guaranteed_autonomy
					duration = 5475
				}
				custom_tooltip = desc_raj_mandate_guaranteed_autonomy
			}
			set_country_flag = raj_mandate_guaranteed_autonomy
			hidden_effect = { country_event = { id = rahenraj.1004 } }
		}
	}
	option = {
		name = rahenraj.1003.a
		trigger = { FROM = { has_country_flag = requested_raj_mandate_mercantile_preference } }
		ai_chance = { factor = 100 }
		
		if = { limit = { ai = no }
			add_adm_power = -5
		}
		FROM = {
			tooltip = { 
				add_country_modifier = {
					name = raj_mandate_mercantile_preference
					duration = 5475
				}
			}
			set_country_flag = raj_mandate_mercantile_preference
			hidden_effect = { country_event = { id = rahenraj.1004 } }
		}
	}
	option = {
		name = rahenraj.1003.a
		trigger = { FROM = { has_country_flag = requested_raj_mandate_sanctioned_armoury } }
		ai_chance = { factor = 100 }
		
		if = { limit = { ai = no }
			add_adm_power = -5
		}
		FROM = {
			tooltip = { 
				add_country_modifier = {
					name = raj_mandate_sanctioned_armoury
					duration = 5475
				}
			}
			set_country_flag = raj_mandate_sanctioned_armoury
			hidden_effect = { country_event = { id = rahenraj.1004 } }
		}
	}
	option = {
		name = rahenraj.1003.a
		trigger = { FROM = { has_country_flag = requested_raj_mandate_ministry_lectures } }
		ai_chance = { factor = 100 }
		
		if = { limit = { ai = no }
			add_adm_power = -5
		}
		FROM = {
			tooltip = { 
				add_country_modifier = {
					name = raj_mandate_ministry_lectures
					duration = 5475
				}
			}
			set_country_flag = raj_mandate_ministry_lectures
			hidden_effect = { country_event = { id = rahenraj.1004 } }
		}
	}
	option = {
		name = rahenraj.1003.a
		trigger = { FROM = { has_country_flag = requested_raj_mandate_senapti_primacy } }
		ai_chance = { factor = 100 }
		
		if = { limit = { ai = no }
			add_adm_power = -5
		}
		FROM = {
			tooltip = { 
				add_country_modifier = {
					name = raj_mandate_senapti_primacy
					duration = 5475
				}
				custom_tooltip = desc_raj_mandate_senapti_primacy
			}
			set_country_flag = raj_mandate_senapti_primacy
			hidden_effect = { country_event = { id = rahenraj.1004 } }
		}
	}
	option = {
		name = rahenraj.1003.a
		trigger = { FROM = { has_country_flag = requested_raj_mandate_extended_prabhi_privileges } }
		ai_chance = { factor = 100 }
		
		if = { limit = { ai = no }
			add_adm_power = -5
		}
		FROM = {
			tooltip = { 
				add_country_modifier = {
					name = raj_mandate_extended_prabhi_privileges
					duration = 5475
				}
				custom_tooltip = desc_raj_mandate_extended_prabhi_privileges
			}
			set_country_flag = raj_mandate_extended_prabhi_privileges
			hidden_effect = { country_event = { id = rahenraj.1004 } }
		}
	}
	option = {
		name = rahenraj.1003.a
		trigger = { FROM = { has_country_flag = requested_raj_mandate_territorial_limits } }
		ai_chance = { factor = 100 }
		
		if = { limit = { ai = no }
			add_adm_power = -5
		}
		FROM = {
			tooltip = { 
				add_country_modifier = {
					name = raj_mandate_territorial_limits
					duration = 5475
				}
				custom_tooltip = desc_raj_mandate_territorial_limits
				return_all_uncored_provinces = { release_nations = yes }
			}
			set_country_flag = raj_mandate_territorial_limits
			hidden_effect = { country_event = { id = rahenraj.1004 } }
		}
	}
	
	#refuse
	option = {
		name = rahenraj.1003.b
		ai_chance = { factor = 0 }
		
		FROM = {
			add_country_modifier = {
				name = raj_mandate_denied
				duration = 1825
			}
			hidden_effect = { country_event = { id = rahenraj.1004 } }
		}
	}
}

country_event = { #The Raja's response!
	id = rahenraj.1004
	title = rahenraj.1004.t
	desc = rahenraj.1004.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			clr_country_flag = raj_requested_mandate
			
			clr_country_flag = requested_raj_mandate_raja_protection
			clr_country_flag = requested_raj_mandate_right_to_expansion
			clr_country_flag = requested_raj_mandate_guaranteed_autonomy
			clr_country_flag = requested_raj_mandate_mercantile_preference
			clr_country_flag = requested_raj_mandate_sanctioned_armoury
			clr_country_flag = requested_raj_mandate_ministry_lectures
			clr_country_flag = requested_raj_mandate_senapti_primacy
			clr_country_flag = requested_raj_mandate_extended_prabhi_privileges
			clr_country_flag = requested_raj_mandate_territorial_limits
		}
	}
	
	option = { #The Raja has granted our request!
		ai_chance = { factor = 1 }
		name = rahenraj.1004.a
		trigger = { NOT = { has_country_modifier = raj_mandate_denied } }
		
		if = { limit = { has_country_flag = raj_mandate_raja_protection }
			add_country_modifier = {
				name = raj_mandate_raja_protection
				duration = 5475
			}
			custom_tooltip = desc_raj_mandate_raja_protection
			clr_country_flag = raj_mandate_raja_protection
		}
		else_if = { limit = { has_country_flag = raj_mandate_right_to_expansion }
			add_country_modifier = {
				name = raj_mandate_right_to_expansion
				duration = 5475
			}
			custom_tooltip = desc_raj_mandate_right_to_expansion
			clr_country_flag = raj_mandate_right_to_expansion
		}
		else_if = { limit = { has_country_flag = raj_mandate_guaranteed_autonomy }
			add_country_modifier = {
				name = raj_mandate_guaranteed_autonomy
				duration = 5475
			}
			custom_tooltip = desc_raj_mandate_guaranteed_autonomy
			clr_country_flag = raj_mandate_guaranteed_autonomy
		}
		else_if = { limit = { has_country_flag = raj_mandate_mercantile_preference }
			add_country_modifier = {
				name = raj_mandate_mercantile_preference
				duration = 5475
			}
			clr_country_flag = raj_mandate_mercantile_preference
		}
		else_if = { limit = { has_country_flag = raj_mandate_sanctioned_armoury }
			add_country_modifier = {
				name = raj_mandate_sanctioned_armoury
				duration = 5475
			}
			clr_country_flag = raj_mandate_sanctioned_armoury
		}
		else_if = { limit = { has_country_flag = raj_mandate_ministry_lectures }
			add_country_modifier = {
				name = raj_mandate_ministry_lectures
				duration = 5475
			}
			clr_country_flag = raj_mandate_ministry_lectures
		}
		else_if = { limit = { has_country_flag = raj_mandate_senapti_primacy }
			add_country_modifier = {
				name = raj_mandate_senapti_primacy
				duration = 5475
			}
			custom_tooltip = desc_raj_mandate_senapti_primacy
			clr_country_flag = raj_mandate_senapti_primacy
		}
		else_if = { limit = { has_country_flag = raj_mandate_extended_prabhi_privileges }
			add_country_modifier = {
				name = raj_mandate_extended_prabhi_privileges
				duration = 5475
			}
			custom_tooltip = desc_raj_mandate_extended_prabhi_privileges
			clr_country_flag = raj_mandate_extended_prabhi_privileges
		}
		else = {
			add_country_modifier = {
				name = raj_mandate_territorial_limits
				duration = 5475
			}
			custom_tooltip = desc_raj_mandate_territorial_limits
			return_all_uncored_provinces = { release_nations = yes }
			clr_country_flag = raj_mandate_territorial_limits
		}
	}
	option = { #The Raja has denied our request!
		ai_chance = { factor = 1 }
		name = rahenraj.1004.b
		trigger = { has_country_modifier = raj_mandate_denied }
		
		tooltip = {
			add_country_modifier = {
				name = raj_mandate_denied
				duration = 1825
			}
		}
	}
}
country_event = { #Hidden 
	id = rahenraj.1005
	title = rahenraj.1005.t
	desc = rahenraj.1005.d
	picture = COURT_eventPicture
	
	hidden = yes
	is_triggered_only = yes
	
	option = {
		ai_chance = { factor = 1 }
		name = rahenraj.1005.a
		
		overlord = { country_event = { id = rahenraj.1006 } }
	}
}
country_event = { #The Raja to hand out a privilege
	id = rahenraj.1006
	title = rahenraj.1006.t
	desc = rahenraj.1006.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	
	option = { #Give them our personal protection
		ai_chance = {
			factor = 1
			modifier = {
				factor = 5
				FROM = {
					NOT = { num_of_cities = 2 }
				}
			}
		}
		name = rahenraj.1006.a
		trigger = {
			NOT = {
				4411 = {
					check_variable = {
						which = raj_cohesion
						value = 80
					}
				}
			}
		}
		
		FROM = {
			tooltip = {
			remove_raj_mandate = yes
				add_country_modifier = {
					name = raj_mandate_raja_protection
					duration = 5475
				}
				custom_tooltip = desc_raj_mandate_raja_protection
			}
			set_country_flag = raj_mandate_raja_protection
			hidden_effect = { country_event = { id = rahenraj.1007 } }
		}
	}
	option = { #Grant them expansion rights
		ai_chance = {
			factor = 1
		}
		name = rahenraj.1006.b
		trigger = {
			4411 = {
				check_variable = {
					which = raj_cohesion
					value = 80
				}
			}
		}
		
		FROM = {
			tooltip = {
				remove_raj_mandate = yes
				add_country_modifier = {
					name = raj_mandate_right_to_expansion
					duration = 5475
				}
				custom_tooltip = desc_raj_mandate_right_to_expansion
			}
			set_country_flag = raj_mandate_right_to_expansion
			hidden_effect = { country_event = { id = rahenraj.1007 } }
		}
	}
	option = { #Guarantee their autonomy
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				FROM = { liberty_desire = 50 }
			}
		}
		name = rahenraj.1006.c
		trigger = { always = yes }
		
		FROM = {
			tooltip = {
				remove_raj_mandate = yes
				add_country_modifier = {
					name = raj_mandate_guaranteed_autonomy
					duration = 5475
				}
				custom_tooltip = desc_raj_mandate_guaranteed_autonomy
			}
			set_country_flag = raj_mandate_guaranteed_autonomy
			hidden_effect = { country_event = { id = rahenraj.1007 } }
		}
	}
	option = { #Give them trading privileges
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				FROM = { trade_income_percentage = 0.3 }
			}
			modifier = {
				factor = 2
				FROM = { any_owned_province = { province_has_center_of_trade_of_level = 1 } }
			}
		}
		name = rahenraj.1006.dd
		trigger = { FROM = { has_reform = prabhi_reform } }
		
		FROM = {
			tooltip = {
				remove_raj_mandate = yes
				add_country_modifier = {
					name = raj_mandate_mercantile_preference
					duration = 5475
				}
			}
			set_country_flag = raj_mandate_mercantile_preference
			hidden_effect = { country_event = { id = rahenraj.1007 } }
		}
	}
	option = { #Give them the right to expand their armoury
		ai_chance = {
			factor = 1
			modifier = {
				factor = 5
				is_at_war = yes
			}
		}
		name = rahenraj.1006.e
		trigger = { FROM = { has_reform = senapti_reform } }
		
		FROM = {
			tooltip = {
				remove_raj_mandate = yes
				add_country_modifier = {
					name = raj_mandate_sanctioned_armoury
					duration = 5475
				}
			}
			set_country_flag = raj_mandate_sanctioned_armoury
			hidden_effect = { country_event = { id = rahenraj.1007 } }
		}
	}
	option = { #Provide education
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				NOT = { FROM = { adm_tech = 5 } }
			}
		}
		name = rahenraj.1006.f
		trigger = { always = yes }
		
		FROM = {
			tooltip = {
				remove_raj_mandate = yes
				add_country_modifier = {
					name = raj_mandate_ministry_lectures
					duration = 5475
				}
			}
			set_country_flag = raj_mandate_ministry_lectures
			hidden_effect = { country_event = { id = rahenraj.1007 } }
		}
	}
	option = { #Secure their title as a Senapti
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				FROM = { liberty_desire = 50 }
			}
			modifier = {
				factor = 2
				FROM = {
					has_idea_group = offensive_ideas
				}
			}
			modifier = {
				factor = 2
				FROM = {
					has_idea_group = defensive_ideas
				}
			}
			modifier = {
				factor = 2
				FROM = {
					has_idea_group = quantity_ideas
				}
			}
			modifier = {
				factor = 2
				FROM = {
					has_idea_group = quality_ideas
				}
			}
		}
		name = rahenraj.1006.g
		trigger = { FROM = { has_reform = senapti_reform } }
		
		FROM = {
			tooltip = {
				remove_raj_mandate = yes
				add_country_modifier = {
					name = raj_mandate_senapti_primacy
					duration = 5475
				}
				custom_tooltip = desc_raj_mandate_senapti_primacy
			}
			set_country_flag = raj_mandate_senapti_primacy
			hidden_effect = { country_event = { id = rahenraj.1007 } }
		}
	}
	option = { #Extend their privileges as a Prabhi
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				FROM = {
					NOT = {
						has_idea_group = offensive_ideas
					}
				}
			}
			modifier = {
				factor = 2
				FROM = {
					NOT = {
						has_idea_group = defensive_ideas
					}
				}
			}
			modifier = {
				factor = 2
				FROM = {
					NOT = {
						has_idea_group = quantity_ideas
					}
				}
			}
			modifier = {
				factor = 2
				FROM = {
					NOT = {
						has_idea_group = quality_ideas
					}
				}
			}
		}
		name = rahenraj.1006.h
		trigger = { FROM = { has_reform = prabhi_reform } }
		
		FROM = {
			tooltip = {
				remove_raj_mandate = yes
				add_country_modifier = {
					name = raj_mandate_extended_prabhi_privileges
					duration = 5475
				}
				custom_tooltip = desc_raj_mandate_extended_prabhi_privileges
			}
			set_country_flag = raj_mandate_extended_prabhi_privileges
			hidden_effect = { country_event = { id = rahenraj.1007 } }
		}
	}
	option = { #Limit their Territories
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				NOT = {
					FROM = {
						total_development = 100
						overextension_percentage = 0.01
					}
				}
			}
			modifier = {
				factor = 0
				has_opinion = {
					who = FROM
					value = 180
				}
			}
		}
		name = rahenraj.1006.i
		trigger = { FROM = { NOT = { has_country_modifier = raj_mandate_sactioned_conquest } } }
		
		FROM = {
			# tooltip = {
				# remove_raj_mandate = yes
				# add_country_modifier = {
					# name = raj_mandate_territorial_limits
					# duration = 3650
				# }
				# custom_tooltip = desc_raj_mandate_territorial_limits
				# return_all_uncored_provinces = { release_nations = yes }
				
				# add_opinion = {
					# who = ROOT
					# modifier = rahen_raja_pronounced_undesired_mandate
				# }
			# }
			# set_country_flag = raj_mandate_territorial_limits
			# hidden_effect = { country_event = { id = rahenraj.1007 } }
			
			custom_tooltip = raj_mandate_territorial_limits_action_tt
			hidden_effect = { country_event = { id = rahenraj.1008 } }
		}
	}
	option = { #Nevermind
		ai_chance = {
			factor = 0
		}
		name = rahenraj.1002.x
		trigger = { always = yes }
		
		add_adm_power = 10
	}
}
country_event = { #The Raja pronounced a mandate
	id = rahenraj.1007
	title = rahenraj.1007.t
	desc = rahenraj.1007.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	
	option = { #The Raja has granted us their personal protection!
		ai_chance = { factor = 1 }
		name = rahenraj.1007.a
		trigger = { has_country_flag = raj_mandate_raja_protection }

		remove_raj_mandate = yes
		add_country_modifier = {
			name = raj_mandate_raja_protection
			duration = 5475
		}
		custom_tooltip = desc_raj_mandate_raja_protection
		clr_country_flag = raj_mandate_raja_protection
	}
	option = { #The Raja has granted us expansion rights!
		ai_chance = { factor = 1 }
		name = rahenraj.1007.b
		trigger = { has_country_flag = raj_mandate_right_to_expansion }
		
		remove_raj_mandate = yes
		add_country_modifier = {
			name = raj_mandate_right_to_expansion
			duration = 5475
		}
		custom_tooltip = desc_raj_mandate_right_to_expansion
		clr_country_flag = raj_mandate_right_to_expansion
	}
	option = { #The Raja has guaranteed our autonomy!
		ai_chance = { factor = 1 }
		name = rahenraj.1007.c
		trigger = { has_country_flag = raj_mandate_guaranteed_autonomy }
		
		remove_raj_mandate = yes
		add_country_modifier = {
			name = raj_mandate_guaranteed_autonomy
			duration = 5475
		}
		custom_tooltip = desc_raj_mandate_guaranteed_autonomy
		clr_country_flag = raj_mandate_guaranteed_autonomy
	}
	option = { #The Raja has expanded our merchantile privileges!
		ai_chance = { factor = 1 }
		name = rahenraj.1007.d
		trigger = { has_country_flag = raj_mandate_mercantile_preference }
		
		remove_raj_mandate = yes
		add_country_modifier = {
			name = raj_mandate_mercantile_preference
			duration = 5475
		}
		clr_country_flag = raj_mandate_mercantile_preference
	}
	option = { #The Raja has sanctioned the expansion of our armoury!
		ai_chance = { factor = 1 }
		name = rahenraj.1007.e
		trigger = { has_country_flag = raj_mandate_sanctioned_armoury }
		
		remove_raj_mandate = yes
		add_country_modifier = {
			name = raj_mandate_sanctioned_armoury
			duration = 5475
		}
		clr_country_flag = raj_mandate_sanctioned_armoury
	}
	option = { #The Raja has provided education to our people!
		ai_chance = { factor = 1 }
		name = rahenraj.1007.f
		trigger = { has_country_flag = raj_mandate_ministry_lectures }
		
		remove_raj_mandate = yes
		add_country_modifier = {
			name = raj_mandate_ministry_lectures
			duration = 5475
		}
		clr_country_flag = raj_mandate_ministry_lectures
	}
	option = { #The Raja has secured our title as Senapti!
		ai_chance = { factor = 1 }
		name = rahenraj.1007.g
		trigger = { has_country_flag = raj_mandate_senapti_primacy }
		
		remove_raj_mandate = yes
		add_country_modifier = {
			name = raj_mandate_senapti_primacy
			duration = 5475
		}
		custom_tooltip = desc_raj_mandate_senapti_primacy
		clr_country_flag = raj_mandate_senapti_primacy
	}
	option = { #The Raja has extended our rights as a Prabhi!
		ai_chance = { factor = 1 }
		name = rahenraj.1007.h
		trigger = { has_country_flag = raj_mandate_extended_prabhi_privileges }
		
		remove_raj_mandate = yes
		add_country_modifier = {
			name = raj_mandate_extended_prabhi_privileges
			duration = 5475
		}
		custom_tooltip = desc_raj_mandate_extended_prabhi_privileges
		clr_country_flag = raj_mandate_extended_prabhi_privileges
	}
	option = { #The Raja has limited our territory!
		ai_chance = { factor = 1 }
		name = rahenraj.1007.i
		trigger = { has_country_flag = raj_mandate_territorial_limits }
		
		remove_raj_mandate = yes
		add_country_modifier = {
			name = raj_mandate_territorial_limits
			duration = 3650
		}
		custom_tooltip = desc_raj_mandate_territorial_limits
		return_all_uncored_provinces = { release_nations = yes }
		clr_country_flag = raj_mandate_territorial_limits
		
		add_opinion = {
			who = FROM
			modifier = rahen_raja_pronounced_undesired_mandate
		}
	}
}

country_event = { #The Raja demands we return conquered territory
	id = rahenraj.1008
	title = rahenraj.1008.t
	desc = rahenraj.1008.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	
	option = { #Return the land
		ai_chance = {
			factor = 2
		}
		name = rahenraj.1008.a
		
		remove_raj_mandate = yes
		add_country_modifier = {
			name = raj_mandate_territorial_limits
			duration = 3650
		}
		custom_tooltip = desc_raj_mandate_territorial_limits
		return_all_uncored_provinces = { release_nations = yes }
		
		add_opinion = {
			who = FROM
			modifier = rahen_raja_pronounced_undesired_mandate
		}
	}
	option = { #Pay to keep the land
		ai_chance = {
			factor = 2
			modifier = {
				factor = 0
				num_of_loans = 1
			}
		}
		name = rahenraj.1008.b
		
		transfer_uncored_province_value_to_overlord = yes
		add_adm_power = -10
		add_dip_power = -10
		add_mil_power = -10
		
		remove_raj_mandate = yes
		add_country_modifier = {
			name = raj_mandate_territorial_limits
			duration = 3650
		}
		custom_tooltip = desc_raj_mandate_territorial_limits
		
		add_opinion = {
			who = FROM
			modifier = rahen_raja_pronounced_undesired_mandate
		}
		hidden_effect = {
			FROM = {
				add_adm_power = 10
				add_dip_power = 10
				add_mil_power = 10
			}
		}
	}
	option = { #I think we need a new Raja.
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				has_opinion = {
					who = FROM
					value = 100
				}
			}
			modifier = {
				factor = 5
				army_size = FROM
			}
		}
		name = rahenraj.1008.c
		
		if = {
			limit = { 4411 = { NOT = { range = ROOT } NOT = { is_core = ROOT } } }
			4411 = { add_core = ROOT }
		}
		declare_war_with_cb = {
			who = FROM
			casus_belli = cb_prabhi_claim_raj
		}
		add_stability = -3
	}
}

country_event = { #A Raj falling apart
	id = rahenraj.1100
	title = rahenraj.1100.t
	desc = rahenraj.1100.d
	picture = COURT_eventPicture

	trigger = {
		OR = {
			has_reform = prabhi_reform
			has_reform = senapti_reform
		}
		NOT = {
			4411 = {
				check_variable = {
					which = raj_cohesion
					value = 20
				}
			}
		}
		OR = {
			any_neighbor_country = {
				NOT = { overlord = { has_reform = raja_reform } }
			}
			liberty_desire = 50
		}
	}
	mean_time_to_happen = {
		months = 12
		
		modifier = {
			factor = 2
			NOT = { liberty_desire = 30 }
		}
		modifier = {
			factor = 0.5
			NOT = { liberty_desire = 80 }
		}
		modifier = {
			factor = 0.8
			NOT = {
				4411 = {
					check_variable = {
						which = raj_cohesion
						value = 10
					}
				}
			}
		}
		modifier = {
			factor = 0.5
			NOT = {
				4411 = {
					check_variable = {
						which = raj_cohesion
						value = 5
					}
				}
			}
		}
	}
	
	option = { #! Notify the Raja
		ai_chance = { factor = 1 }
		name = rahenraj.1100.a
		
		hidden_effect = {
			overlord = {
				country_event = { id = rahenraj.1104 }
			}
		}
		raj_cohesion_change = { amount = 500 non_monthly = yes }
		grant_independence = yes
		if = {
			limit = {
				OR = {
					has_reform = senapti_reform
					has_reform = prabhi_reform
				}
			}
			add_government_reform = indep_prabhi_reform
		}
	}
	#! Alt option to choose to stay a part of the Raj
}
country_event = { #Nigh collapse of the Raj
	id = rahenraj.1101
	title = rahenraj.1101.t
	desc = rahenraj.1101.d
	picture = COURT_eventPicture
	
	trigger = {
		has_reform = raja_reform
		NOT = { num_of_subjects = 6 }
		NOT = { has_country_modifier = raj_nigh_collapse }
	}
	
	mean_time_to_happen = {
		months = 12
	}
	
	option = { #Oh boy
		ai_chance = { factor = 1 }
		name = rahenraj.1101.a
		
		add_stability = -1
		
		custom_tooltip = raj_collapse_in_5_tt
		add_country_modifier = {
			name = raj_nigh_collapse
			duration = 1825
		}
		hidden_effect = {
			country_event = {
				id = rahenraj.1102
				days = 1825
			}
			country_event = {
				id = rahenraj.1103
				days = 1825
			}
		}
	}
}
country_event = { #Dissolution of the Raj
	id = rahenraj.1102
	title = rahenraj.1102.t
	desc = rahenraj.1102.d
	picture = COURT_eventPicture
	
	major = yes
	is_triggered_only = yes
	
	trigger = {
		has_reform = raja_reform
		NOT = { num_of_subjects = 6 }
	}
	
	option = { #Times have changed
		ai_chance = { factor = 1 }
		name = rahenraj.1102.a
		
		add_stability = -1
		add_government_reform = autocracy_reform
		every_subject_country = {
			overlord = {
				create_subject = {
					subject_type = vassal
					subject = PREV
				}
			}
		}
		
		hidden_effect = {
			rahen_remove_harimraj_reforms_effect = yes
			set_country_flag = rahen_corrupt_court_completed
			clr_country_flag = reformed_rahen_court
			remove_country_modifier = raj_opened_senapti_ranks
			remove_country_modifier = raj_closed_senapti_ranks
			4411 = {
				remove_province_modifier = rahen_corrupt_ministers
				remove_province_modifier = rahen_powerful_nobility
				remove_province_modifier = rahen_arrogant_foreign_office
				remove_province_modifier = rahen_disloyal_officers
			}
		}
	}
}
country_event = { #Stabalisation of the Raj
	id = rahenraj.1103
	title = rahenraj.1103.t
	desc = rahenraj.1103.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_reform = raja_reform
		num_of_subjects = 6
	}
	
	option = { #Crisis averted, for now
		ai_chance = { factor = 1 }
		name = rahenraj.1103.a
		
		add_stability = 1
		raj_cohesion_change_absolute = { amount = 10 }
	}
}
country_event = { #[From.GetName] has left the Raj!
	id = rahenraj.1104
	title = rahenraj.1104.t
	desc = rahenraj.1104.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	
	option = { #Oh no!
		ai_chance = { factor = 1 }
		name = rahenraj.1104.a
		
		add_prestige = -5
	}
}
country_event = { #Someone seems to be sabotaging the Raj!
	id = rahenraj.1105
	title = rahenraj.1105.t
	desc = rahenraj.1105.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	
	option = { #Oh no!
		ai_chance = { factor = 1 }
		name = rahenraj.1105.a
		tooltip = {
			raj_cohesion_change_absolute = { amount = -1 }
		}
	}
}

#Ministerial Census
country_event = { #To Subject: Visit of the Censors
	id = rahenraj.1200
	title = rahenraj.1200.t
	desc = rahenraj.1200.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	
	option = { #Grant them full access to our ledgers
		ai_chance = { factor = 1 }
		name = rahenraj.1200.a
		add_country_modifier = {
			name = raj_census_full_access_to_ledgers
			duration = 3650
		}
		raj_cohesion_change = { amount = 25 mandate = yes }
	}
	option = { #There are some things we would rather they do not see
		ai_chance = { factor = 1 }
		name = rahenraj.1200.b
		add_country_modifier = {
			name = raj_census_limited_access_to_ledgers
			duration = 3650
		}
		raj_cohesion_change = { amount = -25 mandate = yes }
		custom_tooltip = raj_raja_may_intervene_for_ministries_tt
	}
	
	after = {
		#if ministry influence is too low, send message to Raja and ask if they want to send extra administrators to the appropriate region
		if = {
			limit = {
				NOT = {
					estate_influence = {
						estate = estate_raj_ministries
						influence = 20
					}
				}
			}
			overlord = {
				country_event = {
					id = rahenraj.1201
					days = 14
					random = 30
				}
			}
		}
	}
}

country_event = { # Ministries failing their administration in FROM
	id = rahenraj.1201
	title = rahenraj.1201.t
	desc = rahenraj.1201.d
	picture = WESTERNISATION_eventPicture

	is_triggered_only = yes

	option = { # It's time for an intervention!
		name = rahenraj.1201.a
		ai_chance = {
			factor = 1
		}
		hidden_effect = {
			FROM = {
				country_event = {
					id = rahenraj.1202
				}
			}
		}
		tooltip = {
			FROM = {
				add_estate_influence_modifier = {
					estate = estate_raj_ministries
					desc = EST_VAL_INTERVENTION_FROM_THE_RAJA
					influence = 20
					duration = 3590
				}
			}
		}
		add_adm_power = -10
		add_dip_power = -10
	}
	option = { # We have other priorities currently
		name = rahenraj.1201.b
		ai_chance = {
			factor = 1
		}
		add_country_modifier = {
			name = raj_neglected_provincial_administration
			duration = 3590
		}
		
	}
}

country_event = { # A Delegation from the Raja
	id = rahenraj.1202
	title = rahenraj.1202.t
	desc = rahenraj.1202.d
	picture = WESTERNISATION_eventPicture

	is_triggered_only = yes

	option = { # I see...
		name = rahenraj.1202.a
		ai_chance = {
			factor = 1
		}
		add_estate_influence_modifier = {
			estate = estate_raj_ministries
			desc = EST_VAL_INTERVENTION_FROM_THE_RAJA
			influence = 20
			duration = 3650
		}
	}
}

country_event = { #The Raj management event
	id = rahenraj.2000
	title = rahenraj.2000.t
	desc = rahenraj.2000.d
	picture = COURT_eventPicture

	hidden = yes
	is_triggered_only = yes
	
	trigger = {
		capital = 4411
		has_reform = raja_reform
	}
	
	option = {
		ai_chance = { factor = 1 }
		name = rahenraj.1000.a
		
		raj_cohesion_yearly_tick = yes
	}
}

country_event = { #ai raj subjects to get spy network on raja
	id = rahenraj.2001
	title = rahenraj.2000.t
	desc = rahenraj.2000.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	
	trigger = {
		overlord = { has_reform = raja_reform }
		ai = yes
	}
	immediate = {
		overlord = { save_event_target_as = current_raja }
	}
	
	option = {
		ai_chance = { factor = 20 }
		name = rahenraj.1000.a
		
		
	}
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				liberty_desire = 40
			}
		}
		name = rahenraj.1000.a
		
		add_spy_network_in = {
			who = event_target:current_raja
			value = 50
		}
	}
}

#--------# Raja #--------#
#Raja death
country_event = { 
	id = rahenraj.2099
	title = rahenraj.2099.t
	desc = rahenraj.2099.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	
	trigger = {
		has_reform = raja_reform
	}
	
	immediate = {
		set_country_flag = raja_death_event_active
	}
	
	#Check other candidates
	option = {
		name = rahenraj.2099.a
		ai_chance = { factor = 100 }
		raj_cohesion_change_absolute = { amount = -10 }
		set_country_flag = vizier_nomination_on_new_raja
		clr_country_flag = raja_death_event_active
		country_event = { id = rahenraj.2100 }
	}
	
	#Nominate previous vizier
	option = {
		name = rahenraj.2099.b
		trigger = { any_subject_country = { has_country_flag = raj_vizier } }
		ai_chance = { factor = 0 }
		hidden_effect = {
			clr_country_flag = raja_death_event_active
			set_country_flag = raj_same_vizier
			raj_calc_vizier_sway = yes
			country_event = { id = rahenraj.2101 }
		}
	}
}

#--------# Vizier #--------#

#Vizier Nomination
country_event = { 
	id = rahenraj.2100
	title = rahenraj.2100.t
	desc = { trigger = { has_country_flag = vizier_nomination_on_new_raja } desc = rahenraj.2100.da }
	desc = { trigger = { NOT = { has_country_flag = vizier_nomination_on_new_raja } } desc = rahenraj.2100.db }
	picture = COURT_eventPicture

	is_triggered_only = yes
	
	trigger = {
		has_reform = raja_reform
		NOT = { has_country_flag = raja_death_event_active }
	}
	
	immediate = {
		hidden_effect = {
			if = { limit = { NOT = { any_subject_country = { has_country_flag = raj_vizier } } }
				4411 = {
					set_variable = { which = vizierSway value = 0 }
					set_variable = { which = vizierYearlySway value = 0 }
					owner = {
						4411 = {		
							export_to_variable = { which = rajaAdm value = ADM who = PREV }
							export_to_variable = { which = rajaDip value = DIP who = PREV }
							export_to_variable = { which = rajaMil value = MIL who = PREV }
						}
					}
					set_variable = { which = rajaVizierCohesion which = rajaAdm }
					change_variable = { which = rajaVizierCohesion which = rajaDip }
					change_variable = { which = rajaVizierCohesion which = rajaMil }
					subtract_variable = { which = rajaVizierCohesion value = 9 }
					divide_variable = { which = rajaVizierCohesion value = 10 }
				}
			}
			raj_calc_vizier_shortlist = yes
		}
	}
	
	#Nominate previous vizier
	option = {
		name = rahenraj.2100.a
		goto = current_vizier_capital
		trigger = {
			any_subject_country = { has_country_flag = raj_vizier }
			has_country_flag = vizier_nomination_on_new_raja
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				event_target:current_vizier = { NOT = { check_variable = { which = vizierScore which = event_target:shortlisted_vizier_1 } } }
			}
		}
		custom_tooltip = raj_vizier_stats_current_tt
		raj_cohesion_change_absolute = { amount = 10 }
		set_country_flag = raj_same_vizier
	}
	
	#Nominate previous vizier's heir
	option = {
		name = rahenraj.2100.b
		goto = current_vizier_capital
		trigger = {
			any_subject_country = { has_country_flag = raj_vizier }
			NOT = { has_country_flag = vizier_nomination_on_new_raja }
		}
		ai_chance = {
			factor = 100
			modifier = {
				factor = 0
				event_target:current_vizier = { NOT = { check_variable = { which = vizierScore which = event_target:shortlisted_vizier_1 } } }
			}
		}
		custom_tooltip = raj_vizier_stats_current_tt
		raj_cohesion_change_absolute = { amount = 5 }
		raj_vizier_sway_change = { amount = -10 }
		set_country_flag = raj_same_vizier
		clr_country_flag = raj_swayed_senaptia
		clr_country_flag = raj_gathered_ministries
		clr_country_flag = raj_outmaneuvered_raja
		clr_country_flag = raj_discredited_raja
		clr_country_flag = raj_became_raja_confident
	}
	
	#Others candidates
	option = {
		name = rahenraj.2100.c
		goto = shortlisted_vizier_1_capital
		ai_chance = { factor = 1 }
		custom_tooltip = raj_vizier_stats_1_tt
		raj_vizier_nomination_effects = { scope = event_target:shortlisted_vizier_1 }
	}
	
	option = {
		name = rahenraj.2100.dd
		goto = shortlisted_vizier_2_capital
		ai_chance = { factor = 0 }
		custom_tooltip = raj_vizier_stats_2_tt
		raj_vizier_nomination_effects = { scope = event_target:shortlisted_vizier_2 }
	}
	
	option = {
		name = rahenraj.2100.e
		goto = shortlisted_vizier_3_capital
		ai_chance = { factor = 0 }
		custom_tooltip = raj_vizier_stats_3_tt
		raj_vizier_nomination_effects = { scope = event_target:shortlisted_vizier_3 }
	}
	
	option = {
		name = rahenraj.2100.f
		goto = shortlisted_vizier_4_capital
		ai_chance = { factor = 0 }
		custom_tooltip = raj_vizier_stats_4_tt
		raj_vizier_nomination_effects = { scope = event_target:shortlisted_vizier_4 }
	}
	
	option = {
		name = rahenraj.2100.g
		goto = shortlisted_vizier_5_capital
		ai_chance = { factor = 0 }
		custom_tooltip = raj_vizier_stats_5_tt
		raj_vizier_nomination_effects = { scope = event_target:shortlisted_vizier_5 }
	}
	
	option = {
		name = rahenraj.2100.h
		goto = shortlisted_vizier_6_capital
		ai_chance = { factor = 0 }
		custom_tooltip = raj_vizier_stats_6_tt
		raj_vizier_nomination_effects = { scope = event_target:shortlisted_vizier_6 }
	}
	
	option = {
		name = rahenraj.2100.i
		goto = shortlisted_vizier_7_capital
		ai_chance = { factor = 0 }
		custom_tooltip = raj_vizier_stats_7_tt
		raj_vizier_nomination_effects = { scope = event_target:shortlisted_vizier_7 }
	}
	
	after = {
		clr_country_flag = vizier_nomination_on_new_raja
		raj_calc_vizier_sway = yes
		country_event = { id = rahenraj.2101 }
	}
}

#A new Vizier (Raja)
country_event = { 
	id = rahenraj.2101
	title = rahenraj.2101.t
	desc = { trigger = { NOT = { has_country_flag = raj_same_vizier } } desc = rahenraj.2101.da }
	desc = { trigger = { has_country_flag = raj_same_vizier } desc = rahenraj.2101.db }
	picture = COURT_eventPicture

	is_triggered_only = yes
	major = yes
	
	major_trigger = {
		overlord = { has_reform = raja_reform }
	}
	
	option = {
		name = rahenraj.2101.a
		clr_country_flag = raj_same_vizier
	}
}

#A new Vizier (new Vizier)
country_event = { 
	id = rahenraj.2102
	title = rahenraj.2102.t
	desc = rahenraj.2102.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	
	option = {
		name = rahenraj.2102.a
		custom_tooltip = raj_vizier_mechanics_enabled_tt
	}
}

#A new Vizier (previous Vizier)
country_event = { 
	id = rahenraj.2103
	title = rahenraj.2103.t
	desc = rahenraj.2103.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	
	option = {
		name = rahenraj.2103.a
		custom_tooltip = raj_vizier_mechanics_disabled_tt
	}
}


#Raja-Vizier Bff event chain start
country_event = { 
	id = rahenraj.2104
	title = rahenraj.2104.t
	desc = rahenraj.2104.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	
	option = {
		name = rahenraj.2104.a
		raj_vizier_sway_change = { amount = 5 }
	}
}

#Raja-Vizier Bff event chain middle
country_event = { 
	id = rahenraj.2105
	title = rahenraj.2105.t
	desc = rahenraj.2105.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	
	option = {
		name = rahenraj.2105.a
		
	}
}

#Raja-Vizier Bff event chain end
country_event = { 
	id = rahenraj.2106
	title = rahenraj.2106.t
	desc = rahenraj.2106.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	
	option = {
		name = rahenraj.2106.a
		
	}
}

#Vizier has Swayed Senaptia
country_event = { 
	id = rahenraj.2107
	title = rahenraj.2107.t
	desc = rahenraj.2107.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	
	option = {
		name = rahenraj.2107.a
		tooltip = {
			raj_vizier_sway_change = { amount = 5 }
			add_opinion = { who = FROM modifier = raj_swayed_senaptia_opinion }
		}
	}
}

#Ministries support Vizier
country_event = { 
	id = rahenraj.2108
	title = rahenraj.2108.t
	desc = rahenraj.2108.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	
	option = {
		name = rahenraj.2108.a
		tooltip = { raj_vizier_sway_change = { amount = 5 } }
	}
}

#Outmanoeuvred by the Vizier
country_event = { 
	id = rahenraj.2109
	title = rahenraj.2109.t
	desc = rahenraj.2109.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	
	option = {
		name = rahenraj.2109.a
		tooltip = {
			raj_vizier_sway_change = { amount = 5 }
			add_opinion = { who = FROM modifier = raj_outmaneuvered_by_vizier_opinion }
			add_country_modifier = { name = raj_was_outmaneuvered duration = 3650 }
		}
	}
}

#Discredited by the Vizier
country_event = { 
	id = rahenraj.2110
	title = rahenraj.2110.t
	desc = rahenraj.2110.d
	picture = COURT_eventPicture

	is_triggered_only = yes
	
	option = {
		name = rahenraj.2110.a
		tooltip = {
			raj_vizier_sway_change = { amount = 5 }
			raj_cohesion_change_absolute = { amount = -5 }
			add_opinion = { who = FROM modifier = raj_discredited_by_vizier_opinion }
			add_spy_network_from = { who = FROM value = -60 }
		}
	}
}


#--------# Menus #--------#

#Raj menu vassal
country_event = {
	id = rahenraj.3000
	title = rahenraj.3000.t
	desc = rahenraj.3000.d
	picture = RAJ_COUNTRY_SHIELD_eventPicture

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			raj_rounding_variables = yes
			4411 = {
				set_variable = { which = rajNbPrabhi value = 0 }
				set_variable = { which = rajNbSenapti value = 0 }
				owner = {
					save_global_event_target_as = raja_global_target
					capital_scope = { save_event_target_as = raja_capital_target }
					every_subject_country = {
						if = { limit = { has_country_flag = raj_vizier }
							save_global_event_target_as = raj_vizier_global_target
							capital_scope = { save_event_target_as = raj_vizier_capital_target }
						}
						if = { limit = { is_subject_of_type = daimyo_vassal }
							4411 = { change_variable = { which = rajNbPrabhi value = 1 } }
						}
						else_if = { limit = { is_subject_of_type = great_daimyo_vassal }
							4411 = { change_variable = { which = rajNbSenapti value = 1 } }
						}
					}
				}
			}
			raj_calc_max_allowed_senaptia = yes
			raj_calc_vizier_ranking = yes
		}
	}
	
	#Manage Ministries Menu
	option = {
		name = rahenraj.3000.a
		goto = raja_capital_target
		trigger = { has_reform = raja_reform }
		hidden_effect = { country_event = { id = rahenraj.3002 } }
	}
	#Request mandate
	option = {
		name = rahenraj.3000.b
		goto = raja_capital_target
		trigger = {
			NOT = { has_reform = raja_reform }
			dip_power = 50
			NOT = { has_raj_mandate = yes }
			NOT = { has_country_modifier = raj_mandate_denied }
			hidden_trigger = { NOT = { has_country_flag = raj_requested_mandate } }
		}
		custom_tooltip = raj_open_mandate_menu_tt
		add_dip_power = -50
		hidden_effect = {
			set_country_flag = raj_requested_mandate
			country_event = { id = rahenraj.1002 }
			overlord = { add_country_modifier = { name = raj_administration_is_busy duration = 10 hidden = yes } }
		}
	}
	#Request mandate (unavailable)
	option = {
		name = rahenraj.3000.c
		goto = raja_capital_target
		trigger = {
			NOT = { has_reform = raja_reform }
			OR = {
				NOT = { dip_power = 50 }
				has_raj_mandate = yes
				has_country_modifier = raj_mandate_denied
				has_country_flag = raj_requested_mandate
			}
		}
		custom_tooltip = raj_option_unavailable_tt
		if = { limit = { NOT = { dip_power = 50 } }
			custom_tooltip = raj_not_50_dip_tt
		}
		if = { limit = { has_raj_mandate = yes }
			custom_tooltip = raj_already_has_mandate_tt
		}
		if = { limit = { has_country_modifier = raj_mandate_denied }
			custom_tooltip = raj_got_denied_mandate_tt
		}
		if = { limit = { has_country_flag = raj_requested_mandate }
			custom_tooltip = raj_request_pending_tt
		}
		hidden_effect = { country_event = { id = rahenraj.3001 } }
	}
	
	#Mandate Settings
	option = {
		name = rahenraj.3000.dd
		goto = raj_vizier_capital_target
		trigger = { has_reform = raja_reform }
		hidden_effect = { country_event = { id = rahenraj.3003 } }
	}
	#Request Senapti Rank
	option = {
		name = rahenraj.3000.e
		goto = raj_vizier_capital_target
		trigger = {
			is_subject_of_type = daimyo_vassal
			NOT = { has_country_flag = potential_senapti }
			dip_power = 25
			if = {
				limit = { overlord = { has_country_modifier = raj_closed_senapti_ranks } }
				if = {
					limit = { overlord = { culture_group = harimari } }
					ruler_is_harimari = yes
				}
				else = {
					ruler_is_human = yes
				}
			}
			NOT = { has_country_modifier = prabhi_promotion_rejected }
			NOT = { has_country_modifier = senapti_recently_demoted }
			NOT = { has_country_modifier = raj_mandate_extended_prabhi_privileges }
			num_of_cities = 2
			raj_below_allowed_senaptia = yes
		}
		add_dip_power = -25
		hidden_effect = {
			set_country_flag = potential_senapti
			save_global_event_target_as = potential_senapti_target
			country_event = { id = rahenraj.3001 }
		}
		overlord = { country_event = { id = rahenraj.4 } }
	}
	#Request Senapti(Unavailable)
	option = {
		name = rahenraj.3000.f
		goto = raj_vizier_capital_target
		trigger = {
			NOT = { has_reform = raja_reform }
			OR = {
				NOT = { dip_power = 25 }
				NOT = { is_subject_of_type = daimyo_vassal }
				has_country_flag = potential_senapti
				if = {
					limit = { overlord = { has_country_modifier = raj_closed_senapti_ranks } }
					if = {
						limit = { overlord = { culture_group = harimari } }
						NOT = { ruler_is_harimari = yes }
					}
					else = {
						NOT = { ruler_is_human = yes }
					}
				}
				has_country_modifier = prabhi_promotion_rejected
				has_country_modifier = senapti_recently_demoted
				has_country_modifier = raj_mandate_extended_prabhi_privileges
				NOT = { num_of_cities = 2 }
				NOT = { raj_below_allowed_senaptia = yes }
			}
		}
		if = { limit = { is_subject_of_type = great_daimyo_vassal }
			custom_tooltip = raj_already_senapti_tt
		}
		else = {
			custom_tooltip = raj_option_unavailable_tt
			if = { limit = { NOT = { raj_below_allowed_senaptia = yes } }
				custom_tooltip = raj_no_senaptia_available_tt
			}
			if = { limit = { NOT = { dip_power = 25 } }
				custom_tooltip = raj_not_25_dip_tt
			}
			if = { limit = { NOT = { is_subject_of_type = daimyo_vassal } }
				custom_tooltip = raj_not_prabhi_tt
			}
			if = { limit = { overlord = { has_country_modifier = raj_closed_senapti_ranks } }
				if = {
					limit = {
						overlord = { culture_group = harimari }
						NOT = { ruler_is_harimari = yes }
					}
					custom_tooltip = raj_not_ruler_harimari_tt
				}
				else_if = { limit = { NOT = { ruler_is_human = yes } }
					custom_tooltip = raj_not_ruler_human_tt
				}
			}
			if = { limit = { has_country_modifier = prabhi_promotion_rejected }
				custom_tooltip = raj_promotion_rejection_tt
			}
			if = { limit = { has_country_modifier = senapti_recently_demoted }
				custom_tooltip = raj_recently_demoted_tt
			}
			if = { limit = { has_country_modifier = raj_mandate_extended_prabhi_privileges }
				custom_tooltip = raj_extended_prabhi_privileges_modifier_tt
			}
			if = { limit = { NOT = { num_of_cities = 2 } }
				custom_tooltip = raj_not_2_provinces_tt
			}
		}
		hidden_effect = { country_event = { id = rahenraj.3001 } }
	}
	
	#Vizier Action (raja)
	option = {
		name = rahenraj.3000.g
		trigger = {
			has_reform = raja_reform
			4411 = { check_variable = { which = raj_cohesion which = vizierSway } }
		}
		hidden_effect = { country_event = { id = rahenraj.3004 } }
	}
	#Vizier Action (raja - unavailable)
	option = {
		name = rahenraj.3000.h
		trigger = {
			has_reform = raja_reform
			4411 = { NOT = { check_variable = { which = raj_cohesion which = vizierSway } } }
		}
		custom_tooltip = raj_option_unavailable_tt
		custom_tooltip = raj_cohesion_lower_than_sway_tt
		hidden_effect = { country_event = { id = rahenraj.3001 } }
	}
	#Vizier Action
	option = {
		name = rahenraj.3000.i
		trigger = { has_country_flag = raj_vizier }
		hidden_effect = { country_event = { id = rahenraj.3005 } }
	}
	#Sabotage Raj
	option = {
		name = rahenraj.3000.j
		trigger = {
			NOT = { has_reform = raja_reform }
			NOT = { has_country_flag = raj_vizier }
			overlord = { has_spy_network_from = { who = ROOT value = 30 } }
		}
		raj_cohesion_change_absolute = { amount = -1 }
		overlord = {
			add_spy_network_from = { who = ROOT value = -30 }
			country_event = { id = rahenraj.1105 }
		}
		hidden_effect = { country_event = { id = rahenraj.3001 } }
	}
	#Sabotage Raj (unavailable)
	option = {
		name = rahenraj.3000.k
		trigger = {
			NOT = { has_reform = raja_reform }
			NOT = { has_country_flag = raj_vizier }
			NOT = { overlord = { has_spy_network_from = { who = ROOT value = 30 } } }
		}
		custom_tooltip = raj_option_unavailable_tt
		custom_tooltip = raj_need_30_spy_network_tt
		hidden_effect = { country_event = { id = rahenraj.3001 } }
	}
	
	#Refresh Menu
	option = {
		name = rahenraj.3000.l
		hidden_effect = { country_event = { id = rahenraj.3001 } }
	}
	
	#Hide info window
	option = {
		name = rahenraj.3000.m
		trigger = { NOT = { has_country_flag = raj_info_window_hidden } }
		set_country_flag = raj_info_window_hidden
		hidden_effect = { country_event = { id = rahenraj.3001 } }
	}
	
	#Show info window
	option = {
		name = rahenraj.3000.n
		trigger = { has_country_flag = raj_info_window_hidden }
		clr_country_flag = raj_info_window_hidden
		hidden_effect = { country_event = { id = rahenraj.3001 } }
	}
	
	#Close Menu
	option = {
		name = rahenraj.3000.o
		clr_country_flag = raj_menu_open
	}
}

country_event = {
	id = rahenraj.3001
	title = rahenraj.3001.t
	desc = rahenraj.3001.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = rahenraj.3001.a
		country_event = { id = rahenraj.3000 }
	}
}

#Manage Ministries Menu
country_event = {
	id = rahenraj.3002
	title = rahenraj.3002.t
	desc = rahenraj.3002.d
	picture = RAJ_SUBMENU_eventPicture
	
	is_triggered_only = yes
	
	#Close
	option = {
		name = rahenraj.1002.z
		hidden_effect = { country_event = { id = rahenraj.3000 } }
	}
	
	#Increase Ministerial controls
	option = {
		name = rahenraj.3002.a
		trigger = { NOT = { has_country_modifier = raj_increased_ministries_controls } }
		add_country_modifier = { name = raj_increased_ministries_controls duration = 3650 }
		custom_tooltip = raj_vassals_get_increased_controls_privilege_tt
		hidden_effect = {
			every_subject_country = {
				limit = {
					OR = {
						is_subject_of_type = daimyo_vassal
						is_subject_of_type = great_daimyo_vassal
					}
				}
				set_estate_privilege = estate_raj_ministries_increased_controls
				country_event = { id = rahenraj.3011 }
			}
			country_event = { id = rahenraj.3008 }
		}
	}
	#Increase Ministerial controls - not available
	option = {
		name = rahenraj.3002.b
		trigger = { has_country_modifier = raj_increased_ministries_controls }
		custom_tooltip = raj_ministries_actions_only_every_10_years_tt
		hidden_effect = { country_event = { id = rahenraj.3008 } }
	}
	
	#Demand introspection
	option = {
		name = rahenraj.3002.c
		trigger = { NOT = { has_country_modifier = raj_demanded_introspection } }
		add_country_modifier = { name = raj_raja_introspecting duration = 1095 }
		custom_tooltip = raj_vassals_get_introspection_privilege_tt
		hidden_effect = {
			add_country_modifier = { name = raj_demanded_introspection duration = 3650 hidden = yes }
			every_subject_country = {
				limit = {
					OR = {
						is_subject_of_type = daimyo_vassal
						is_subject_of_type = great_daimyo_vassal
					}
				}
				set_estate_privilege = estate_raj_ministries_demand_of_introspection
				country_event = { id = rahenraj.3010 }
			}
			country_event = { id = rahenraj.3008 }
		}
	}
	#Demand introspection - not available
	option = {
		name = rahenraj.3002.dd
		trigger = { has_country_modifier = raj_demanded_introspection }
		custom_tooltip = raj_ministries_actions_only_every_10_years_tt
		hidden_effect = { country_event = { id = rahenraj.3008 } }
	}
	
	#Pursue Aggressive Policies
	option = {
		name = rahenraj.3002.e
		trigger = {
			NOT = { has_country_modifier = raj_raja_aggressive_policies }
			4411 = { check_variable = { which = raj_cohesion value = 75 } }
		}
		add_country_modifier = { name = raj_raja_aggressive_policies duration = 3650 }
		custom_tooltip = raj_vassals_get_aggressive_policies_privilege_tt
		hidden_effect = {
			every_subject_country = {
				limit = { is_subject_of_type = great_daimyo_vassal }
				set_estate_privilege = estate_raj_ministries_aggressive_policies
				country_event = { id = rahenraj.3012 }
			}
			country_event = { id = rahenraj.3008 }
		}
	}
	#Pursue Aggressive Policies - not available
	option = {
		name = rahenraj.3002.f
		trigger = {
			OR = {
				has_country_modifier = raj_raja_aggressive_policies
				4411 = { NOT = { check_variable = { which = raj_cohesion value = 75 } } }
			}
		}
		if = { limit = { has_country_modifier = raj_raja_aggressive_policies }
			custom_tooltip = raj_ministries_actions_only_every_10_years_tt
		}
		if = { limit = { 4411 = { NOT = { check_variable = { which = raj_cohesion value = 70 } } } }
			custom_tooltip = raj_need_cohesion_75_tt
		}
		hidden_effect = { country_event = { id = rahenraj.3008 } }
	}
	
	#Ask Ministers to tutor heir
	option = {
		name = rahenraj.3002.g
		trigger = {
			has_heir = yes
			NOT = { heir_age = 15 }
			NOT = { has_country_modifier = raj_tutoring_heir }
			NOT = {
				has_heir_flag = raj_tutored_adm
				has_heir_flag = raj_tutored_dip
				has_heir_flag = raj_tutored_mil
			}
		}
		custom_tooltip = raj_heir_tutoring_effect_in_3_years_tt
		add_years_of_income = -0.1
		tooltip = {
			if = { limit = { NOT = { has_heir_flag = raj_tutored_adm } }
				random_list = {
					1 = {
						modifier = { factor = 2 has_heir_flag = raj_tutored_dip }
						modifier = { factor = 2 has_heir_flag = raj_tutored_mil }
						change_heir_adm = 1
					}
					2 = { }
				}
			}
			if = { limit = { NOT = { has_heir_flag = raj_tutored_dip } }
				random_list = {
					1 = {
						modifier = { factor = 2 has_heir_flag = raj_tutored_adm }
						modifier = { factor = 2 has_heir_flag = raj_tutored_mil }
						change_heir_dip = 1
					}
					2 = { }
				}
			}
			if = { limit = { NOT = { has_heir_flag = raj_tutored_mil } }
				random_list = {
					1 = {
						modifier = { factor = 2 has_heir_flag = raj_tutored_dip }
						modifier = { factor = 2 has_heir_flag = raj_tutored_adm }
						change_heir_mil = 1
					}
					2 = { }
				}
			}
		}
		hidden_effect = {
			add_country_modifier = { name = raj_tutoring_heir duration = 1115 hidden = yes }
			set_heir_flag = raj_ministries_tutoring
			country_event = { id = rahenraj.3008 }
			country_event = { id = rahenraj.3013 days = 1095 }
		}
	}
	#Ask Ministers to tutor heir - not available
	option = {
		name = rahenraj.3002.h
		trigger = {
			OR = {
				NOT = { has_heir = yes }
				heir_age = 15
				has_country_modifier = raj_tutoring_heir
				AND = {
					has_heir_flag = raj_tutored_adm
					has_heir_flag = raj_tutored_dip
					has_heir_flag = raj_tutored_mil
				}
			}
		}
		if = {
			limit = {
				OR = {
					has_heir = no
					heir_age = 15
				}
			}
			custom_tooltip = raj_has_an_heir_younger_than_15_tt
		}
		if = { limit = { has_country_modifier = raj_tutoring_heir }
			custom_tooltip = raj_ministries_actions_only_every_3_years_tt
		}
		if = {
			limit = {
				has_heir_flag = raj_tutored_adm
				has_heir_flag = raj_tutored_dip
				has_heir_flag = raj_tutored_mil
			}
			custom_tooltip = raj_ministries_actions_only_every_3_years_tt
		}
		hidden_effect = { country_event = { id = rahenraj.3008 } }
	}
	
	#Census
	option = {
		name = rahenraj.3002.i
		trigger = {
			NOT = { has_country_modifier = raj_ministerial_census }
			adm_power = 50
			dip_power = 50
			mil_power = 50
		}
		raj_cohesion_change_absolute = { amount = 5 }
		add_adm_power = -50
		add_dip_power = -50
		add_mil_power = -50
		custom_tooltip = raj_ministries_ministerial_census_tt
		hidden_effect = {
			add_country_modifier = { name = raj_ministerial_census duration = 3650 hidden = yes }
			every_subject_country = {
				limit = {
					OR = {
						is_subject_of_type = daimyo_vassal
						is_subject_of_type = great_daimyo_vassal
					}
				}
				country_event = { id = rahenraj.1200 days = 14 random = 300 }
			}
			country_event = { id = rahenraj.3008 }
		}
	}
	#Census - not available
	option = {
		name = rahenraj.3002.j
		trigger = {
			OR = {
				has_country_modifier = raj_ministerial_census
				NOT = {
					adm_power = 50
					dip_power = 50
					mil_power = 50
				}
			}
		}
		if = { limit = { has_country_modifier = raj_ministerial_census }
			custom_tooltip = raj_ministries_actions_only_every_10_years_tt
		}
		if = { limit = { NOT = { adm_power = 50 } }
			custom_tooltip = raj_need_50_adm_tt
		}
		if = { limit = { NOT = { dip_power = 50 } }
			custom_tooltip = raj_need_50_dip_tt
		}
		if = { limit = { NOT = { mil_power = 50 } }
			custom_tooltip = raj_need_50_mil_tt
		}
		hidden_effect = { country_event = { id = rahenraj.3008 } }
	}
	
	#Crack down on decadence
	option = {
		name = rahenraj.3002.k
		trigger = {
			4411 = { NOT = { check_variable = { which = raj_cohesion value = 30 } } }
			NOT = { has_country_modifier = raj_cracking_on_decadence }
			dip_power = 50
			treasury = 350
		}
		raj_cohesion_change_absolute = { amount = 15 }
		add_dip_power = -50
		add_treasury = -350
		custom_tooltip = raj_cracking_on_decadence_tt
		hidden_effect = {
			add_country_modifier = { name = raj_cracking_on_decadence duration = 3650 hidden = yes }
			every_subject_country = {
				limit = {
					OR = {
						is_subject_of_type = daimyo_vassal
						is_subject_of_type = great_daimyo_vassal
					}
				}
				country_event = { id = rahenraj.3014 }
				add_liberty_desire = 15
				set_estate_privilege = estate_raj_cracking_on_decadence
			}
			country_event = { id = rahenraj.3008 }
		}
	}
	#Crack down on decadence - not available
	option = {
		name = rahenraj.3002.l
		trigger = {
			OR = {
				4411 = { check_variable = { which = raj_cohesion value = 30 } }
				has_country_modifier = raj_cracking_on_decadence
				NOT = {
					dip_power = 50
					treasury = 350
				}
			}
		}
		if = { limit = { has_country_modifier = raj_cracking_on_decadence }
			custom_tooltip = raj_ministries_actions_only_every_10_years_tt
		}
		if = { limit = { 4411 = { check_variable = { which = raj_cohesion value = 30 } } }
			custom_tooltip = raj_need_less_cohesion_30_tt
		}
		if = { limit = { NOT = { dip_power = 50 } }
			custom_tooltip = raj_need_50_dip_tt
		}
		if = { limit = { NOT = { treasury = 350 } }
			custom_tooltip = raj_need_350_cash_tt
		}
		hidden_effect = { country_event = { id = rahenraj.3008 } }
	}
	
	#Regulate the Grand Vizier
	option = {
		name = rahenraj.3002.m
		trigger = {
			4411 = { check_variable = { which = raj_cohesion value = 60 } }
			NOT = { has_country_modifier = raj_regulating_vizier }
			adm_power = 50
		}
		add_adm_power = -50
		raj_cohesion_change_absolute = { amount = -10 }
		raj_vizier_sway_change = { amount = -10 }
		random_subject_country = {
			limit = { has_country_flag = raj_vizier }
			add_opinion = { who = ROOT modifier = raj_regulated_vizier }
			hidden_effect = { country_event = { id = rahenraj.3015 } }
		}
		hidden_effect = {
			add_country_modifier = { name = raj_regulating_vizier duration = 3650 hidden = yes }
			country_event = { id = rahenraj.3008 }
		}
	}
	#Regulate the Grand Vizier - not available
	option = {
		name = rahenraj.3002.n
		trigger = {
			OR = {
				has_country_modifier = raj_regulating_vizier
				4411 = { NOT = { check_variable = { which = raj_cohesion value = 60 } } }
				NOT = { adm_power = 50 }
			}
		}
		if = { limit = { has_country_modifier = raj_regulating_vizier }
			custom_tooltip = raj_ministries_actions_only_every_10_years_tt
		}
		if = { limit = { 4411 = { NOT = { check_variable = { which = raj_cohesion value = 60 } } } }
			custom_tooltip = raj_need_cohesion_60_tt
		}
		if = { limit = { NOT = { adm_power = 50 } }
			custom_tooltip = raj_need_50_adm_tt
		}
		hidden_effect = { country_event = { id = rahenraj.3008 } }
	}
	
	#New taxes
	option = {
		name = rahenraj.3002.o
		trigger = {
			4411 = { check_variable = { which = raj_cohesion value = 60 } }
			NOT = { has_country_modifier = raj_new_tax_policies }
			dip_power = 50
		}
		raj_cohesion_change_absolute = { amount = -10 }
		add_dip_power = 50
		add_country_modifier = { name = raj_new_tax_policies duration = 3650 }
		hidden_effect = {
			country_event = { id = rahenraj.3008 }
		}
	}
	#New taxes - not available
	option = {
		name = rahenraj.3002.p
		trigger = {
			OR = {
				has_country_modifier = raj_new_tax_policies
				4411 = { NOT = { check_variable = { which = raj_cohesion value = 60 } } }
				NOT = { dip_power = 50 }
			}
		}
		if = { limit = { has_country_modifier = raj_new_tax_policies }
			custom_tooltip = raj_ministries_actions_only_every_10_years_tt
		}
		if = { limit = { 4411 = { NOT = { check_variable = { which = raj_cohesion value = 60 } } } }
			custom_tooltip = raj_need_cohesion_60_tt
		}
		if = { limit = { NOT = { dip_power = 50 } }
			custom_tooltip = raj_need_50_dip_tt
		}
		hidden_effect = { country_event = { id = rahenraj.3008 } }
	}
	
	#Close
	option = {
		name = rahenraj.1002.z
		hidden_effect = { country_event = { id = rahenraj.3000 } }
	}
}

#Mandate Settings Menu
country_event = {
	id = rahenraj.3003
	title = rahenraj.3003.t
	desc = rahenraj.3003.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = rahenraj.1002.z
	}
	
	after = {
		country_event = { id = rahenraj.3000 }
	}
}

#Fire Vizier
country_event = {
	id = rahenraj.3004
	title = rahenraj.3004.t
	desc = rahenraj.3004.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	
	#I'm sure
	option = {
		name = rahenraj.3004.a
		random_subject_country = {
			limit = { has_country_flag = raj_vizier }
			raj_clear_vizier = yes
			add_opinion = { who = ROOT modifier = raj_dismissed_vizier_opinion }
		}
		4411 = {
			subtract_variable = { which = raj_cohesion which = vizierSway }
			hidden_effect = {
				if = { limit = { NOT = { check_variable = { raj_cohesion = 0 } } }
					set_variable = { which = raj_cohesion value = 0 }
				}
			}
		}
		country_event = { id = rahenraj.2100 }
	}
	
	#Nevermind
	option = {
		name = rahenraj.3004.b
	}
	
	after = {
		country_event = { id = rahenraj.3000 }
	}
}

#Vizier Actions
country_event = {
	id = rahenraj.3005
	title = rahenraj.3005.t
	desc = rahenraj.3005.d
	picture = RAJ_SUBMENU_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			set_variable = { which = numSwayedSenaptia value = 0 }
			set_variable = { which = rajNbSenapti value = 0 }
			export_to_variable = { which = vizierDipRepDiff value = modifier:diplomatic_reputation }
			overlord = {
				save_event_target_as = raja_target
				every_subject_country = {
					limit = { is_subject_of_type = great_daimyo_vassal }
					ROOT = {
						change_variable = { which = rajNbSenapti value = 1 }
						export_to_variable = { which = vizierOpinion value = opinion who = PREV }
					}
					set_variable = { which = vizierOpinion which = ROOT }
					
					PREV = { export_to_variable = { which = rajaOpinion value = opinion who = PREV } }
					set_variable = { which = rajaOpinion which = PREV }
					if = {
						limit = {
							has_opinion = { value = 150 who = ROOT }
							NOT = { check_variable = { which = rajaOpinion which = vizierOpinion } }
						}
						ROOT = { change_variable = { which = numSwayedSenaptia value = 1 } }
					}
				}
				ROOT = { export_to_variable = { which = rajaDipRep value = modifier:diplomatic_reputation who = PREV } }
			}
			set_variable = { which = rajNbSenaptiHalf which = rajNbSenapti }
			divide_variable = { which = rajNbSenaptiHalf value = 2000 }
			multiply_variable = { which = rajNbSenaptiHalf value = 1000 }
			subtract_variable = { which = vizierDipRepDiff which = rajaDipRep }
		}
	}
	
	#Sway the Senaptia
	option = {
		name = rahenraj.3005.a
		trigger = {
			check_variable = { which = rajNbSenaptiHalf value = 1 }
			check_variable = { which = numSwayedSenaptia which = rajNbSenaptiHalf }
			mil_power = 250
			NOT = { has_country_flag = raj_swayed_senaptia }
		}
		raj_vizier_sway_change = { amount = 5 }
		add_mil_power = -250
		overlord = {
			country_event = { id = rahenraj.2107 }
			add_opinion = { who = ROOT modifier = raj_swayed_senaptia_opinion }
			every_subject_country = {
				limit = {
					is_subject_of_type = great_daimyo_vassal
					has_opinion = { value = 150 who = ROOT }
					NOT = { check_variable = { which = rajaOpinion which = vizierOpinion } }
				}
				add_opinion = { who = ROOT modifier = raj_swayed_senapti_opinion }
			}
		}
		set_country_flag = raj_swayed_senaptia
		custom_tooltip = raj_option_available_tt
		custom_tooltip = raj_has_250_mil_tt
		custom_tooltip = raj_more_than_half_senaptia_tt
		custom_tooltip = raj_vizier_action_not_used_before_tt
		hidden_effect = { country_event = { id = rahenraj.3000 } }
	}
	#Sway the Senaptia (unavailable)
	option = {
		name = rahenraj.3005.b
		trigger = {
			OR = {
				NOT = { check_variable = { which = rajNbSenaptiHalf value = 1 } }
				NOT = { check_variable = { which = numSwayedSenaptia which = rajNbSenaptiHalf } }
				NOT = { mil_power = 250 }
				has_country_flag = raj_swayed_senaptia
			}
		}
		custom_tooltip = raj_option_unavailable_tt
		if = { limit = { mil_power = 250 }
			custom_tooltip = raj_has_250_mil_tt
		}
		else = {
			custom_tooltip = raj_not_250_mil_tt
		}
		if = { limit = { check_variable = { which = numSwayedSenaptia which = rajNbSenaptiHalf } }
			custom_tooltip = raj_more_than_half_senaptia_tt
		}
		else = {
			custom_tooltip = raj_not_more_than_half_senaptia_tt
		}
		if = { limit = { NOT = { has_country_flag = raj_swayed_senaptia } }
			custom_tooltip = raj_vizier_action_not_used_before_tt
		}
		else = {
			custom_tooltip = raj_vizier_action_used_before_tt
		}
		hidden_effect = { country_event = { id = rahenraj.3006 } }
	}
	
	#Gather The Ministries Support
	option = {
		name = rahenraj.3005.c
		trigger = {
			estate_loyalty = { estate = estate_raj_ministries loyalty = 60 }
			estate_influence = { estate = estate_raj_ministries influence = 60 }
			adm_power = 250
			NOT = { has_country_flag = raj_gathered_ministries }
		}
		raj_vizier_sway_change = { amount = 5 }
		overlord = { country_event = { id = rahenraj.2108 } }
		add_adm_power = -250
		add_estate_influence_modifier = { estate = estate_raj_ministries desc = raj_ministries_support_vizier influence = 10 duration = 7300 }
		set_country_flag = raj_gathered_ministries
		custom_tooltip = raj_option_available_tt
		custom_tooltip = raj_has_250_mil_tt
		custom_tooltip = raj_more_than_half_senaptia_tt
		custom_tooltip = raj_vizier_action_not_used_before_tt
		hidden_effect = { country_event = { id = rahenraj.3000 } }
	}
	#Gather The Ministries Support (unavailable)
	option = {
		name = rahenraj.3005.dd
		trigger = {
			OR = {
				NOT = { estate_loyalty = { estate = estate_raj_ministries loyalty = 60 } }
				NOT = { estate_influence = { estate = estate_raj_ministries influence = 60 } }
				NOT = { adm_power = 250 }
				has_country_flag = raj_gathered_ministries
			}
		}
		custom_tooltip = raj_option_unavailable_tt
		if = { limit = { adm_power = 250 }
			custom_tooltip = raj_has_250_adm_tt
		}
		else = {
			custom_tooltip = raj_not_250_adm_tt
		}
		if = { limit = { estate_loyalty = { estate = estate_raj_ministries loyalty = 60 } }
			custom_tooltip = raj_ministries_loyalty_60_tt
		}
		else = {
			custom_tooltip = raj_ministries_loyalty_not_60_tt
		}
		if = { limit = { estate_influence = { estate = estate_raj_ministries influence = 60 } }
			custom_tooltip = raj_ministries_influence_60_tt
		}
		else = {
			custom_tooltip = raj_ministries_influence_not_60_tt
		}
		if = { limit = { NOT = { has_country_flag = raj_gathered_ministries } }
			custom_tooltip = raj_vizier_action_not_used_before_tt
		}
		else = {
			custom_tooltip = raj_vizier_action_used_before_tt
		}
		hidden_effect = { country_event = { id = rahenraj.3006 } }
	}
	
	#Outmaneuver the Raja
	option = {
		name = rahenraj.3005.e
		trigger = {
			dip_power = 250
			diplomatic_reputation = 4
			check_variable = { which = vizierDipRepDiff value = 2 }
			NOT = { has_country_flag = raj_outmaneuvered_raja }
		}
		raj_vizier_sway_change = { amount = 5 }
		overlord = {
			country_event = { id = rahenraj.2109 }
			add_opinion = { who = ROOT modifier = raj_outmaneuvered_by_vizier_opinion }
			add_country_modifier = { name = raj_was_outmaneuvered duration = 3650 }
		}
		add_dip_power = -250
		set_country_flag = raj_outmaneuvered_raja
		custom_tooltip = raj_option_available_tt
		custom_tooltip = raj_has_250_dip_tt
		custom_tooltip = raj_has_4_diprep_tt
		custom_tooltip = raj_more_diprep_than_raja_tt
		custom_tooltip = raj_vizier_action_not_used_before_tt
		hidden_effect = { country_event = { id = rahenraj.3000 } }
	}
	#Outmaneuver the Raja (unavailable)
	option = {
		name = rahenraj.3005.f
		trigger = {
			OR = {
				NOT = { dip_power = 250 }
				NOT = { diplomatic_reputation = 4 }
				NOT = { check_variable = { which = vizierDipRepDiff value = 2 } }
				has_country_flag = raj_outmaneuvered_raja
			}
		}
		custom_tooltip = raj_option_unavailable_tt
		if = { limit = { dip_power = 250 }
			custom_tooltip = raj_has_250_dip_tt
		}
		else = {
			custom_tooltip = raj_not_250_dip_tt
		}
		if = { limit = { diplomatic_reputation = 4 }
			custom_tooltip = raj_has_4_diprep_tt
		}
		else = {
			custom_tooltip = raj_not_has_4_diprep_tt
		}
		if = { limit = { check_variable = { which = vizierDipRepDiff value = 2 } }
			custom_tooltip = raj_more_diprep_than_raja_tt
		}
		else = {
			custom_tooltip = raj_not_more_diprep_than_raja_tt
		}
		if = { limit = { NOT = { has_country_flag = raj_outmaneuvered_raja } }
			custom_tooltip = raj_vizier_action_not_used_before_tt
		}
		else = {
			custom_tooltip = raj_vizier_action_used_before_tt
		}
		hidden_effect = { country_event = { id = rahenraj.3006 } }
	}
	
	#Discredit the Raja
	option = {
		name = rahenraj.3005.g
		trigger = {
			treasury = 500
			overlord = { has_spy_network_from = { who = ROOT value = 60 } }
			NOT = { has_country_flag = raj_discredited_raja }
		}
		raj_vizier_sway_change = { amount = 5 }
		overlord = {
			country_event = { id = rahenraj.2110 }
			add_opinion = { who = ROOT modifier = raj_discredited_by_vizier_opinion }
			add_spy_network_from = { who = ROOT value = -60 }
		}
		raj_cohesion_change_absolute = { amount = -5 }
		add_treasury = -500
		set_country_flag = raj_discredited_raja
		custom_tooltip = raj_option_available_tt
		custom_tooltip = raj_has_1_year_of_income_tt
		custom_tooltip = raj_has_60_spy_network_on_raja_tt
		custom_tooltip = raj_vizier_action_not_used_before_tt
		hidden_effect = { country_event = { id = rahenraj.3000 } }
	}
	#Discredit the Raja (unavailable)
	option = {
		name = rahenraj.3005.h
		trigger = {
			OR = {
				NOT = { treasury = 500 }
				NOT = { overlord = { has_spy_network_from = { who = ROOT value = 60 } } }
				has_country_flag = raj_discredited_raja
			}
		}
		custom_tooltip = raj_option_unavailable_tt
		if = { limit = { treasury = 500 }
			custom_tooltip = raj_has_1_year_of_income_tt
		}
		else = {
			custom_tooltip = raj_not_1_year_of_income_tt
		}
		if = { limit = { overlord = { has_spy_network_from = { who = ROOT value = 60 } } }
			custom_tooltip = raj_has_60_spy_network_on_raja_tt
		}
		else = {
			custom_tooltip = raj_not_60_spy_network_on_raja_tt
		}
		if = { limit = { NOT = { has_country_flag = raj_discredited_raja } }
			custom_tooltip = raj_vizier_action_not_used_before_tt
		}
		else = {
			custom_tooltip = raj_vizier_action_used_before_tt
		}
		hidden_effect = { country_event = { id = rahenraj.3006 } }
	}
	
	#Become the Raja confident
	option = {
		name = rahenraj.3005.i
		trigger = {
			reverse_has_opinion = { who = event_target:raja_target value = 150 }
			prestige = event_target:raja_target
			marriage_with = event_target:raja_target
			NOT = { has_country_flag = raj_became_raja_confident }
		}
		custom_tooltip = raj_confident_event_chain_start_tt
		hidden_effect = { country_event = { id = rahenraj.2104 } }
		set_country_flag = raj_became_raja_confident
		custom_tooltip = raj_option_available_tt
		custom_tooltip = raj_has_150_relations_with_raja_tt
		custom_tooltip = raj_has_more_prestige_than_raja_tt
		custom_tooltip = raj_has_marriage_with_raja_tt
		custom_tooltip = raj_vizier_action_not_used_before_tt
		hidden_effect = { country_event = { id = rahenraj.3000 } }
	}
	#Become the Raja confident (unavailable)
	option = {
		name = rahenraj.3005.j
		trigger = {
			OR = {
				NOT = { reverse_has_opinion = { who = event_target:raja_target value = 150 } }
				NOT = { prestige = event_target:raja_target }
				NOT = { marriage_with = event_target:raja_target }
				has_country_flag = raj_became_raja_confident
			}
		}
		custom_tooltip = raj_option_unavailable_tt
		if = { limit = { reverse_has_opinion = { who = event_target:raja_target value = 150 } }
			custom_tooltip = raj_has_150_relations_with_raja_tt
		}
		else = {
			custom_tooltip = raj_not_150_relations_with_raja_tt
		}
		if = { limit = { prestige = event_target:raja_target }
			custom_tooltip = raj_has_more_prestige_than_raja_tt
		}
		else = {
			custom_tooltip = raj_not_more_prestige_than_raja_tt
		}
		if = { limit = { marriage_with = event_target:raja_target }
			custom_tooltip = raj_has_marriage_with_raja_tt
		}
		else = {
			custom_tooltip = raj_not_marriage_with_raja_tt
		}
		if = { limit = { NOT = { has_country_flag = raj_became_raja_confident } }
			custom_tooltip = raj_vizier_action_not_used_before_tt
		}
		else = {
			custom_tooltip = raj_vizier_action_used_before_tt
		}
		hidden_effect = { country_event = { id = rahenraj.3006 } }
	}
	
	#Close
	option = {
		name = rahenraj.1002.z
		hidden_effect = { country_event = { id = rahenraj.3000 } }
	}
}

country_event = {
	id = rahenraj.3006
	title = rahenraj.3006.t
	desc = rahenraj.3006.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = rahenraj.3001.a
		country_event = { id = rahenraj.3005 }
	}
}

country_event = {
	id = rahenraj.3007
	title = rahenraj.3007.t
	desc = rahenraj.3007.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = rahenraj.3001.a
		country_event = { id = rahenraj.1002 }
	}
}

country_event = {
	id = rahenraj.3008
	title = rahenraj.3008.t
	desc = rahenraj.3008.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	hidden = yes
	
	option = {
		name = rahenraj.3001.a
		country_event = { id = rahenraj.3002 }
	}
}

#Info event - get introspection privilege
country_event = {
	id = rahenraj.3010
	title = rahenraj.3010.t
	desc = rahenraj.3010.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = rahenraj.3010.a
		custom_tooltip = raj_vassals_get_introspection_privilege_tt
	}
}
#Info event - get increased controls privilege
country_event = {
	id = rahenraj.3011
	title = rahenraj.3011.t
	desc = rahenraj.3011.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = rahenraj.3011.a
		custom_tooltip = raj_vassals_get_increased_controls_privilege_tt
	}
}
#Info event - get aggressive policy privilege
country_event = {
	id = rahenraj.3012
	title = rahenraj.3012.t
	desc = rahenraj.3012.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = rahenraj.3012.a
		custom_tooltip = raj_vassals_get_aggressive_policies_privilege_tt
	}
}
#Heir tutoring results
country_event = {
	id = rahenraj.3013
	title = rahenraj.3013.t
	desc = rahenraj.3013.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_heir_flag = raj_ministries_tutoring
	}
	
	option = {
		name = rahenraj.3013.a
		if = { limit = { NOT = { has_heir_flag = raj_tutored_adm } }
			random_list = {
				1 = {
					modifier = { factor = 2 has_heir_flag = raj_tutored_dip }
					modifier = { factor = 2 has_heir_flag = raj_tutored_mil }
					change_heir_adm = 1
					set_heir_flag = raj_tutored_adm
				}
				2 = { }
			}
		}
		if = { limit = { NOT = { has_heir_flag = raj_tutored_dip } }
			random_list = {
				1 = {
					modifier = { factor = 2 has_heir_flag = raj_tutored_adm }
					modifier = { factor = 2 has_heir_flag = raj_tutored_mil }
					change_heir_dip = 1
					set_heir_flag = raj_tutored_dip
				}
				2 = { }
			}
		}
		if = { limit = { NOT = { has_heir_flag = raj_tutored_mil } }
			random_list = {
				1 = {
					modifier = { factor = 2 has_heir_flag = raj_tutored_dip }
					modifier = { factor = 2 has_heir_flag = raj_tutored_adm }
					change_heir_mil = 1
					set_heir_flag = raj_tutored_mil
				}
				2 = { }
			}
		}
		hidden_effect = {
			remove_country_modifier = raj_tutoring_heir
			clr_heir_flag = raj_ministries_tutoring
		}
	}
}
#Info event - get crack down on decadence privilege
country_event = {
	id = rahenraj.3014
	title = rahenraj.3014.t
	desc = rahenraj.3014.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = rahenraj.3014.a
		custom_tooltip = raj_cracking_on_decadence_tt
	}
}
#Info event - vizier get regulated
country_event = {
	id = rahenraj.3015
	title = rahenraj.3015.t
	desc = rahenraj.3015.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = rahenraj.3015.a
		tooltip = { change_variable = { which = vizierSway value = -10 } }
	}
}

#Debug
country_event = {
	id = rahenraj.4000
	title = rahenraj.4000.t
	desc = rahenraj.4000.d
	picture = EMPTY_eventPicture
	
	is_triggered_only = yes
	
	option = {
		name = rahenraj.4000.z
	}
}

