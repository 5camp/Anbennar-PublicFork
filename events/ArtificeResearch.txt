namespace = artifice_research

#Are you sure event
country_event = {
	id = artifice_research.1
	title = artifice_research.1.t
	desc = artifice_research.1.d
	picture = NOBLE_ESTATE_DEMANDS_eventPicture

	#Gimme that research
	option = {
		name = artifice_research.1.a
		#fires the inventions random list, pay here
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = artifice_research_slow
				}
				country_event = {
					id = artifice_research.2
				}
			}
			else = {
				hidden_effect = {
					capital_scope = {
						add_province_triggered_modifier = artifice_research_ptm
					}
				}
			}
		}
		hidden_effect = {
			if = {
				limit = { is_month = 9 }
				set_country_flag = artifice_research_in_progress_4
			}
			else_if = {
				limit = { is_month = 6 }
				set_country_flag = artifice_research_in_progress_3
			}
			else_if = {
				limit = { is_month = 3 }
				set_country_flag = artifice_research_in_progress_2
			}
			else = {
				set_country_flag = artifice_research_in_progress_1
			}
			clr_country_flag = artifice_research_open

			#sets the correct research speed
			research_speed = yes
		}
	}

	#No research, I'm lame
	option = {
		name = artifice_research.1.b
		hidden_effect = {
			clr_country_flag = artifice_research_open
		}
	}
}

#Pick invention type goes here - Slow Research
country_event = {
	id = artifice_research.2
	title = artifice_research.2.t
	desc = artifice_research.2.d
	picture = NOBLE_ESTATE_DEMANDS_eventPicture

	immediate = {
		
	}

	#Industry
	option = {
		name = artifice_research.2.a

		hidden_effect = {
			set_country_flag = artifice_researching_industry
			capital_scope = {
				add_province_triggered_modifier = artifice_research_ptm
			}
		}
	}
	#Military
	option = {
		name = artifice_research.2.b

		hidden_effect = {
			set_country_flag = artifice_researching_military
			capital_scope = {
				add_province_triggered_modifier = artifice_research_ptm
			}
		}
	}
	#Society
	option = {
		name = artifice_research.2.c

		hidden_effect = {
			set_country_flag = artifice_researching_society
			capital_scope = {
				add_province_triggered_modifier = artifice_research_ptm
			}
		}
	}
}

#Randomized Invention event is here
country_event = {
	id = artifice_research.3
	title = artifice_research.3.t
	desc = artifice_research.3.d
	picture = NOBLE_ESTATE_DEMANDS_eventPicture

	immediate = {
		
	}

	after = {
		clr_country_flag = artifice_researching_industry
		clr_country_flag = artifice_researching_military
		clr_country_flag = artifice_researching_society
	}
}

country_event = {
	id = artifice_research.4
	title = artifice_research.4.t
	desc = artifice_research.4.d
	picture = NOBLE_ESTATE_DEMANDS_eventPicture

	is_triggered_only = yes
	hidden = yes

	immediate = {
		if = {
			limit = { }
		}
		
	}

	option = {
		name = artifice_research.4.a
	}
}