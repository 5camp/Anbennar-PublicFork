namespace = artifice_research

#Are you sure event
country_event = {
	id = artifice_research.1
	title = artifice_research.1.t
	desc = artifice_research.1.d
	picture = NOBLE_ESTATE_DEMANDS_eventPicture

	is_triggered_only = yes

	#Gimme that research
	option = {
		name = artifice_research.1.a
		#fires the inventions random list, pay here
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = artifice_research_slow
				}
				country_event = {
					id = artifice_research.2
				}
			}
			else = {
				capital_scope = {
					add_province_triggered_modifier = artifice_research_ptm
				}
			}
		}
		hidden_effect = {
			if = {
				limit = { is_month = 9 }
				set_country_flag = artifice_research_in_progress_4
			}
			else_if = {
				limit = { is_month = 6 }
				set_country_flag = artifice_research_in_progress_3
			}
			else_if = {
				limit = { is_month = 3 }
				set_country_flag = artifice_research_in_progress_2
			}
			else = {
				set_country_flag = artifice_research_in_progress_1
			}
			clr_country_flag = artifice_research_open

			#sets the correct research speed
			research_speed = yes
		}
	}

	#No research, I'm lame
	option = {
		name = artifice_research.1.b
		hidden_effect = {
			clr_country_flag = artifice_research_open
		}
	}
}

#Pick invention type goes here - Slow Research
country_event = {
	id = artifice_research.2
	title = artifice_research.2.t
	desc = artifice_research.2.d
	picture = NOBLE_ESTATE_DEMANDS_eventPicture

	is_triggered_only = yes

	immediate = {
		
	}

	#Industry
	option = {
		name = artifice_research.2.a

		hidden_effect = {
			set_country_flag = artifice_researching_industry
			capital_scope = {
				add_province_triggered_modifier = artifice_research_ptm
			}
		}
	}
	#Military
	option = {
		name = artifice_research.2.b

		hidden_effect = {
			set_country_flag = artifice_researching_military
			capital_scope = {
				add_province_triggered_modifier = artifice_research_ptm
			}
		}
	}
	#Society
	option = {
		name = artifice_research.2.c

		hidden_effect = {
			set_country_flag = artifice_researching_society
			capital_scope = {
				add_province_triggered_modifier = artifice_research_ptm
			}
		}
	}
}

#Randomized Invention event is here
country_event = {
	id = artifice_research.3
	title = artifice_research.3.t
	desc = artifice_research.3.d
	picture = NOBLE_ESTATE_DEMANDS_eventPicture

	is_triggered_only = yes

	immediate = {
		
	}

	#Tier 1
	#Industry
	#Artifice Exo Arms
	option = {
		name = artifice_research.3.i11
		trigger = {
			has_country_flag = research_artifice_invention_artificer_exo_arms
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_artificer_exo_arms
		}
	}
	#Spell-in-a-Box
	option = {
		name = artifice_research.3.i12
		trigger = {
			has_country_flag = research_artifice_invention_spell_in_a_box
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_spell_in_a_box
		}
	}
	#Commercial Sky Galleons
	option = {
		name = artifice_research.3.i13
		trigger = {
			has_country_flag = research_artifice_invention_commercial_sky_galleons
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_commercial_sky_galleons
		}
	}
	#Fine Print Obfuscator
	option = {
		name = artifice_research.3.i14
		trigger = {
			has_country_flag = research_artifice_invention_fine_print_obfuscator
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_fine_print_obfuscator
		}
	}
	#Automated Translator
	option = {
		name = artifice_research.3.i15
		trigger = {
			has_country_flag = research_artifice_invention_automated_translator
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_automated_translator
		}
	}
	#Wine Ageifier
	option = {
		name = artifice_research.3.i16
		trigger = {
			has_country_flag = research_artifice_invention_wine_ageifier
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_wine_ageifier
		}
	}

	#Military Options
	#Portable Turrets
	option = {
		name = artifice_research.3.m11
		trigger = {
			has_country_flag = research_artifice_invention_portable_turrets
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_portable_turrets
		}
	}
	#Sparkdrive Rifle
	option = {
		name = artifice_research.3.m12
		trigger = {
			has_country_flag = research_artifice_invention_sparkdrive_rifles
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_sparkdrive_rifles
		}
	}
	#Vorpal Bullets
	option = {
		name = artifice_research.3.m13
		trigger = {
			has_country_flag = research_artifice_invention_vorpal_bullets
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_vorpal_bullets
		}
	}
	#Magic Missle Deployer
	option = {
		name = artifice_research.3.m14
		trigger = {
			has_country_flag = research_artifice_invention_magic_missile_deployer
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_magic_missile_deployer
		}
	}
	#Box Of Holding
	option = {
		name = artifice_research.3.m15
		trigger = {
			has_country_flag = research_artifice_invention_box_of_holding
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_box_of_holding
		}
	}
	#Ancestral Guardian Golems
	option = {
		name = artifice_research.3.m16
		trigger = {
			has_country_flag = research_artifice_invention_ancestral_guardian_golems
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_ancestral_guardian_golems
		}
	}
	#Antimagic Field Generator
	option = {
		name = artifice_research.3.m17
		trigger = {
			has_country_flag = research_artifice_invention_antimagic_field_generator
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_antimagic_field_generator
		}
	}
	#Believable Ruin Bomb
	option = {
		name = artifice_research.3.m18
		trigger = {
			has_country_flag = research_artifice_invention_believable_ruin_2_bomb
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_believable_ruin_2_bomb
		}
	}
	#Vernman Hero Tonic
	option = {
		name = artifice_research.3.m19
		trigger = {
			has_country_flag = research_artifice_invention_vernman_hero_tonic
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_vernman_hero_tonic
		}
	}
	#Dragonscale Plating
	option = {
		name = artifice_research.3.m110
		trigger = {
			has_country_flag = research_artifice_invention_dragonscale_plating
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_dragonscale_plating
		}
	}
	#Predator Exoskeleton
	option = {
		name = artifice_research.3.m111
		trigger = {
			has_country_flag = research_artifice_invention_predator_exoskeleton
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_predator_exoskeleton
		}
	}
	#Scrap Mechs
	option = {
		name = artifice_research.3.m112
		trigger = {
			has_country_flag = research_artifice_invention_scrap_mechs
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_scrap_mechs
		}
	}
	#War Rigs
	option = {
		name = artifice_research.3.m113
		trigger = {
			has_country_flag = research_artifice_invention_war_rigs
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_war_rigs
		}
	}
	#Sunbeam Armaments
	option = {
		name = artifice_research.3.m114
		trigger = {
			has_country_flag = research_artifice_invention_sunbeam_armaments
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_sunbeam_armaments
		}
	}
	#Power Fists
	option = {
		name = artifice_research.3.m115
		trigger = {
			has_country_flag = research_artifice_invention_power_fists
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_power_fists
		}
	}

	#Society Options
	#Viewcatcher
	option = {
		name = artifice_research.3.s11
		trigger = {
			has_country_flag = research_artifice_invention_viewcatcher
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_viewcatcher
		}
	}
	#Sending Stories
	option = {
		name = artifice_research.3.s12
		trigger = {
			has_country_flag = research_artifice_invention_sending_stones
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_sending_stones
		}
	}
	#Centipendal Chests
	option = {
		name = artifice_research.3.s13
		trigger = {
			has_country_flag = research_artifice_invention_centipedal_chests
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_centipedal_chests
		}
	}
	#Living Mirrors
	option = {
		name = artifice_research.3.s14
		trigger = {
			has_country_flag = research_artifice_invention_living_mirrors
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_living_mirrors
		}
	}
	#Apparitional Communicator
	option = {
		name = artifice_research.3.s15
		trigger = {
			has_country_flag = research_artifice_invention_apparitional_communicator
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_apparitional_communicator
		}
	}
	#Mystic Ciphers
	option = {
		name = artifice_research.3.s16
		trigger = {
			has_country_flag = research_artifice_invention_mystic_ciphers
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_mystic_ciphers
		}
	}
	#Fey Spray
	option = {
		name = artifice_research.3.s17
		trigger = {
			has_country_flag = research_artifice_invention_fey_spray
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_fey_spray
		}
	}
	#Scrapperclaws
	option = {
		name = artifice_research.3.s18
		trigger = {
			has_country_flag = research_artifice_invention_scrapperclaws
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_scrapperclaws
		}
	}
	#Great Processor
	option = {
		name = artifice_research.3.s19
		trigger = {
			has_country_flag = research_artifice_invention_great_processor
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_great_processor
		}
	}
	#Conversation Calibrator
	option = {
		name = artifice_research.3.s110
		trigger = {
			has_country_flag = research_artifice_invention_conversation_calibrator
		}
		hidden_effect = {
			set_country_flag = researching_artifice_invention_conversation_calibrator
		}
	}

	option = {
		name = artifice_research.3.x
	}

	#Tier 2
	#Industry Options
	#Military Options
	#Society Options
	#Tier 3
	#Industry Options
	#Military Options
	#Society Options

	after = {
		clr_country_flag = artifice_researching_industry
		clr_country_flag = artifice_researching_military
		clr_country_flag = artifice_researching_society

		#Tier 1 Industry
		clr_country_flag = research_artifice_invention_artificer_exo_arms
		clr_country_flag = research_artifice_invention_spell_in_a_box
		clr_country_flag = research_artifice_invention_commercial_sky_galleons
		clr_country_flag = research_artifice_invention_fine_print_obfuscator
		clr_country_flag = research_artifice_invention_automated_translator
		clr_country_flag = research_artifice_invention_wine_ageifier

		#Tier 1 Military
		clr_country_flag = research_artifice_invention_portable_turrets
		clr_country_flag = research_artifice_invention_sparkdrive_rifles
		clr_country_flag = research_artifice_invention_vorpal_bullets
		clr_country_flag = research_artifice_invention_magic_missile_deployer
		clr_country_flag = research_artifice_invention_box_of_holding
		clr_country_flag = research_artifice_invention_ancestral_guardian_golems
		clr_country_flag = research_artifice_invention_antimagic_field_generator
		clr_country_flag = research_artifice_invention_believable_ruin_2_bomb
		clr_country_flag = research_artifice_invention_vernman_hero_tonic
		clr_country_flag = research_artifice_invention_dragonscale_plating
		clr_country_flag = research_artifice_invention_predator_exoskeleton
		clr_country_flag = research_artifice_invention_scrap_mechs
		clr_country_flag = research_artifice_invention_sunbeam_armaments
		clr_country_flag = research_artifice_invention_power_fists

		#Tier 1 Society
		clr_country_flag = research_artifice_invention_viewcatcher
		clr_country_flag = research_artifice_invention_sending_stones
		clr_country_flag = research_artifice_invention_centipedal_chests
		clr_country_flag = research_artifice_invention_living_mirrors
		clr_country_flag = research_artifice_invention_apparitional_communicator
		clr_country_flag = research_artifice_invention_mystic_ciphers
		clr_country_flag = research_artifice_invention_fey_spray
		clr_country_flag = research_artifice_invention_scrapperclaws
		clr_country_flag = research_artifice_invention_great_processor
		clr_country_flag = research_artifice_invention_conversation_calibrator
	}
}

country_event = {
	id = artifice_research.4
	title = artifice_research.4.t
	desc = artifice_research.4.d
	picture = NOBLE_ESTATE_DEMANDS_eventPicture

	is_triggered_only = yes
	hidden = yes

	immediate = {

		#Tier 1 Industry
		if = {
			limit = { has_country_flag = researching_artifice_invention_artificer_exo_arms }
			set_country_flag = unlocked_artifice_invention_artificer_exo_arms
			clr_country_flag = researching_artifice_invention_artificer_exo_arms
			country_event = {
				id = artifice_inventions.201
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_spell_in_a_box }
			set_country_flag = unlocked_artifice_invention_spell_in_a_box
			clr_country_flag = researching_artifice_invention_spell_in_a_box
			country_event = {
				id = artifice_inventions.501
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_commercial_sky_galleons }
			set_country_flag = unlocked_artifice_invention_commercial_sky_galleons
			clr_country_flag = researching_artifice_invention_commercial_sky_galleons
			country_event = {
				id = artifice_inventions.808
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_fine_print_obfuscator }
			set_country_flag = unlocked_artifice_invention_fine_print_obfuscator
			clr_country_flag = researching_artifice_invention_fine_print_obfuscator
			country_event = {
				id = artifice_inventions.802
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_automated_translator }
			set_country_flag = unlocked_artifice_invention_automated_translator
			clr_country_flag = researching_artifice_invention_automated_translator
			country_event = {
				id = artifice_inventions.205
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_wine_ageifier }
			set_country_flag = unlocked_artifice_invention_wine_ageifier
			clr_country_flag = researching_artifice_invention_wine_ageifier
			country_event = {
				id = artifice_inventions.806
			}
		}
		#Tier 1 Military
		if = {
			limit = { has_country_flag = researching_artifice_invention_portable_turrets }
			set_country_flag = unlocked_artifice_invention_portable_turrets
			clr_country_flag = researching_artifice_invention_portable_turrets
			country_event = {
				id = artifice_inventions.909
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_sparkdrive_rifles }
			set_country_flag = unlocked_artifice_invention_sparkdrive_rifles
			clr_country_flag = researching_artifice_invention_sparkdrive_rifles
			country_event = {
				id = artifice_inventions.301
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_vorpal_bullets }
			set_country_flag = unlocked_artifice_invention_vorpal_bullets
			clr_country_flag = researching_artifice_invention_vorpal_bullets
			country_event = {
				id = artifice_inventions.600
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_magic_missile_deployer }
			set_country_flag = unlocked_artifice_invention_magic_missile_deployer
			clr_country_flag = researching_artifice_invention_magic_missile_deployer
			country_event = {
				id = artifice_inventions.611
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_box_of_holding }
			set_country_flag = unlocked_artifice_invention_box_of_holding
			clr_country_flag = researching_artifice_invention_box_of_holding
			country_event = {
				id = artifice_inventions.609
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_ancestral_guardian_golems }
			set_country_flag = unlocked_artifice_invention_ancestral_guardian_golems
			clr_country_flag = researching_artifice_invention_ancestral_guardian_golems
			country_event = {
				id = artifice_inventions.304
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_believable_ruin_2_bomb }
			set_country_flag = unlocked_artifice_invention_believable_ruin_2_bomb
			clr_country_flag = researching_artifice_invention_believable_ruin_2_bomb
			country_event = {
				id = artifice_inventions.303
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_vernman_hero_tonic }
			set_country_flag = unlocked_artifice_invention_vernman_hero_tonic
			clr_country_flag = researching_artifice_invention_vernman_hero_tonic
			country_event = {
				id = artifice_inventions.607
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_dragonscale_plating }
			set_country_flag = unlocked_artifice_invention_dragonscale_plating
			clr_country_flag = researching_artifice_invention_dragonscale_plating
			country_event = {
				id = artifice_inventions.310
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_predator_exoskeleton }
			set_country_flag = unlocked_artifice_invention_predator_exoskeleton
			clr_country_flag = researching_artifice_invention_predator_exoskeleton
			country_event = {
				id = artifice_inventions.905
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_scrap_mechs }
			set_country_flag = unlocked_artifice_invention_scrap_mechs
			clr_country_flag = researching_artifice_invention_scrap_mechs
			country_event = {
				id = artifice_inventions.906
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_war_rigs }
			set_country_flag = unlocked_artifice_invention_war_rigs
			clr_country_flag = researching_artifice_invention_war_rigs
			country_event = {
				id = artifice_inventions.907
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_sunbeam_armaments }
			set_country_flag = unlocked_artifice_invention_sunbeam_armaments
			clr_country_flag = researching_artifice_invention_sunbeam_armaments
			country_event = {
				id = artifice_inventions.315
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_power_fists }
			set_country_flag = unlocked_artifice_invention_power_fists
			clr_country_flag = researching_artifice_invention_power_fists
			country_event = {
				id = artifice_inventions.314
			}
		}
		#Tier 1 Society
		if = {
			limit = { has_country_flag = researching_artifice_invention_viewcatcher }
			set_country_flag = unlocked_artifice_invention_viewcatcher
			clr_country_flag = researching_artifice_invention_viewcatcher
			country_event = {
				id = artifice_inventions.103
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_sending_stones }
			set_country_flag = unlocked_artifice_invention_sending_stones
			clr_country_flag = researching_artifice_invention_sending_stones
			country_event = {
				id = artifice_inventions.400
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_centipedal_chests }
			set_country_flag = unlocked_artifice_invention_centipedal_chests
			clr_country_flag = researching_artifice_invention_centipedal_chests
			country_event = {
				id = artifice_inventions.105
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_living_mirrors }
			set_country_flag = unlocked_artifice_invention_living_mirrors
			clr_country_flag = researching_artifice_invention_living_mirrors
			country_event = {
				id = artifice_inventions.402
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_apparitional_communicator }
			set_country_flag = unlocked_artifice_invention_apparitional_communicator
			clr_country_flag = researching_artifice_invention_apparitional_communicator
			country_event = {
				id = artifice_inventions.101
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_mystic_ciphers }
			set_country_flag = unlocked_artifice_invention_mystic_ciphers
			clr_country_flag = researching_artifice_invention_mystic_ciphers
			country_event = {
				id = artifice_inventions.102
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_fey_spray }
			set_country_flag = unlocked_artifice_invention_fey_spray
			clr_country_flag = researching_artifice_invention_fey_spray
			country_event = {
				id = artifice_inventions.403
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_scrapperclaws }
			set_country_flag = unlocked_artifice_invention_scrapperclaws
			clr_country_flag = researching_artifice_invention_scrapperclaws
			country_event = {
				id = artifice_inventions.704
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_great_processor }
			set_country_flag = unlocked_artifice_invention_great_processor
			clr_country_flag = researching_artifice_invention_great_processor
			country_event = {
				id = artifice_inventions.206
			}
		}
		if = {
			limit = { has_country_flag = researching_artifice_invention_conversation_calibrator }
			set_country_flag = unlocked_artifice_invention_conversation_calibrator
			clr_country_flag = researching_artifice_invention_conversation_calibrator
			country_event = {
				id = artifice_inventions.104
			}
		}
		#Tier 2 Industry
		#Tier 2 Military
		#Tier 2 Society
		#Tier 3 Industry
		#Tier 3 Military
		#Tier 3 Society
	}

	option = {
		name = artifice_research.4.a
	}
}