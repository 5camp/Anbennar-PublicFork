
namespace = flavor_vels_bacar

country_event = { #Trompolere attacks!
	id = flavor_vels_bacar.0
	title = flavor_vels_bacar.0.t
	desc = flavor_vels_bacar.0.d
	picture = SIEGE_eventPicture
	
	fire_only_once = yes
	is_triggered_only = yes
	
	trigger = {
		tag = G84
	}
	
	option = {
		name = flavor_vels_bacar.0.a  #To war!
		ai_chance = {
			factor = 10
		}
	}
}

country_event = { #Startup event
	id = flavor_vels_bacar.1
	title = flavor_vels_bacar.1.t
	desc = flavor_vels_bacar.1.d

	fire_only_once = yes
	is_triggered_only = yes

	trigger = {
		tag = G84
	}

	option = {
		name = flavor_vels_bacar.1.a
		add_country_modifier = {
			name = G84_those_who_ran
			duration = -1
		}
	}
}

country_event = { #The New Bacarans
	id = flavor_vels_bacar.2
	title = flavor_vels_bacar.2.t
	desc = flavor_vels_bacar.2.d


	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.2.a
		remove_country_modifier = G84_those_who_ran
		add_manpower = 5
		add_stability = 1
	}
}

country_event = { #Trompolere ousts Alaran yen Cestor
	id = flavor_vels_bacar.3
	title = flavor_vels_bacar.3.t
	desc = flavor_vels_bacar.3.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.3.a
		add_claim = 2816
		add_claim = 1137
	}
}

country_event = { #Proclamation
	id = flavor_vels_bacar.4
	title = flavor_vels_bacar.4.t
	desc = flavor_vels_bacar.4.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.4.a
		add_country_modifier = {
			name = G84_proclamation_ae
			duration = 3650
		}
		add_country_modifier = {
			name = G84_proclamation_ld
			duration = 7300
		}
	}
}

country_event = { #A friend's embrace
	id = flavor_vels_bacar.5
	title = flavor_vels_bacar.5.t
	desc = flavor_vels_bacar.5.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.5.a
		if = {
			limit = { H25 = { exists = no } }
			1135 = { cede_province = H25 }
			1877 = { cede_province = H25 }
			2860 = { cede_province = H25 }
			create_iosahar = { tag = H25 }
		}
		add_treasury = 50
		add_dip_power = 50
		add_historical_friend = H25
		H25 = { add_historical_friend = G84 }
	}
}

country_event = {
	id = flavor_vels_bacar.6
	title = flavor_vels_bacar.6.t
	desc = flavor_vels_bacar.6.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.6.a
		set_country_flag = G84_panykorun
		add_authority = 35
		define_advisor = {
			type = statesman
			cost_multiplier = 0.75
		}
		add_government_reform = G84_the_panykorun
	}
}

country_event = {
	id = flavor_vels_bacar.7
	title = flavor_vels_bacar.7.t
	desc = flavor_vels_bacar.7.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.7.a
		add_treasury = -100
		add_authority = 5
		
		hidden_effect = {
			country_event = {
				id = flavor_vels_bacar.8
				days = 365
				random = 100
			}
		}
	}
	option = {
		name = flavor_vels_bacar.7.b
		add_prestige = -20
		G39 = {
			add_liberty_desire = 15
		}
		hidden_effect = {
			country_event = {
				id = flavor_vels_bacar.8
				days = 365
				random = 100
			}
		}
	}
}

country_event = {
	id = flavor_vels_bacar.8
	title = flavor_vels_bacar.8.t
	desc = flavor_vels_bacar.8.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.8.a
		add_country_modifier = {
			name = G84_famed_engineer
			duration = 3650
		}
		hidden_effect = {
			country_event = {
				id = flavor_vels_bacar.9
				days = 90
				random = 30 
			}
		}
	}
	option = {
		name = flavor_vels_bacar.8.b
		add_treasury = 50
		add_prestige = -10
		hidden_effect = {
			country_event = {
				id = flavor_vels_bacar.11
				days = 365
				random = 50
			}
		}
	}
	option = {
		name = flavor_vels_bacar.8.c
		highlight = yes
		trigger = {
			ruler_has_personality = well_connected_personality
			ruler_has_personality = well_advised_personality
			ruler_has_personality = architectural_visionary_personality
			advisor = spymaster
		}
		hidden_effect = {
			country_event = {
				id = flavor_vels_bacar.10
				days = 10
			}
		}
	}
}

country_event = {
	id = flavor_vels_bacar.9
	title = flavor_vels_bacar.9.t
	desc = flavor_vels_bacar.9.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.9.a
		1138 = { add_devastation = 30 }
		remove_country_modifier = G84_famed_engineer
		hidden_effect = {
			country_event = {
				id = flavor_vels_bacar.11
				days = 100
				random = 30
			}
		}
	}
}

country_event = {
	id = flavor_vels_bacar.10
	title = flavor_vels_bacar.10.t
	desc = flavor_vels_bacar.10.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.10.a
		add_treasury = 100
		hidden_effect = {
			country_event = {
				id = flavor_vels_bacar.11
				days = 100
				random = 30
			}
		}
	}
}

country_event = {
	id = flavor_vels_bacar.11
	title = flavor_vels_bacar.11.t
	desc = flavor_vels_bacar.11.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.11.a
		add_treasury = -300
		add_country_modifier = {
			name = G84_welcomed_masters
			duration = 10950
		}
		set_country_flag = G84_welcomed_masters_flag
	}
}

country_event = {
	id = flavor_vels_bacar.12
	title = flavor_vels_bacar.12.t
	desc = flavor_vels_bacar.12.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.12.a
		add_treasury = -350
		add_legitimacy = 20
		1170 = { add_building = cathedral }
		if = {
			limit = { has_dlc = "Mandate of Heaven" }
			add_splendor = 200
		}
		else = { add_prestige = 20 }
		1170 = { 
			add_permanent_province_modifier = {
				name = G84_blue_palace
				duration = -1
			}
		}
	}
}

country_event = {
	id = flavor_vels_bacar.13
	title = flavor_vels_bacar.13.t
	desc = flavor_vels_bacar.13.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.13.a
		if = {
			limit = { 
				1138 = { 
					NOT = {
						has_great_project = {
							type = ynnic_dam_vels_bacar
							tier = 2
						} 
					}
				} 
			}
			add_treasury = -1000
			1138 = {
				add_great_project_tier = {
					type = ynnic_dam_vels_bacar
					tier = 2
				}
			}
		}
		if = {
			limit = { has_dlc = "Mandate of Heaven" }
			add_splendor = 200
		}
		else = {
			add_prestige = 25
		}
		add_country_modifier = {
			name = G84_prestigious_plans
			duration = 9125
		}
	}
}

country_event = {
	id = flavor_vels_bacar.14
	title = flavor_vels_bacar.14.t
	desc = flavor_vels_bacar.14.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.14.a
		add_claim = 1137
		declare_war_with_cb = {
			casus_belli = cb_conquest
			who = U32
		}
	}
}

country_event = {
	id = flavor_vels_bacar.15
	title = flavor_vels_bacar.15.t
	desc = flavor_vels_bacar.15.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.15.a
		G34 = {
			kill_ruler = yes
			add_historical_friend = G84
			define_ruler = {
				name = "Avardyl"
				dynasty = "Uma-Zomaj"
				adm = 2
				dip = 4
				mil = 5
				claim = 50
			}
		}
		1820 = { 
			spawn_rebels = {
				size = 3
				type = pretender_rebels
				use_heir_as_leader = yes
				should_take_capital = yes
			}
		}
	}
	option = {
		name = flavor_vels_bacar.15.b
		define_advisor = {
			type = commandant
			skill = 3
			discount = yes
			name = "Avardyl Uma-Zomaj"
		}
	}
}

country_event = {
	id = flavor_vels_bacar.16
	title = flavor_vels_bacar.16.t
	desc = flavor_vels_bacar.16.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.16.a
		G84_krahnorian_envoys = {
			amount = 4
		}
		if = {
			limit = {
				calc_true_if = {
					amount = 10
					culture_group = ynnsman
					has_opinion = {
						who = ROOT
						value = 125
					}
				}
			}
			add_country_modifier = {
				name = G84_true_masters_of_the_ynn
				duration = -1
			}
		}
	}
}

country_event = {
	id = flavor_vels_bacar.17
	title = flavor_vels_bacar.17.t
	desc = flavor_vels_bacar.17.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.17.a
		add_stability = -1
		add_country_modifier = {
			name = G84_republican_preparations
			duration = -1
		}
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = -20
		}
		set_global_flag = war_of_bacaran_succession_avoided
		set_country_flag = G84_panykorun_privileges_upgraded
	}
}

country_event = {
	id = flavor_vels_bacar.18
	title = flavor_vels_bacar.18.t
	desc = flavor_vels_bacar.18.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.18.a
		set_country_flag = vels_bacar_independent_reunion
	}
}

country_event = {
	id = flavor_vels_bacar.19
	title = flavor_vels_bacar.19.t
	desc = flavor_vels_bacar.19.d

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = flavor_vels_bacar.19.a
		trigger = { has_country_flag = bacaran_succession }

		remove_country_modifier = G84_republican_preparations_two
		change_government = republic
		add_government_reform = G84_bacaran_republic
	}
	option = {
		 name = flavor_vels_bacar.19.b
		 trigger = { NOT = { has_country_flag = bacaran_succession } }

		 remove_country_modifier = G84_republican_preparations_two
		 change_government = republic
		 add_government_reform = G84_bacaran_republic
		 add_government_reform = G84_rule_of_the_panykorun
	}
}