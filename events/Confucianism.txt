########################################
# Confucianism Events
#
# Written by Henrik Lohmander
########################################

namespace = confucian_events

########################################

#	ANBENNAR
#	Adapted for The Thought by RICHARD and Susurrus

########################################



# #Pagan Harmonization
# country_event = {
# 	id = confucian_events.1
# 	title = "confucian_events.1.t"
# 	desc = "confucian_events.1.d"
# 	picture = NEO_CONFUCIANISM_INCIDENT_eventPicture
	
# 	is_triggered_only = yes
	
# 	immediate = {
# 		hidden_effect = {
# 			random_owned_province = {
# 				limit = { religion_group = pagan }
# 				save_event_target_as = pagan_province
# 			}
# 			clr_country_flag = harmonization_shangdi_conflict
# 			clr_country_flag = harmonization_han_kitab
# 			clr_country_flag = harmonization_fate_of_advisor
# 			clr_country_flag = harmonization_empowering_ceremonies
# 		}
# 	}
	
# 	option = {
# 		name = "confucian_events.1.a"
# 		tooltip = {
# 			add_country_modifier = {
# 				name = "harmonized_pagan"
# 				duration = -1
# 			}
# 		}
# 	}
# }

# #Christian Harmonization
# country_event = {
# 	id = confucian_events.2
# 	title = "confucian_events.2.t"
# 	desc = "confucian_events.2.d"
# 	picture = NEO_CONFUCIANISM_INCIDENT_eventPicture
	
# 	is_triggered_only = yes
	
# 	immediate = {
# 		hidden_effect = {
# 			clr_country_flag = harmonization_shangdi_conflict
# 			clr_country_flag = harmonization_han_kitab
# 			clr_country_flag = harmonization_fate_of_advisor
# 			clr_country_flag = harmonization_empowering_ceremonies
# 		}
# 	}
	
# 	option = {
# 		name = "confucian_events.2.a"
# 		tooltip = {
# 			add_country_modifier = {
# 				name = "harmonized_christian"
# 				duration = -1
# 			}
# 		}
# 	}
# }

# #Muslim Harmonization
# country_event = {
# 	id = confucian_events.3
# 	title = "confucian_events.3.t"
# 	desc = "confucian_events.3.d"
# 	picture = NEO_CONFUCIANISM_INCIDENT_eventPicture
	
# 	is_triggered_only = yes
	
# 	immediate = {
# 		hidden_effect = {
# 			random_owned_province = {
# 				limit = {
# 					religion_group = muslim
# 				}
# 				save_event_target_as = islamic_province
# 			}
# 		}
# 		hidden_effect = {
# 			clr_country_flag = harmonization_shangdi_conflict
# 			clr_country_flag = harmonization_han_kitab
# 			clr_country_flag = harmonization_fate_of_advisor
# 			clr_country_flag = harmonization_empowering_ceremonies
# 		}
# 	}
	
# 	option = {
# 		name = "confucian_events.3.a"
# 		tooltip = {
# 			add_country_modifier = {
# 				name = "harmonized_muslim"
# 				duration = -1
# 			}
# 		}
# 	}
# }

# #Dharmic Harmonization
# country_event = {
# 	id = confucian_events.4
# 	title = "confucian_events.4.t"
# 	desc = "confucian_events.4.d"
# 	picture = NEO_CONFUCIANISM_INCIDENT_eventPicture
	
# 	is_triggered_only = yes
	
# 	immediate = {
# 		hidden_effect = {
# 			clr_country_flag = harmonization_shangdi_conflict
# 			clr_country_flag = harmonization_han_kitab
# 			clr_country_flag = harmonization_fate_of_advisor
# 			clr_country_flag = harmonization_empowering_ceremonies
# 		}
# 	}
	
# 	option = {
# 		name = "confucian_events.4.a"
# 		tooltip = {
# 			add_country_modifier = {
# 				name = "harmonized_dharmic"
# 				duration = -1
# 			}
# 		}
# 	}
# }

# #Jewish Harmonization
# country_event = {
# 	id = confucian_events.5
# 	title = "confucian_events.5.t"
# 	desc = "confucian_events.5.d"
# 	picture = NEO_CONFUCIANISM_INCIDENT_eventPicture
	
# 	is_triggered_only = yes

# 	immediate = {
# 		hidden_effect = {
# 			clr_country_flag = harmonization_shangdi_conflict
# 			clr_country_flag = harmonization_han_kitab
# 			clr_country_flag = harmonization_fate_of_advisor
# 			clr_country_flag = harmonization_empowering_ceremonies
# 		}
# 	}
	
# 	option = {
# 		name = "confucian_events.5.a"
# 		tooltip = {
# 			add_country_modifier = {
# 				name = "harmonized_jewish_group"
# 				duration = -1
# 			}
# 		}
# 	}
# }

# #Zoroastrian Harmonization
# country_event = {
# 	id = confucian_events.6
# 	title = "confucian_events.6.t"
# 	desc = "confucian_events.6.d"
# 	picture = NEO_CONFUCIANISM_INCIDENT_eventPicture
	
# 	is_triggered_only = yes
	
# 	immediate = {
# 		hidden_effect = {
# 			clr_country_flag = harmonization_shangdi_conflict
# 			clr_country_flag = harmonization_han_kitab
# 			clr_country_flag = harmonization_fate_of_advisor
# 			clr_country_flag = harmonization_empowering_ceremonies
# 			random_owned_province = {
# 				limit = {
# 					religion = zoroastrian
# 				}
# 				save_event_target_as = zoroastrian_province
# 			}
# 		}
# 	}
	
# 	option = {
# 		name = "confucian_events.6.a"
# 		tooltip = {
# 			add_country_modifier = {
# 				name = "harmonized_zoroastrian_group"
# 				duration = -1
# 			}
# 		}
# 	}
# }

# #Shinto Harmonization
# country_event = {
# 	id = confucian_events.7
# 	title = "confucian_events.7.t"
# 	desc = "confucian_events.7.d"
# 	picture = NEO_CONFUCIANISM_INCIDENT_eventPicture
	
# 	is_triggered_only = yes
	
# 	immediate = {
# 		hidden_effect = {
# 			clr_country_flag = harmonization_shangdi_conflict
# 			clr_country_flag = harmonization_han_kitab
# 			clr_country_flag = harmonization_fate_of_advisor
# 			clr_country_flag = harmonization_empowering_ceremonies
# 		}
# 	}
	
# 	option = {
# 		name = "confucian_events.7.a"
# 		tooltip = {
# 			add_country_modifier = {
# 				name = "harmonized_shinto"
# 				duration = -1
# 			}
# 		}
# 	}
# }

# #Theravada Harmonization
# country_event = {
# 	id = confucian_events.8
# 	title = "confucian_events.8.t"
# 	desc = "confucian_events.8.d"
# 	picture = NEO_CONFUCIANISM_INCIDENT_eventPicture
	
# 	is_triggered_only = yes
	
# 	immediate = {
# 		hidden_effect = {
# 			clr_country_flag = harmonization_shangdi_conflict
# 			clr_country_flag = harmonization_han_kitab
# 			clr_country_flag = harmonization_fate_of_advisor
# 			clr_country_flag = harmonization_empowering_ceremonies
# 		}
# 	}
	
# 	option = {
# 		name = "confucian_events.8.a"
# 		tooltip = {
# 			add_country_modifier = {
# 				name = "harmonized_buddhism"
# 				duration = -1
# 			}
# 		}
# 	}
# }

# #Mahayana Harmonization
# country_event = {
# 	id = confucian_events.9
# 	title = "confucian_events.9.t"
# 	desc = "confucian_events.9.d"
# 	picture = NEO_CONFUCIANISM_INCIDENT_eventPicture
	
# 	is_triggered_only = yes
	
# 	immediate = {
# 		hidden_effect = {
# 			clr_country_flag = harmonization_shangdi_conflict
# 			clr_country_flag = harmonization_han_kitab
# 			clr_country_flag = harmonization_fate_of_advisor
# 			clr_country_flag = harmonization_empowering_ceremonies
# 		}
# 	}
	
# 	option = {
# 		name = "confucian_events.9.a"
# 		tooltip = {
# 			add_country_modifier = {
# 				name = "harmonized_mahayana"
# 				duration = -1
# 			}
# 		}
# 	}
# }

# #Vajrayana Harmonization
# country_event = {
# 	id = confucian_events.10
# 	title = "confucian_events.10.t"
# 	desc = "confucian_events.10.d"
# 	picture = NEO_CONFUCIANISM_INCIDENT_eventPicture
	
# 	is_triggered_only = yes
	
# 	immediate = {
# 		hidden_effect = {
# 			clr_country_flag = harmonization_shangdi_conflict
# 			clr_country_flag = harmonization_han_kitab
# 			clr_country_flag = harmonization_fate_of_advisor
# 			clr_country_flag = harmonization_empowering_ceremonies
# 		}
# 	}
	
# 	option = {
# 		name = "confucian_events.10.a"
# 		tooltip = {
# 			add_country_modifier = {
# 				name = "harmonized_vajrayana"
# 				duration = -1
# 			}
# 		}
# 	}
# }

#Harmonization Progress Events

#Concept of Shangdi
country_event = {
	id = confucian_events.11
	title = "confucian_events.11.t"
	desc = "confucian_events.11.d"
	picture = DEBATE_REPUBLICAN_eventPicture
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		religion = confucianism
		harmonization_progress = 10
		NOT = { harmonization_progress = 60 }
		OR = {
			any_owned_province = {
				owner = {
					is_harmonizing_with = PREV
				}
			}
			any_subject_country = {
				is_subject_of_type = colony
				any_owned_province = {
					is_state = yes
					ROOT = {
						is_harmonizing_with = PREV
					}
				}
			}
		}
		NOT = { has_country_flag = harmonization_shangdi_conflict }
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					owner = {
						is_harmonizing_with = PREV
					}
				}
				save_event_target_as = harmonization_province
			}
			set_country_flag = harmonization_shangdi_conflict
		}
	}
	
	mean_time_to_happen = {
		months = 400
		
		modifier = {
			factor = 0.8
			harmonization_progress = 40
		}
	}
	
	option = {
		name = "confucian_events.11.a" #We must teach them the proper ways!
		ai_chance = {
			factor = 30
		}
		add_harmonization_progress = -12
		increase_legitimacy_medium_effect = yes
		add_meritocracy_effect = yes
		add_estate_church_loyalty_effect = yes
	}
	option = {
		name = "confucian_events.11.b" #Let us accommodate this abstraction.
		ai_chance = {
			factor = 70
		}
		add_harmonization_progress = 12 #4 years
		reduce_legitimacy_small_effect = yes
		reduce_meritocracy_effect = yes
		reduce_estate_church_loyalty_effect = yes
	}
}

#Translations of the Classics
#Han Kitab
country_event = {
	id = confucian_events.12
	title = "confucian_events.12.t"
	desc = "confucian_events.12.d"
	picture = MERITOCRACY_eventPicture
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		religion = confucianism
		harmonization_progress = 6
		NOT = { harmonization_progress = 40 }
		OR = {
			any_owned_province = {
				owner = {
					is_harmonizing_with = PREV
				}
			}
			any_subject_country = {
				is_subject_of_type = colony
				any_owned_province = {
					is_state = yes
					ROOT = {
						is_harmonizing_with = PREV
					}
				}
			}
		}
		NOT = { has_country_flag = harmonization_han_kitab }
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					owner = {
						is_harmonizing_with = PREV
					}
				}
				save_event_target_as = harmonization_province
			}
			set_country_flag = harmonization_han_kitab
		}
	}
	
	mean_time_to_happen = {
		months = 400
		modifier = {
			factor = 0.6
			harmonization_progress = 25
		}
	}
	
	option = {
		name = "confucian_events.12.a" #Let them create their own version of proper form.
		ai_chance = {
			factor = 70
		}
		add_harmonization_progress = 15 #5 years
		add_country_modifier = {
			name = "harmonization_classics_translated"
			duration = 3650
		}
	}
	option = {
		name = "confucian_events.12.b" #No, we cannot risk the logical core of our ideology!
		ai_chance = {
			factor = 30
		}
		add_harmonization_progress = -9
		add_country_modifier = {
			name = "harmonization_classics_defended"
			duration = 3650
		}
	}
}

#Faith of [Root.Adm_Advisor.GetName]
country_event = {
	id = confucian_events.13
	title = "confucian_events.13.t"
	desc = "confucian_events.13.d"
	picture = MERITOCRACY_eventPicture
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		religion = confucianism
		has_adm_advisor = yes
		harmonization_progress = 50
		OR = {
			any_owned_province = {
				owner = {
					is_harmonizing_with = PREV
				}
			}
			any_subject_country = {
				is_subject_of_type = colony
				any_owned_province = {
					is_state = yes
					ROOT = {
						is_harmonizing_with = PREV
					}
				}
			}
		}
		NOT = { has_country_flag = harmonization_fate_of_advisor }
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					owner = {
						is_harmonizing_with = PREV
					}
				}
				save_event_target_as = harmonization_province
			}
			set_country_flag = harmonization_fate_of_advisor
		}
	}
	
	mean_time_to_happen = {
		months = 700 #Not Every Time
	}
	
	option = {
		name = "confucian_events.13.a" #Depose this [Root.Adm_Advisor.GetWomanMan]!
		ai_chance = {
			factor = 30
		}
		add_harmonization_progress = -3
		remove_advisor_by_category = ADM
		increase_legitimacy_small_effect = yes
		add_stability_or_adm_power = yes
	}
	option = {
		name = "confucian_events.13.b" #We have much to learn from the [harmonization_province.Religion.GetName] people.
		ai_chance = {
			factor = 70
			modifier = {
				factor = 0
				has_reform = celestial_empire
				NOT = { imperial_mandate = 50 }
			}
		}
		add_harmonization_progress = 9
		reduce_legitimacy_small_effect = yes
		add_country_modifier = {
			name = "harmonization_converted_minister"
			duration = 3650
		}
	}
}

#Right and Rite
#Repeatable - local - but not common
country_event = {
	id = confucian_events.14
	title = "confucian_events.14.t"
	desc = "confucian_events.14.d"
	picture = GIFTS_TO_EMPEROR_eventPicture
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		religion = confucianism
		OR = {
			any_owned_province = {
				is_state = yes
				owner = {
					is_harmonizing_with = PREV
				}
			}
			any_subject_country = {
				is_subject_of_type = colony
				any_owned_province = {
					is_state = yes
					ROOT = {
						is_harmonizing_with = PREV
					}
				}
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_state = yes
					owner = {
						is_harmonizing_with = PREV
					}
				}
				save_event_target_as = harmonization_province
			}
		}
	}
	
	mean_time_to_happen = {
		months = 500
	}
	
	option = {
		name = "confucian_events.14.a" #Barbarians!
		ai_chance = {
			factor = 30
		}
		add_harmonization_progress = -3 #1 year
	}
	option = {
		name = "confucian_events.14.b" #Such Minor Things do not Concern us
		ai_chance = {
			factor = 70
		}
		add_harmonization_progress = 6 #2 years
		event_target:harmonization_province = {
			add_local_autonomy = 25
			area = {
				limit = {
					owned_by = ROOT
					owner = { is_harmonizing_with = PREV }
				}
				add_local_autonomy = 25
			}
		}
	}
}

#Empowering the Office of [Root.Monarch.GetTitle]
country_event = {
	id = confucian_events.15
	title = "confucian_events.15.t"
	desc = "confucian_events.15.d"
	picture = GIFTS_TO_EMPEROR_eventPicture
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		religion = confucianism
		harmonization_progress = 30
		OR = {
			any_owned_province = {
				is_state = yes
				owner = {
					is_harmonizing_with = PREV
				}
			}
			any_subject_country = {
				is_subject_of_type = colony
				any_owned_province = {
					is_state = yes
					ROOT = {
						is_harmonizing_with = PREV
					}
				}
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					owner = {
						is_harmonizing_with = PREV
					}
					is_state = yes
				}
				save_event_target_as = harmonization_province
			}
			set_country_flag = harmonization_empowering_ceremonies
		}
	}
	
	mean_time_to_happen = {
		months = 500
	}
	
	option = {
		name = "confucian_events.15.a"
		ai_chance = {
			factor = 70
		}
		add_harmonization_progress = 9 #3 years
		event_target:harmonization_province = {
			area = {
				limit = { owned_by = ROOT }
				add_local_autonomy = 25
			}
		}
	}
	option = {
		name = "confucian_events.15.b"
		add_harmonization_progress = -9 #3 years
		event_target:harmonization_province = {
			area = {
				limit = { owned_by = ROOT }
				add_province_modifier = {
					name = harmonization_local_rites_refused
					duration = 3650
				}
			}
		}
		ai_chance = {
			factor = 30
		}
	}
}

#Bringing Civilization to the Barbarians
#Repeatable
country_event = {
	id = confucian_events.16
	title = "confucian_events.16.t"
	desc = "confucian_events.16.d"
	picture = IMPERIAL_SEAL_eventPicture
		
	trigger = {
		has_dlc = "Mandate of Heaven"
		religion = confucianism
		has_dip_advisor = yes
		OR = {
			any_owned_province = {
				is_state = yes
				owner = {
					is_harmonizing_with = PREV
				}
			}
			any_subject_country = {
				is_subject_of_type = colony
				any_owned_province = {
					is_state = yes
					ROOT = {
						is_harmonizing_with = PREV
					}
				}
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_state = yes
					owner = {
						is_harmonizing_with = PREV
					}
				}
				save_event_target_as = harmonization_province
				ROOT = {
					set_saved_name = {
						key = local_influential_person
						type = advisor
						scope = prev
					}
				}
			}
		}
	}
	
	mean_time_to_happen = {
		months = 500
	}
	
	option = {
		name = "confucian_events.16.a" #Ignore these barbarians
		event_target:harmonization_province = {
			area = {
				limit = {
					owned_by = ROOT
				}
				add_local_autonomy = 10
			}
		}
	}
	option = {
		name = "confucian_events.16.b" #Let us send our best and brightest to civilize them.
		reduce_meritocracy_effect = yes #Sending them away
		add_adm_power = -50
		add_harmonization_progress = 6
		event_target:harmonization_province = {
			area = {
				limit = {
					owned_by = ROOT
				}
				add_local_autonomy = -25
			}
		}
	}
	after = {
		hidden_effect = {
			clear_saved_name = local_influential_person
		}
	}
}

#[harmonization_province.Religion.GetName] Civilization
country_event = {
	id = confucian_events.17
	title = "confucian_events.17.t"
	desc = "confucian_events.17.d"
	picture = GIFTS_TO_EMPEROR_eventPicture
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		religion = confucianism
		harmonization_progress = 50
		OR = {
			any_owned_province = {
				is_state = yes
				owner = {
					is_harmonizing_with = PREV
				}
			}
			any_subject_country = {
				is_subject_of_type = colony
				any_owned_province = {
					is_state = yes
					ROOT = {
						is_harmonizing_with = PREV
					}
				}
			}
		}
	}
	
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					is_state = yes
					owner = {
						is_harmonizing_with = PREV
					}
				}
				save_event_target_as = harmonization_province
			}
		}
	}
	
	mean_time_to_happen = {
		months = 700
	}
	
	option = {
		name = "confucian_events.17.a"
		add_harmonization_progress = 9 #3 years
	}
	option = {
		name = "confucian_events.17.b"
		event_target:harmonization_province = {
			trigger_switch = {
				on_trigger = has_port
				yes = {
					add_base_production = 1
				}
				no = {
					add_base_tax = 1
				}
			}
		}
	}
}

# Xiaoren?
country_event = {
	id = confucian_events.18
	title = "confucian_events.18.t"
	desc = "confucian_events.18.d"
	picture = GIFTS_TO_EMPEROR_eventPicture

	trigger = {
		has_dlc = "Mandate of Heaven"
		religion = confucianism
		government = monarchy
		has_heir = yes
		has_government_attribute = heir
		heir_age = 15
		OR = {
			NOT = { heir_adm = 3 }
			NOT = { heir_dip = 3 }
		}
		NOT = {
			heir_has_personality = just_personality
		}
		NOT = {
			heir_has_personality = humane_personality
		}
	}
	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					owner = {
						is_harmonizing_with = PREV
					}
				}
				save_event_target_as = harmonization_province
			}
		}
	}

	mean_time_to_happen = {
		months = 500
		modifier = {
			factor = 0.8
			has_dlc = "Rights of Man"
			OR = {
				heir_has_bad_adm_personality = yes
				heir_has_bad_dip_personality = yes
				heir_has_bad_mil_personality = yes
			}
		}
	}

	option = {
		name = "confucian_events.18.a" #Such a [Root.Her.GetWomanMan] is not fit for the Palace of the East (ie the office of the imperial heir)
		add_harmony = 10
		add_stability = -1
		define_heir = {
			change_adm = 2
			change_dip = 2
			age = 18
			religion = confucianism
			dynasty = ROOT
		}
		reduce_estate_church_loyalty_effect = yes
		reduce_estate_nobles_loyalty_effect = yes
		reduce_estate_burghers_loyalty_effect = yes
	}
	option = {
		name = "confucian_events.18.b"
		if = {
			limit = {
				NOT = { heir_has_personality = petty_personality }
				NOT = { heir_age = 45 }
			}
			add_heir_personality = petty_personality
		}
		add_harmony = -10
		add_dip_power = 30
		add_adm_power = 30
		add_mil_power = 30
		add_estate_church_loyalty_effect = yes
		add_estate_nobles_loyalty_effect = yes
		add_estate_burghers_loyalty_effect = yes
	}
}

# Veiled Criticism
# Water Margin
country_event = {
	id = confucian_events.19
	title = "confucian_events.19.t"
	desc = "confucian_events.19.d"
	picture = MERITOCRACY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		religion = confucianism
		OR = {
			NOT = { has_country_flag = harmony_book_timer }
			had_country_flag = { flag = harmony_book_timer days = 1825 }
		}
		NOT = {
			has_country_modifier = harmony_banned_book
		}
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = "confucian_events.19.a"
		add_harmony = 10
		add_country_modifier = {
			name = "harmony_banned_book"
			duration = 1825
		}
	}
	option = {
		name = "confucian_events.19.b"
		add_harmony = -10
		set_country_flag = harmony_book_timer
	}
}

#Civil Service
country_event = {
	id = confucian_events.20
	title = "confucian_events.20.t"
	desc = "confucian_events.20.d"
	picture = IMPERIAL_EXAMINATION_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_dlc = "Mandate of Heaven"
		religion = confucianism
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = "confucian_events.20.a"
		add_years_of_income = -0.4
		add_harmony = 10
		increase_legitimacy_small_effect = yes
	}
	option = {
		name = "confucian_events.20.b"
		
		add_harmony = -10
		reduce_legitimacy_small_effect = yes
	}
}

# #Dai Viet can choose if they're Confucian or Mahayana
# country_event = {
# 	id = confucian_events.21
# 	title = "confucian_events.21.t"
# 	desc = "confucian_events.21.d"
# 	picture = IMPERIAL_EXAMINATION_eventPicture
	
# 	fire_only_once = yes
	
# 	trigger = {
# 		has_dlc = "Mandate of Heaven"
# 		NOT = { religion = confucianism }
# 		tag = DAI
# 		religion = mahayana
# 		ai = no
# 		is_at_war = no
# 		NOT = { is_year = 1500 }
# 	}
	
# 	mean_time_to_happen = {
# 		months = 1
# 	}
	
# 	option = {
# 		name = "confucian_events.21.a"
# 		change_religion = confucianism
# 		set_ruler_religion = confucianism
# 		if = {
# 			limit = { has_heir = yes }
# 			set_heir_religion = confucianism
# 		}
# 		add_harmonized_religion = mahayana
# 	}
# 	option = {
# 		name = "confucian_events.21.b"
# 		add_prestige = 20
# 	}
# }

#Thought Event for clearing flags
country_event = {
	id = confucian_events.22
	title = confucian_events.22.t
	desc = confucian_events.22.d
	picture = COURT_INTRIGUE_eventPicture

	mean_time_to_happen = {
		days = 1
	}
	hidden = yes

	trigger = {
		OR = {
			AND = {
				has_harmonized_with = dwarven
				NOT = {
					has_country_modifier = harmonize_check_dwarven
				}
			}
			AND = {
				has_harmonized_with = cannorian
				NOT = {
					has_country_modifier = harmonize_check_cannorian
				}
			}
			AND = {
				has_harmonized_with = bulwari
				NOT = {
					has_country_modifier = harmonize_check_bulwari
				}
			}
			AND = {
				has_harmonized_with = goblin
				NOT = {
					has_country_modifier = harmonize_check_goblin
				}
			}
			AND = {
				has_harmonized_with = khetist
				NOT = {
					has_country_modifier = harmonize_check_khetist
				}
			}
			AND = {
				has_harmonized_with = raheni
				NOT = {
					has_country_modifier = harmonize_check_raheni
				}
			}
			AND = {
				has_harmonized_with = gnollish
				NOT = {
					has_country_modifier = harmonize_check_gnollish
				}
			}
			AND = {
				has_harmonized_with = elven
				NOT = {
					has_country_modifier = harmonize_check_elven
				}
			}
			AND = {
				has_harmonized_with = gerudian
				NOT = {
					has_country_modifier = harmonize_check_gerudian
				}
			}
			AND = {
				has_harmonized_with = orcish
				NOT = {
					has_country_modifier = harmonize_check_orcish
				}
			}
			AND = {
				has_harmonized_with = dragon_cult
				NOT = {
					has_country_modifier = harmonize_check_dragon_cult
				}
			}
			AND = {
				has_harmonized_with = aelantiri
				NOT = {
					has_country_modifier = harmonize_check_aelantiri
				}
			}
			AND = {
				has_harmonized_with = harpy_cults
				NOT = {
					has_country_modifier = harmonize_check_harpy_cults
				}
			}
			AND = {
				has_harmonized_with = cheshoshi_religion
				NOT = {
					has_country_modifier = harmonize_check_cheshoshi
				}
			}
			AND = {
				has_harmonized_with = harafic
				NOT = {
					has_country_modifier = harmonize_check_harafic
				}
			}
			AND = {
				has_harmonized_with = effelai
				NOT = {
					has_country_modifier = harmonize_check_effelai
				}
			}
			AND = {
				has_harmonized_with = kheionism
				NOT = {
					has_country_modifier = harmonize_check_kheionism
				}
			}
			AND = {
				has_harmonized_with = taychendi
				NOT = {
					has_country_modifier = harmonize_check_taychendi
				}
			}
			AND = {
				has_harmonized_with = ynnic
				NOT = {
					has_country_modifier = harmonize_check_ynnic
				}
			}
			AND = {
				has_harmonized_with = devandi
				NOT = {
					has_country_modifier = harmonize_check_devandi
				}
			}
			AND = {
				has_harmonized_with = fey_religion
				NOT = {
					has_country_modifier = harmonize_check_fey_religion
				}
			}
			AND = {
				has_harmonized_with = godlost
				NOT = {
					has_country_modifier = harmonize_check_godlost
				}
			}
			AND = {
				has_harmonized_with = triunic_lake
				NOT = {
					has_country_modifier = harmonize_check_triunic
				}
			}
			AND = {
				has_harmonized_with = giantkin
				NOT = {
					has_country_modifier = harmonize_check_giantkin
				}
			}
			AND = {
				has_harmonized_with = black_doctrine
				NOT = {
					has_country_modifier = harmonize_check_black_doctrine
				}
			}
			AND = {
				has_harmonized_with = halessi
				NOT = {
					has_country_modifier = harmonize_check_halessi
				}
			}
			AND = {
				has_harmonized_with = tanibic_religion
				NOT = {
					has_country_modifier = harmonize_check_tanibic
				}
			}
			AND = {
				has_harmonized_with = angel_religion
				NOT = {
					has_country_modifier = harmonize_check_angelic
				}
			}
			AND = {
				has_harmonized_with = hag_religion
				NOT = {
					has_country_modifier = harmonize_check_hag
				}
			}
			AND = {
				has_harmonized_with = lizardfolk_religion
				NOT = {
					has_country_modifier = harmonize_check_lizardfolk
				}
			}
			AND = {
				has_harmonized_with = baashidi_religion
				NOT = {
					has_country_modifier = harmonize_check_baashidi
				}
			}
			AND = {
				has_harmonized_with = tanizu_religion
				NOT = {
					has_country_modifier = harmonize_check_tanizu
				}
			}
			AND = {
				has_harmonized_with = gotiriei
				NOT = {
					has_country_modifier = harmonize_check_gotiriei
				}
			}
		}
	}

	option = {
		name = confucian_events.22.a
		ai_chance = {
			factor = 1
		}
		clr_country_flag = harmonization_empowering_ceremonies
		clr_country_flag = harmonization_fate_of_advisor
		clr_country_flag = harmonization_han_kitab
		clr_country_flag = harmonization_shangdi_conflict
		clr_country_flag = harmony_book_timer

		set_harmonized_religion_debug_modifier = yes
	}

	after = {
		remove_country_modifier = harmonizing_cannorian
		remove_country_modifier = harmonizing_goblin
		remove_country_modifier = harmonizing_khetist
		remove_country_modifier = harmonizing_bulwari
		remove_country_modifier = harmonizing_raheni
		remove_country_modifier = harmonizing_gnollish
		remove_country_modifier = harmonizing_dwarven
		remove_country_modifier = harmonizing_elven
		remove_country_modifier = harmonizing_gerudian
		remove_country_modifier = harmonizing_orcish
		remove_country_modifier = harmonizing_dragon_cult
		remove_country_modifier = harmonizing_aelantiri
		remove_country_modifier = harmonizing_harpy_cults
		remove_country_modifier = harmonizing_cheshoshi
		remove_country_modifier = harmonizing_harafic
		remove_country_modifier = harmonizing_effelai
		remove_country_modifier = harmonizing_kheionism
		remove_country_modifier = harmonizing_taychendi
		remove_country_modifier = harmonizing_ynnic
		remove_country_modifier = harmonizing_devandi
		remove_country_modifier = harmonizing_fey_religion
		remove_country_modifier = harmonizing_godlost
		remove_country_modifier = harmonizing_triunic
		remove_country_modifier = harmonizing_giantkin
		remove_country_modifier = harmonizing_black_doctrine
		remove_country_modifier = harmonizing_halessi
		remove_country_modifier = harmonizing_tanibic
		remove_country_modifier = harmonizing_angelic
		remove_country_modifier = harmonizing_hag
		remove_country_modifier = harmonizing_lizardfolk
		remove_country_modifier = harmonizing_baashidi
		remove_country_modifier = harmonizing_tanizu
		remove_country_modifier = harmonizing_gotiriei
	}
}

country_event = {
	id = confucian_events.23
	title = confucian_events.23.t
	desc = confucian_events.23.d
	picture = COURT_INTRIGUE_eventPicture

	is_triggered_only = yes
	hidden = yes 

	trigger = {
		NOT = {
			has_country_modifier = harmonizing_cannorian
			has_country_modifier = harmonizing_goblin
			has_country_modifier = harmonizing_khetist
			has_country_modifier = harmonizing_bulwari
			has_country_modifier = harmonizing_raheni
			has_country_modifier = harmonizing_gnollish
			has_country_modifier = harmonizing_dwarven
			has_country_modifier = harmonizing_elven
			has_country_modifier = harmonizing_gerudian
			has_country_modifier = harmonizing_orcish
			has_country_modifier = harmonizing_dragon_cult
			has_country_modifier = harmonizing_aelantiri
			has_country_modifier = harmonizing_harpy_cults
			has_country_modifier = harmonizing_cheshoshi
			has_country_modifier = harmonizing_harafic
			has_country_modifier = harmonizing_effelai
			has_country_modifier = harmonizing_kheionism
			has_country_modifier = harmonizing_taychendi
			has_country_modifier = harmonizing_ynnic
			has_country_modifier = harmonizing_devandi
			has_country_modifier = harmonizing_fey_religion
			has_country_modifier = harmonizing_godlost
			has_country_modifier = harmonizing_triunic
			has_country_modifier = harmonizing_giantkin
			has_country_modifier = harmonizing_black_doctrine
			has_country_modifier = harmonizing_halessi
			has_country_modifier = harmonizing_tanibic
			has_country_modifier = harmonizing_angelic
			has_country_modifier = harmonizing_hag
			has_country_modifier = harmonizing_lizardfolk
			has_country_modifier = harmonizing_baashidi
			has_country_modifier = harmonizing_tanizu
			has_country_modifier = harmonizing_gotiriei
		}
	}

	option = {
		name = confucian_events.23.a
		ai_chance = {
			factor = 1
		}
		event_target:harmonization_province = {
			if = {
				limit = {
					religion_group = cannorian
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = cannorian
					}
				}
			}
			else_if = {
				limit = {
					religion_group = khetist
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = khetist
					}
				}
			}
			else_if = {
				limit = {
					religion_group = goblin
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = goblin
					}
				}
			}
			else_if = {
				limit = {
					religion_group = bulwari
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = bulwari
					}
				}
			}
			else_if = {
				limit = {
					religion_group = gnollish
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = gnollish
					}
				}
			}
			else_if = {
				limit = {
					religion_group = dwarven
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = dwarven
					}
				}
			}
			else_if = {
				limit = {
					religion_group = elven
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = elven
					}
				}
			}
			else_if = {
				limit = {
					religion_group = gerudian
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = gerudian
					}
				}
			}
			else_if = {
				limit = {
					religion_group = orcish
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = orcish
					}
				}
			}
			else_if = {
				limit = {
					religion_group = dragon_cult
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = dragon_cult
					}
				}
			}
			else_if = {
				limit = {
					religion_group = aelantiri
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = aelantiri
					}
				}
			}
			else_if = {
				limit = {
					religion_group = harpy_cults
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = harpy_cults
					}
				}
			}
			else_if = {
				limit = {
					religion_group = cheshoshi_religion
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = cheshoshi
					}
				}
			}
			else_if = {
				limit = {
					religion_group = harafic
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = harafic
					}
				}
			}
			else_if = {
				limit = {
					religion_group = effelai
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = effelai
					}
				}
			}
			else_if = {
				limit = {
					religion = kheionism
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = kheionism
					}
				}
			}
			else_if = {
				limit = {
					religion_group = taychendi
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = taychendi
					}
				}
			}
			else_if = {
				limit = {
					religion_group = ynnic
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = ynnic
					}
				}
			}
			else_if = {
				limit = {
					religion_group = devandi
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = devandi
					}
				}
			}
			else_if = {
				limit = {
					religion_group = fey_religion
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = fey_religion
					}
				}
			}
			else_if = {
				limit = {
					religion = godlost
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = godlost
					}
				}
			}
			else_if = {
				limit = {
					religion_group = triunic_lake
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = triunic
					}
				}
			}
			else_if = {
				limit = {
					religion = black_doctrine
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = black_doctrine
					}
				}
			}
			else_if = {
				limit = {
					religion_group = giantkin
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = giantkin
					}
				}
			}
			else_if = {
				limit = {
					religion_group = halessi
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = halessi
					}
				}
			}
			else_if = {
				limit = {
					religion_group = tanibic_religion
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = tanibic
					}
				}
			}
			else_if = {
				limit = {
					religion_group = angel_religion
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = angelic
					}
				}
			}
			else_if = {
				limit = {
					religion_group = hag_religion
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = hag
					}
				}
			}
			else_if = {
				limit = {
					religion_group = lizardfolk_religion
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = lizardfolk
					}
				}
			}
			else_if = {
				limit = {
					religion_group = baashidi_religion
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = baashidi
					}
				}
			}
			else_if = {
				limit = {
					religion_group = tanizu_religion
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = tanizu
					}
				}
			}
			else_if = {
				limit = {
					religion = gotiriei
				}
				ROOT = {
					set_harmonizing_religion_modifier = {
						religion = gotiriei
					}
				}
			}
		}
	}
}