namespace = hoardcurse

#As we open our coffer, we see that we are filfthy rich. What should we do with all that money ?
country_event = {
	id = hoardcurse.1
	title = hoardcurse.1.t
	desc = hoardcurse.1.d
	picture = ARTWORK_eventPicture
	
	mean_time_to_happen = {
		years = 30
		
		modifier = {
			factor = 0.5
			personality = greedy_personality
		}
	}
	
	trigger = {
		culture_group = dwarven
		NOT = { has_country_flag = hoardcurse_happened }
		OR = {
			treasury = 10000
			monthly_income = 200
		}
		NOT = { has_country_flag = hoardcurse_start }
		num_of_owned_provinces_with = {
			value = 13
			OR = {
				has_terrain = dwarven_hold
				has_terrain = dwarven_hold_surface
			}
		}
	}
	#Recount everything, and add it to the coffer
	option = {
        name = hoardcurse.1.a
        ai_chance = { factor = 100 }
		hidden_effect = { set_country_flag = hoardcurse_start }
		add_years_of_income = 10
		add_inflation = 20
	}
	#Invest everything
	option = {
        name = hoardcurse.1.b
        ai_chance = { factor = 100 }
		hidden_effect = { set_country_flag = hoardcurse_start }
		add_country_modifier = {
			name = hoardcurse_massive_invest
			duration = 2920
		}
	}
}

#Money from everywhere, our capital is "the biggest commercial center of the world" !
country_event = {
	id = hoardcurse.2
	title = hoardcurse.2.t
	desc = hoardcurse.2.d
	picture = ARTWORK_eventPicture
	
	mean_time_to_happen = {
		years = 10
		
		modifier = {
			factor = 0.5
			personality = greedy_personality
		}
	}
	
	trigger = {
		has_country_flag = hoardcurse_start
		NOT = { has_country_flag = hoardcurse_happened }
		NOT = { has_country_flag = hoardcurse_success }
	}
	#Our success is incredible
	option = {
        name = hoardcurse.2.a
        ai_chance = { factor = 100 }
		hidden_effect = { set_country_flag = hoardcurse_success }
		add_years_of_income = 5
		add_inflation = 10
		add_prestige = 25
	}
}


#The [Root.Capital.GetName] financial crash
country_event = {
	id = hoardcurse.3
	title = hoardcurse.3.t
	desc = hoardcurse.3.d
	picture = ARTWORK_eventPicture
	
	mean_time_to_happen = {
		years = 10
		
		modifier = {
			factor = 0.5
			personality = greedy_personality
		}
	}
	
	trigger = {
		has_country_flag = hoardcurse_success
		NOT = { has_country_flag = hoardcurse_happened }
		NOT = { has_disaster = hoardcurse }
	}
	#Our ruler discover the Wealth Hoarder. If he's greedy, he is part of them, otherwise, he might get killed and be replaced by a corrupt ruler
	option = {
        name = hoardcurse.3.a
        ai_chance = { factor = 100 }
		hidden_effect = { set_country_flag = hoardcurse_flag }
		add_years_of_income = -15
		add_prestige = -25
		if = {
			limit = { NOT = { personality = greedy_personality } }
			random = {
				chance = 50
				country_event = { id = hoardcurse.4 days = 30 random = 15 }
			}
		}
	}
}

#A shady offer. People want to kill the current ruler, and would reward us greatly if we accept
country_event = {
	id = hoardcurse.4
	title = hoardcurse.4.t
	desc = hoardcurse.4.d
	picture = ARTWORK_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { personality = greedy_personality }
	}
	#We REFUSE
	option = {
        name = hoardcurse.4.a
        ai_chance = { factor = 100 }
		add_stability = -2
		if = {
			limit = { NOT = { personality = greedy_personality } }
			random = {
				chance = 65
				kill_ruler = yes
				add_ruler_personality = greedy_personality
			}
		}
	}
	#We ACCEPT
	option = {
        name = hoardcurse.4.b
        ai_chance = { factor = 100 }
		if = {
			limit = { NOT = { personality = greedy_personality } }
			kill_ruler = yes
			add_ruler_personality = greedy_personality
		}
		add_stability = 1
		add_years_of_income = 5
		add_corruption = 3
	}
}

##########################
##Event Disaster Hoardcurse
##########################
##Long text about all the shit that are wrong in the country
country_event = {
	id = hoardcurse.5
	title = hoardcurse.5.t
	desc = hoardcurse.5.d
	picture = ARTWORK_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}

	option = {
        name = hoardcurse.5.a
        ai_chance = { factor = 100 }
		custom_tooltip = hoardcurse_reform_tooltip
	}
}

