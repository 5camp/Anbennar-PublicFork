namespace = flavor_durvazhatun

# Increase terror to stage 1
country_event = {
	id = flavor_durvazhatun.90
	title = flavor_durvazhatun.90.t
	desc = flavor_durvazhautun.90.d
	picture = ARTWORK_eventPicture
	
	mean_time_to_happen = {
		months = 96
		modifier = {
			factor = 0.8
			has_disaster_progress = {
				disaster = astral_terror
				value = 20
			}
		}
		modifier = {
			factor = 0.01
			has_disaster_progress = {
				disaster = astral_terror
				value = 25
			}
		}
	}
	
	trigger = {
		tag = I03
		has_disaster_progress = {
			disaster = astral_terror
			value = 15
		}
		NOT = { has_disaster = astral_terror }
		NOT = { has_country_modifier = durvazhatun_terror_1 }
		NOT = { has_country_modifier = durvazhatun_terror_2 }
		NOT = { has_country_modifier = durvazhatun_terror_3 }
	}
	
	option = {
		name = flavor_durvazhatun.90.a
		
		add_country_modifier = {
			name = durvazhatun_terror_1
			duration = -1
		}
	}
}


# Increase terror to stage 2
country_event = {
	id = flavor_durvazhatun.91
	title = flavor_durvazhatun.91.t
	desc = flavor_durvazhautun.91.d
	picture = ARTWORK_eventPicture
	
	mean_time_to_happen = {
		months = 96
		modifier = {
			factor = 0.8
			has_disaster_progress = {
				disaster = astral_terror
				value = 45
			}
		}
		modifier = {
			factor = 0.01
			has_disaster_progress = {
				disaster = astral_terror
				value = 50
			}
		}
	}
	
	trigger = {
		tag = I03
		has_disaster_progress = {
			disaster = astral_terror
			value = 40
		}
		NOT = { has_disaster = astral_terror }
		has_country_modifier = durvazhatun_terror_1
	}
	
	option = {
		name = flavor_durvazhatun.91.a
		
		add_country_modifier = {
			name = durvazhatun_terror_2
			duration = -1
		}
		hidden = { remove_country_modifier = durvazhatun_terror_1 }

	}
}

# Increase terror to stage 3
country_event = {
	id = flavor_durvazhatun.92
	title = flavor_durvazhatun.92.t
	desc = flavor_durvazhautun.92.d
	picture = ARTWORK_eventPicture
	
	mean_time_to_happen = {
		months = 96
		modifier = {
			factor = 0.8
			has_disaster_progress = {
				disaster = astral_terror
				value = 70
			}
		}
		modifier = {
			factor = 0.01
			has_disaster_progress = {
				disaster = astral_terror
				value = 75
			}
		}
	}
	
	trigger = {
		tag = I03
		has_disaster_progress = {
			disaster = astral_terror
			value = 65
		}
		NOT = { has_disaster = astral_terror }
		has_country_modifier = durvazhatun_terror_2
	}
	
	option = {
		name = flavor_durvazhatun.92.a
		
		add_country_modifier = {
			name = durvazhatun_terror_3
			duration = -1
		}
		hidden = { remove_country_modifier = durvazhatun_terror_2 }

	}
}

# Decrease terror to stage 0
country_event = {
	id = flavor_durvazhatun.93
	title = flavor_durvazhatun.93.t
	desc = flavor_durvazhautun.93.d
	picture = ARTWORK_eventPicture
	
	mean_time_to_happen = {
		months = 96
		modifier = {
			factor = 0.8
			NOT = {
				has_disaster_progress = {
					disaster = astral_terror
					value = 5
				}
			}
		}
		modifier = {
			factor = 0.01
			NOT = {
				has_disaster_progress = {
					disaster = astral_terror
					value = 1
				}
			}
		}
	}
	
	trigger = {
		tag = I03
		NOT = {
			has_disaster_progress = {
				disaster = astral_terror
				value = 10
			}
		}
		NOT = { has_disaster = astral_terror }
		has_country_modifier = durvazhatun_terror_1
	}
	
	option = {
		name = flavor_durvazhatun.93.a
		
		remove_country_modifier = durvazhatun_terror_1
	}
}

# Decrease terror to stage 1
country_event = {
	id = flavor_durvazhatun.94
	title = flavor_durvazhatun.94.t
	desc = flavor_durvazhautun.94.d
	picture = ARTWORK_eventPicture
	
	mean_time_to_happen = {
		months = 96
		modifier = {
			factor = 0.8
			NOT = {
				has_disaster_progress = {
					disaster = astral_terror
					value = 30
				}
			}
		}
		modifier = {
			factor = 0.01
			NOT = {
				has_disaster_progress = {
					disaster = astral_terror
					value = 25
				}
			}
		}
	}
	
	trigger = {
		tag = I03
		NOT = {
			has_disaster_progress = {
				disaster = astral_terror
				value = 35
			}
		}
		NOT = { has_disaster = astral_terror }
		has_country_modifier = durvazhatun_terror_2
	}
	
	option = {
		name = flavor_durvazhatun.94.a
		
		add_country_modifier = {
			name = durvazhatun_terror_1
			duration = -1
		}
		hidden = { remove_country_modifier = durvazhatun_terror_2 }
	}
}

# Decrease terror to stage 2
country_event = {
	id = flavor_durvazhatun.95
	title = flavor_durvazhatun.95.t
	desc = flavor_durvazhautun.95.d
	picture = ARTWORK_eventPicture
	
	mean_time_to_happen = {
		months = 96
		modifier = {
			factor = 0.8
			NOT = {
				has_disaster_progress = {
					disaster = astral_terror
					value = 55
				}
			}
		}
		modifier = {
			factor = 0.01
			NOT = {
				has_disaster_progress = {
					disaster = astral_terror
					value = 50
				}
			}
		}
	}
	
	trigger = {
		tag = I03
		NOT = {
			has_disaster_progress = {
				disaster = astral_terror
				value = 60
			}
		}
		NOT = { has_disaster = astral_terror }
		has_country_modifier = durvazhatun_terror_3
	}
	
	option = {
		name = flavor_durvazhatun.95.a
		
		add_country_modifier = {
			name = durvazhatun_terror_2
			duration = -1
		}
		hidden = { remove_country_modifier = durvazhatun_terror_3 }
	}
}

# Astral Goodies
country_event = {
	id = flavor_durvazhatun.96
	title = flavor_durvazhatun.96.t
	desc - dlavor_durvazhatun.96.d
	picture = ARTWORK_eventPicture
	
	is_triggered_only = yes
	trigger = {
		tag = I03
	}
	
	# prestige
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_prestige }
		}
		name = flavor_durvazhatun.96.a
		add_prestige = 10
		add_country_modifier = {
			name = durvazhatun_goodies_prestige
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.97 } }
	}
	
	# ideas
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_ideas }
		}
		name = flavor_durvazhatun.96.b
		add_country_modifier = {
			name = durvazhatun_goodies_ideas
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.97 } }
	}
	
	# tech
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_tech }
		}
		name = flavor_durvazhatun.96.c
		add_country_modifier = {
			name = durvazhatun_goodies_tech
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.97 } }
	}
	
	# institution
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_institution }
		}
		name = flavor_durvazhatun.96.e
		if = {
			limit = {
				4020 = { owned_by = ROOT }
			}
			4020 = {
				add_next_institution_embracement = 25
			}
		}
		add_country_modifier = {
			name = durvazhatun_goodies_institution
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.97 } }
	}
	
	# innovativeness
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_innovativeness }
		}
		name = flavor_durvazhatun.96.f
		change_innovativeness = 3
		add_country_modifier = {
			name = durvazhatun_goodies_innovativeness
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.97 } }
	}
	
	# dip
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_dip }
		}
		name = flavor_durvazhatun.96.g
		add_dip_power = 50
		add_country_modifier = {
			name = durvazhatun_goodies_dip
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.97 } }
	}
	
	# advisors
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_advisors }
		}
		name = flavor_durvazhatun.96.h
		add_country_modifier = {
			name = durvazhatun_goodies_advisors
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.97 } }
	}
	
	# faith
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_faith }
		}
		name = flavor_durvazhatun.96.i
		add_country_modifier = {
			name = durvazhatun_goodies_faith
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.97 } }
	}
	
	# loyalty
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_loyalty }
		}
		name = flavor_durvazhatun.96.j
		if = {
			limit = { has_estate = estate_church }
			add_estate_loyalty = {
				estate = estate_church
				loyalty = 5
			}
		}
		if = {
			limit = { has_estate = estate_burghers }
			add_estate_loyalty = {
				estate = estate_burghers
				loyalty = 5
			}
		}
		if = {
			limit = { has_estate = estate_nobility }
			add_estate_loyalty = {
				estate = estate_nobility
				loyalty = 5
			}
		}
		if = {
			limit = { has_estate = estate_mages }
			add_estate_loyalty = {
				estate = estate_mages
				loyalty = 5
			}
		}
		if = {
			limit = { has_estate = estate_adventurers }
			add_estate_loyalty = {
				estate = estate_adventurers
				loyalty = 5
			}
		}
		add_country_modifier = {
			name = durvazhatun_goodies_loyalty
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.97 } }
	}
	
	# Close menu
	option = {
		name = flavor_durvazhatun.96.k
		hidden = { clr_country_flag = durvazhatun_astral_menu_open }
	}
	
}

# Astral goodies mirror
country_event = {
	id = flavor_durvazhatun.97
	title = flavor_durvazhatun.96.t # sic (shares same loc as event 96)
	desc - dlavor_durvazhatun.96.d
	picture = ARTWORK_eventPicture
	
	is_triggered_only = yes
	trigger = {
		tag = I03
	}
	
	# prestige
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_prestige }
		}
		name = flavor_durvazhatun.96.a
		add_prestige = 10
		add_country_modifier = {
			name = durvazhatun_goodies_prestige
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.96 } }
	}
	
	# ideas
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_ideas }
		}
		name = flavor_durvazhatun.96.b
		add_country_modifier = {
			name = durvazhatun_goodies_ideas
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.96 } }
	}
	
	# tech
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_tech }
		}
		name = flavor_durvazhatun.96.c
		add_country_modifier = {
			name = durvazhatun_goodies_tech
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.96 } }
	}
	
	# institution
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_institution }
		}
		name = flavor_durvazhatun.96.e
		if = {
			limit = {
				4020 = { owned_by = ROOT }
			}
			4020 = {
				add_next_institution_embracement = 25
			}
		}
		add_country_modifier = {
			name = durvazhatun_goodies_institution
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.96 } }
	}
	
	# innovativeness
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_innovativeness }
		}
		name = flavor_durvazhatun.96.f
		change_innovativeness = 3
		add_country_modifier = {
			name = durvazhatun_goodies_innovativeness
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.96 } }
	}
	
	# dip
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_dip }
		}
		name = flavor_durvazhatun.96.g
		add_dip_power = 50
		add_country_modifier = {
			name = durvazhatun_goodies_dip
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.96 } }
	}
	
	# advisors
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_advisors }
		}
		name = flavor_durvazhatun.96.h
		add_country_modifier = {
			name = durvazhatun_goodies_advisors
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.96 } }
	}
	
	# faith
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_faith }
		}
		name = flavor_durvazhatun.96.i
		add_country_modifier = {
			name = durvazhatun_goodies_faith
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.96 } }
	}
	
	# loyalty
	option = {
		trigger = {
			NOT = { has_country_modifier = durvazhatun_goodies_loyalty }
		}
		name = flavor_durvazhatun.96.j
		if = {
			limit = { has_estate = estate_church }
			add_estate_loyalty = {
				estate = estate_church
				loyalty = 5
			}
		}
		if = {
			limit = { has_estate = estate_burghers }
			add_estate_loyalty = {
				estate = estate_burghers
				loyalty = 5
			}
		}
		if = {
			limit = { has_estate = estate_nobility }
			add_estate_loyalty = {
				estate = estate_nobility
				loyalty = 5
			}
		}
		if = {
			limit = { has_estate = estate_mages }
			add_estate_loyalty = {
				estate = estate_mages
				loyalty = 5
			}
		}
		if = {
			limit = { has_estate = estate_adventurers }
			add_estate_loyalty = {
				estate = estate_adventurers
				loyalty = 5
			}
		}
		add_country_modifier = {
			name = durvazhatun_goodies_loyalty
		}
		durvazhatun_buy_goodies = yes
		hidden = { country_event = { id = flavor_durvazhatun.96 } }
	}
	
	# Close menu
	option = {
		name = flavor_durvazhatun.96.k
		hidden = { clr_country_flag = durvazhatun_astral_menu_open }
	}
}

# Disable astral knowledge on tag switch
country_event = {
	id = flavor_durvazhatun.98
	title = flavor_durvazhatun.98.t
	desc = flavor_durvazhautun.98.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		has_country_modifier = durvazhatun_astronomy_enabled
		NOT = { tag = I03 }
	}
	
	option = {
		name = flavor_durvazhatun.98.a
		remove_country_modifier = durvazhatun_enable_astronomy
		custom_tooltip = durvazhatun_disable_astronomy_tt
		
		remove_country_modifier = durvazhatun_terror_1
		remove_country_modifier = durvazhatun_terror_2
		remove_country_modifier = durvazhatun_terror_3
	}
	
}

# Disable astral knowledge when dur-vazhatun is lost
country_event = {
	id = flavor_durvazhatun.99
	title = flavor_durvazhatun.99.t
	desc = flavor_durvazhatun.99.d
	picture = ARTWORK_eventPicture
	
	trigger = {
		tag = I03
		has_country_modifier = durvazhatun_astronomy_enabled
		NOT = { owns = 4020 }
	}
	
	option = {
		name = flavor_durvazhatun.99.a
		remove_country_modifier = durvazhatun_enable_astronomy
		custom_tooltip = durvazhatun_disable_astronomy_tt
	}
}

# Hidden event to gain astral knowledge
country_event = {
	id = flavor_durvazhatun.100
	title = flavor_durvazhatun.100.t
	desc = flavor_durvazhatun.100.d
	picture = ARTWORK_eventPicture	
	hidden = yes
	
	trigger = {
		tag = I03
		has_country_flag = durvazhatun_astronomy_unlocked
		has_country_modifier = durvazhatun_astronomy_enabled
		NOT = { has_country_modifier = durvazhatun_astronomy_clock }
		owns = 4020
	}
	
	option = {
		name = flavor_durvazhatun.100.a
		
		durvazhatun_get_scaling_astral_knowledge = {
			AMOUNT = 1
		}
		
		add_country_modifier = {
			name = durvazhatun_astronomy_clock
			duration = 180
			hidden = yes
		}
	}
}

##########################
# Astral Terror Disaster #
##########################

# 101 - disaster start
country_event = {
	id = flavor_darvazhatun.101
	title = flavor_durvazhatun.101.t
	desc = flavor_durvazhatun.101.d
	picture = ARTWORK_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		set_country_flag = durvazhatun_astral_terror_started
		capital = {
			spawn_rebels = {
				type = durvazhatun_rebels
				size = 3
			}
		}
		random_owned_province = {
			limit = { NOT = { fort_level = 1 } }
			spawn_rebels = {
				type = durvazhatun_rebels
				size = 2
			}
			set_province_flag = durvazhatun_terror_rebels
		}
		set_variable = {
			which = durvazhatun_astral_knowledge
			value = 0
		}
		set_variable = {
			which = durvazhatun_terror_points
			value = 100
		}
		remove_country_modifier = durvazhatun_terror_1
		remove_country_modifier = durvazhatun_terror_2
		remove_country_modifier = durvazhatun_terror_3
	}
	
	option = {
		name = flavor_durvazhatun.101.a
		if = {
			limit = { stability = -2 }
			add_stability = -1
		}
		custom_tooltip = durvazhatun_lose_all_knowledge_tt
		if = {
			limit = { has_country_modifier = durvazhatun_astronomy_enabled }
			remove_country_modifier = durvazhatun_astronomy_enabled
			custom_tooltip = durvazhatun_disable_astronomy_tt
		}
		tooltip = {
			capital = {
				durvazhatun_rebels = 3
			}
			random_owned_province = {
				limit = { has_province_flag = durvazhatun_terror_rebels }
				durvazhatun_terror_rebels = 2
			}
		}
	}
}

# 102 - disaster end
country_event = {
	id = flavor_darvazhatun.102
	title = flavor_durvazhatun.102.t
	desc = flavor_durvazhatun.102.d
	picture = ARTWORK_eventPicture
	
	is_triggered_only = yes
	
	immediate = {
		add_country_modifier = { 
			name = durvazhatun_recent_terror
			duration = 3650
			hidden = yes
		}
		every_owned_province = {
			remove_province_modifier = durvazhatun_rebel_stronghold
			clr_province_flag = durvazhatun_terror_rebels
		}
	}
	
	option = {
		name = flavor_durvazhatun.102.a
		add_stability_or_adm_power = yes
	}
}

# 103 - rebel stack 1
country_event = {
	id = flavor_darvazhatun.103
	title = flavor_durvazhatun.103.t
	desc = flavor_durvazhatun.103.d
	picture = ARTWORK_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { has_country_modifier = durvazhatun_one_quiet_night }
		any_owned_province = {
			NOT = { fort_level = 1 }
			NOT = { has_province_flag = durvazhatun_terror_rebels }
		}
	}
	
	immediate = {
		random_owned_province = {
			limit = {
				NOT = { fort_level = 1 }
				NOT = { has_province_flag = durvazhatun_terror_rebels }
			}
			save_event_target_as = rebel_stack_1
			set_province_flag = durvazhatun_terror_rebels
			spawn_rebels = {
				type = durvazhatun_rebels
				size = 1
			}
		}
		random_owned_province = {
			limit = {
				NOT = { fort_level = 1 }
				NOT = { has_province_flag = durvazhatun_terror_rebels }
			}
			save_event_target_as = rebel_stack_2
			set_province_flag = durvazhatun_terror_rebels
			spawn_rebels = {
				type = durvazhatun_rebels
				size = 1
			}
		}
	}
	
	option = {
		name = flavor_durvazhatun.103.a
		tooltip = {
			event_target:rebel_stack_1 = {
				durvazhatun_rebels = 1
			}
			event_target:rebel_stack_2 = {
				durvazhatun_rebels = 1
			}
		}
	}
}

# 104 - rebel stack 2
country_event = {
	id = flavor_darvazhatun.104
	title = flavor_durvazhatun.104.t
	desc = flavor_durvazhatun.104.d
	picture = ARTWORK_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { has_country_modifier = durvazhatun_one_quiet_night }
		any_owned_province = {
			NOT = { fort_level = 1 }
			NOT = { has_province_flag = durvazhatun_terror_rebels }
		}
	}
	
	immediate = {
		random_owned_province = {
			limit = {
				NOT = { fort_level = 1 }
				NOT = { has_province_flag = durvazhatun_terror_rebels }
			}
			save_event_target_as = rebel_stack
			set_province_flag = durvazhatun_terror_rebels
			spawn_rebels = {
				type = durvazhatun_rebels
				size = 2
			}
		}
	}
	
	option = {
		name = flavor_durvazhatun.103.a
		tooltip = {
			event_target:rebel_stack = {
				durvazhatun_rebels = 2
			}
		}
	}
}

# 105 - rebel stack 3
country_event = {
	id = flavor_darvazhatun.105
	title = flavor_durvazhatun.105.t
	desc = flavor_durvazhatun.105.d
	picture = ARTWORK_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { has_country_modifier = durvazhatun_one_quiet_night }
		any_owned_province = {
			NOT = { fort_level = 1 }
			NOT = { has_province_flag = durvazhatun_terror_rebels }
		}
	}
	
	immediate = {
		random_owned_province = {
			limit = {
				NOT = { fort_level = 1 }
				NOT = { has_province_flag = durvazhatun_terror_rebels }
			}
			save_event_target_as = rebel_stack
			set_province_flag = durvazhatun_terror_rebels
			spawn_rebels = {
				type = durvazhatun_rebels
				size = 1
			}
		}
	}
	
	option = {
		name = flavor_durvazhatun.105.a
		add_yearly_manpower = -0.5
		tooltip = {
			event_target:durvazhatun_terror_rebels = {
				durvazhatun_rebels = 1
			}
		}
	}
}

# 106 - rebel stronghold
country_event = {
	id = flavor_darvazhatun.106
	title = flavor_durvazhatun.106.t
	desc = flavor_durvazhatun.106.d
	picture = ARTWORK_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { has_country_modifier = durvazhatun_one_quiet_night }
		any_owned_province = {
			fort_level = 2
			is_capital = no
			NOT = { has_province_flag = durvazhatun_terror_rebels }
		}
		NOT = {
			any_owned_province = {
				has_province_modifier = durvazhatun_rebel_stronghold
			}
		}
	}
	
	immediate = {
		random_owned_province = {
			limit = {
				fort_level = 2
				is_capital = no
				NOT = { has_province_flag = durvazhatun_terror_rebels }
			}
			save_event_target_as = rebel_stack
			set_province_flag = durvazhatun_terror_rebels
			spawn_rebels = {
				type = durvazhatun_rebels
				size = 2
				win = yes
			}
		}
	}
	
	option = {
		name = flavor_durvazhatun.106.a
		event_target:rebel_stack = {
			add_province_modifier = { 
				name = durvazhatun_rebel_stronghold
				duration = -1  
			}
			tooltip = {
				spawn_rebels = {
					type = durvazhatun_rebels
					size = 2
				}
			}
		}
	}
}

# 107 - end disaster faster 1
country_event = {
	id = flavor_darvazhatun.107
	title = flavor_durvazhatun.107.t
	desc = flavor_durvazhatun.107.d
	picture = ARTWORK_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { has_country_modifier = durvazhatun_one_quiet_night }
	}
	
	option = {
		name = flavor_durvazhatun.107.a
		add_years_of_income = -0.5
		durvazhatun_drop_terror = { large = yes }
	}
	
	option = {
		name = flavor_durvazhatun.107.b
		durvazhatun_drop_terror = { small = yes }
	}
}

# 108 - end disaster faster 2
country_event = {
	id = flavor_darvazhatun.108
	title = flavor_durvazhatun.108.t
	desc = flavor_durvazhatun.108.d
	picture = ARTWORK_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { has_country_modifier = durvazhatun_one_quiet_night }
	}
	
	option = {
		name = flavor_durvazhatun.108.a
		add_adm_power = -100
		add_dip_power = -100
		add_mil_power = -100
		durvazhatun_drop_terror = { large = yes }
	}
	
	option = {
		name = flavor_durvazhatun.108.b
		add_adm_power = -50
		add_dip_power = -50
		add_mil_power = -50
		durvazhatun_drop_terror = { medium = yes }
	}
	
	option = {
		name = flavor_durvazhatun.108.c
		durvazhatun_drop_terror = { small = yes }
	}
}

# 109 - good event 1
country_event = {
	id = flavor_darvazhatun.109
	title = flavor_durvazhatun.109.t
	desc = flavor_durvazhatun.109.d
	picture = ARTWORK_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { has_country_modifier = durvazhatun_one_quiet_night }
	}
	
	option = {
		name = flavor_durvazhatun.109.a
		durvazhatun_drop_terror = { medium = yes }
	}
	
	option = {
		trigger = { NOT = { stability = -1 } }
		add_stability = 1
	}
}

# 110 - good event 2
country_event = {
	id = flavor_darvazhatun.110
	title = flavor_durvazhatun.110.t
	desc = flavor_durvazhatun.110.d
	picture = ARTWORK_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { has_country_modifier = durvazhatun_one_quiet_night }
	}
	
	option = {
		name = flavor_durvazhatun.110.a
		durvazhatun_drop_terror = { medium = yes }
	}
	
	option = {
		add_yearly_manpower = 0.5
		durvazhatun_drop_terror = { small = yes }
	}
}

# 111 - rebel stronghold taken
country_event = {
	id = flavor_darvazhatun.111
	title = flavor_durvazhatun.111.t
	desc = flavor_durvazhatun.111.d
	picture = ARTWORK_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		has_province_modifier = durvazhatun_rebel_stronghold
	}
	
	immediate = {
		random = {
			change = 50
			owner = { set_country_flag = durvazhatun_rebel_stab }
		}
	}
	
	after = {
		clr_country_flag = durvazhatun_rebel_stab
	}
	
	option = {
		name = flavor_durvazhatun.111.a
		owner = {
			if = {
				limit = {
					has_country_flag = durvazhatun_rebel_stab
					NOT = { stability = 0 }
				}
				add_stability = 1
				durvazhatun_drop_terror = { small = yes }
			}
			else = {
				durvazhatun_drop_terror = { large = yes }
			}
		}
		
		remove_province_modifier = durvazhatun_rebel_stronghold
	}
}

# 112 - one quiet night
country_event = {
	id = flavor_darvazhatun.112
	title = flavor_durvazhatun.112.t
	desc = flavor_durvazhatun.112.d
	picture = ARTWORK_eventPicture
	
	is_triggered_only = yes
	fire_only_once = yes
	
	trigger = {
		check_variable = {
			which = durvazhatun_terror_points
			value = 30
		}
		NOT = {
			check_variable = {
				which = durvazhatun_terror_points
				value = 90
			}
		}
		num_of_rebel_armies = 5
	}
	
	option = {
		name = flavor_durvazhatun.111.a
		add_disaster_modifier = {
			name = durvazhatun_one_quiet_night
			duration = 180
			disaster = astral_terror
		}
		if = {
			limit = { NOT = { stability = 0 } }
			add_stability = 1
			durvazhatun_drop_terror = { small = yes }
		}
		else = {
			durvazhatun_drop_terror = { large = yes }
		}
	}
}
