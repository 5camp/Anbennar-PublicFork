namespace = theatre_of_attrition


### Kobold Traps Setup Events
# Build the Traps! (Region Choice)
country_event = {
	id = theatre_of_attrition.1
	title = theatre_of_attrition.1.title
	desc = theatre_of_attrition.1.desc
	picture = RELIGION_eventPicture #Change this

	is_triggered_only = yes

	option = {
		name = theatre_of_attrition.1.a
		trigger = {
			any_owned_province = {
				province_group = kobold_traps_provinces
				region = dragon_coast_region
				has_no_ongoing_construction = yes
				NOT = { has_building = ramparts }
			}
		}
	}
	option = {
		name = theatre_of_attrition.1.b
		trigger = {
			any_owned_province = {
				province_group = kobold_traps_provinces
				OR = {
					region = alenic_frontier_region
					region = alenic_reach_region
				}
				has_no_ongoing_construction = yes
				NOT = { has_building = ramparts }
			}
		}
	}
	option = {
		name = theatre_of_attrition.1.c
		trigger = {
			any_owned_province = {
				province_group = kobold_traps_provinces
				OR = {
					region = lencenor_region
					region = small_country_region
				}
				has_no_ongoing_construction = yes
				NOT = { has_building = ramparts }
			}
		}
	}
	option = {
		name = theatre_of_attrition.1.d
		if = { #if you have a free one, don't give manpower back
			limit = { has_country_flag = emergency_kobold_trap }
			remove_country_modifier = kobold_traps_emergency_cooldown
		}
		else = { # else, give manpower back
			remove_country_modifier = kobold_traps_normal_cooldown
			add_yearly_manpower = 1
		}
	}
}

# Build the traps! (Dragon Coast)
country_event = {
	id = theatre_of_attrition.2
	title = theatre_of_attrition.2.title
	desc = theatre_of_attrition.2.desc
	picture = RELIGION_eventPicture #Change this

	is_triggered_only = yes

	option = {
		name = theatre_of_attrition.2.a
		trigger = {
			any_owned_province = {
				province_group = kobold_traps_provinces
				region = dragon_coast_region
				has_no_ongoing_construction = yes
				NOT = { has_building = ramparts }
			}
		}
	}
	option = {
		name = theatre_of_attrition.2.b
		trigger = {
			any_owned_province = {
				province_group = kobold_traps_provinces
				OR = {
					region = alenic_frontier_region
					region = alenic_reach_region
				}
				has_no_ongoing_construction = yes
				NOT = { has_building = ramparts }
			}
		}
	}
	option = {
		name = theatre_of_attrition.2.c
		trigger = {
			any_owned_province = {
				province_group = kobold_traps_provinces
				OR = {
					region = lencenor_region
					region = small_country_region
				}
				has_no_ongoing_construction = yes
				NOT = { has_building = ramparts }
			}
		}
	}
}