namespace = railskulker

country_event = { #railskulker foederati
	id = railskulker.1
	title = railskulker.1.t
	desc = railskulker.1.d
	picture = TRADEGOODS_eventPicture

	trigger = {
		H75 = {
			has_country_flag = railskulker_clan_army
		}
		is_subject_of = H75
	}

	is_triggered_only = yes
	hidden = yes

	immediate = {
		H75 = {
			country_event = {
				id = railskulker.6
				days = 0
			}
			remove_country_modifier = cave_goblin_snotfinger_rs
			remove_country_modifier = cave_goblin_spiderwretch_rs
			remove_country_modifier = cave_goblin_thieving_arrow_rs
			remove_country_modifier = cave_goblin_greedy_grin_rs
			remove_country_modifier = cave_goblin_truedagger_rs
			remove_country_modifier = cave_goblin_mountainshark_rs
		}
		country_event = {
			id = railskulker.1
			days = 3650
		}
		remove_country_modifier = cave_goblin_snotfinger_rs
		remove_country_modifier = cave_goblin_spiderwretch_rs
		remove_country_modifier = cave_goblin_thieving_arrow_rs
		remove_country_modifier = cave_goblin_greedy_grin_rs
		remove_country_modifier = cave_goblin_truedagger_rs
		remove_country_modifier = cave_goblin_mountainshark_rs
	}
	
	option = {
		name = railskulker.1.a
		capital_scope = {
			add_unit_construction = {
				type = infantry
				amount = 15
				speed = 100
				cost = 0
			}
		}
		ai_chance = { factor = 100 }
	}
}

country_event = { #railskulker military techs
	id = railskulker.2
	title = railskulker.2.t
	desc = railskulker.2.d
	picture = TRADEGOODS_eventPicture

	trigger = {
		OR = {
			tag = H75
			tag = I98
			AND = {
				primary_culture = cave_goblin
				has_institution = manufactories
				has_reform = technocracy
			}
		}
		is_at_war = no
		has_country_flag = railskulker_own_army
	}

	is_triggered_only = yes
	
	option = {
		name = railskulker.2.a
		add_country_modifier = {
			name = cave_goblin_technocracy_mil_1
			duration = 3650
		}
		ai_chance = { factor = 25 }
	}
	option = {
		name = railskulker.2.b
		add_country_modifier = {
			name = cave_goblin_technocracy_mil_1
			duration = 3650
		}
		ai_chance = { factor = 25 }
	}
	option = {
		name = railskulker.2.c
		trigger = {
			has_institution = manufactories
		}
		add_country_modifier = {
			name = cave_goblin_technocracy_mil_2
			duration = 3650
		}
		ai_chance = { factor = 25 }
	}
	option = {
		name = railskulker.2.e
		trigger = {
			has_institution = manufactories
		}
		add_country_modifier = {
			name = cave_goblin_technocracy_mil_3
			duration = 3650
		}
		ai_chance = { factor = 25 }
	}
}

country_event = { #railskulker owning amldihr
	id = railskulker.3
	title = railskulker.3.t
	desc = railskulker.3.d
	picture = TRADEGOODS_eventPicture

	trigger = {
		tag = H75
	}

	major = yes
	major_trigger = {
		capital_scope = {
			continent = serpentspine
		}
	}

	is_triggered_only = yes
	fire_only_once = yes
	
	option = { #goblins are the rulers of the dwarovar
		name = railskulker.3.a
		add_prestige = 50
		ai_chance = { factor = 100 }
	}
}

country_event = { #railskulker the breadth of the dwarovar
	id = railskulker.4
	title = railskulker.4.t
	desc = railskulker.4.d
	picture = TRADEGOODS_eventPicture

	trigger = {
		tag = H75
		is_year = 1500
	}

	is_triggered_only = yes
	fire_only_once = yes
	
	option = { #we now know the enormity of our task
		name = railskulker.4.a
		add_country_modifier = {
			name = railskulker_breadth_of_the_dwarovar
			duration = 5475
		}
		ai_chance = { factor = 100 }
	}
}

country_event = { #railskulker clan levies
	id = railskulker.5
	title = railskulker.5.t
	desc = railskulker.5.d
	picture = TRADEGOODS_eventPicture

	trigger = {
		tag = H75
	}

	is_triggered_only = yes
	fire_only_once = yes
	
	option = { #focus on our own military
		name = railskulker.5.a
		set_country_flag = railskulker_own_army
		add_army_professionalism = 0.025
		swap_non_generic_missions = yes
		ai_chance = { factor = 100 }
	}

	option = { #establish a formal clan levy system
		name = railskulker.5.b
		set_country_flag = railskulker_clan_army
		capital_scope = {
			add_unit_construction = {
				type = infantry
				amount = 5
				speed = 100
				cost = 0
			}
		}
		swap_non_generic_missions = yes
		ai_chance = { factor = 0 }
	}
}

country_event = { #railskulker clan levies yearly
	id = railskulker.6
	title = railskulker.6.t
	desc = railskulker.6.d
	picture = TRADEGOODS_eventPicture

	trigger = {
		tag = H75
	}

	is_triggered_only = yes


	
	option = { #integrate them
		name = railskulker.6.a
		add_army_professionalism = -0.05
		if = {
			limit = {
				FROM = {
					has_country_modifier = cave_goblin_greedy_grin
				}
			}
			add_country_modifier = {
				name = cave_goblin_greedy_grin_rs
				duration = -1
			}
			capital_scope = {
				add_unit_construction = {
					type = infantry
					amount = 1
					speed = 100
					cost = 0
				}
			}
			add_mil_power = 5
			add_army_tradition = 1
		}
		else_if = {
			limit = {
				FROM = {
					has_country_modifier = cave_goblin_mountainshark
				}
			}
			add_country_modifier = {
				name = cave_goblin_mountainshark_rs
				duration = -1
			}
			capital_scope = {
				add_unit_construction = {
					type = infantry
					amount = 1
					speed = 100
					cost = 0
				}
			}
			add_mil_power = 5
			add_army_tradition = 1
		}
		else_if = {
			limit = {
				FROM = {
					has_country_modifier = cave_goblin_snotfinger
				}
			}
			add_country_modifier = {
				name = cave_goblin_snotfinger_rs
				duration = -1
			}
			capital_scope = {
				add_unit_construction = {
					type = infantry
					amount = 1
					speed = 100
					cost = 0
				}
			}
			add_mil_power = 5
			add_army_tradition = 1
		}
		else_if = {
			limit = {
				FROM = {
					has_country_modifier = cave_goblin_spiderwretch
				}
			}
			add_country_modifier = {
				name = cave_goblin_spiderwretch_rs
				duration = -1
			}
			capital_scope = {
				add_unit_construction = {
					type = cavalry
					amount = 1
					speed = 100
					cost = 0
				}
			}
			add_mil_power = 5
			add_army_tradition = 1
		}
		else_if = {
			limit = {
				FROM = {
					has_country_modifier = cave_goblin_thieving_arrow
				}
			}
			add_country_modifier = {
				name = cave_goblin_thieving_arrow_rs
				duration = -1
			}
			capital_scope = {
				add_unit_construction = {
					type = infantry
					amount = 1
					speed = 100
					cost = 0
				}
			}
			add_mil_power = 5
			add_army_tradition = 1
		}
		else_if = {
			limit = {
				FROM = {
					has_country_modifier = cave_goblin_truedagger
				}
			}
			add_country_modifier = {
				name = cave_goblin_truedagger_rs
				duration = -1
			}
			capital_scope = {
				add_unit_construction = {
					type = infantry
					amount = 1
					speed = 100
					cost = 0
				}
			}
			add_mil_power = 5
			add_army_tradition = 1
		}
		else = {
			add_manpower = 10
			add_mil_power = 10
			capital_scope = {
				add_unit_construction = {
					type = infantry
					amount = 1
					speed = 100
					cost = 0
				}
			}
		}
		ai_chance = { factor = 100 }
	}

	option = { #enhance their forces
		name = railskulker.6.b
		add_army_professionalism = -0.05
		FROM = {
			add_army_professionalism = 0.025
			if = {
				limit = {
					NOT = {
						army_size_percentage = 0.75
					}
				}
				capital_scope = {
					add_unit_construction = {
						type = infantry
						amount = 4
						speed = 100
						cost = 0
					}
				}
			}
			else = {
				add_army_tradition = 5
			}
		}

		FROM = {
			if = {
				limit = { 
					mission_completed = g_reforming_the_levy
				}
				add_country_modifier = {
					name = railskulker_helping_our_battleclan_2
					duration = -1
				}
			}
			else_if = {
				limit = { 
					mission_completed = g_teaching_our_battleclans
				}
				add_country_modifier = {
					name = railskulker_helping_our_battleclan_1
					duration = -1
				}
			}
			else = {
				add_country_modifier = {
					name = railskluker_helping_our_battleclan_0
					duration = -1
				}
			}
		}

		if = {
			limit = {
				has_country_modifier = railskulker_citizen_army
			}
			FROM = {
				add_country_modifier = {
					name = railskulker_promises_of_citizenship
				}
			}
		}
		if = {
			limit = {
				has_country_modifier = railskulker_free_market_army
			}
			FROM = {
				add_country_modifier = {
					name = railskulker_cartel_levy
				}
			}
		}
		ai_chance = { factor = 0 }
	}
}

country_event = { #railskulker engineer corps
	id = railskulker.7
	title = railskulker.7.t
	desc = railskulker.7.d
	picture = TRADEGOODS_eventPicture

	trigger = {
		tag = H75
	}

	is_triggered_only = yes
	fire_only_once = yes
	
	option = { #better siege corps
		name = railskulker.7.a
		add_country_modifier = {
			name = railskulker_better_siege_corps
			duration = -1
		}
		ai_chance = { factor = 25 }
	}

	option = { #military engineers in the artillery
		name = railskulker.7.b
		add_country_modifier = {
			name = railskulker_military_engineer_artillery
			duration = -1
		}
		ai_chance = { factor = 75 }
	}
}

country_event = { #railskulker reforming the artillery yards
	id = railskulker.8
	title = railskulker.8.t
	desc = railskulker.8.d
	picture = TRADEGOODS_eventPicture

	trigger = {
		tag = H75
	}

	is_triggered_only = yes
	fire_only_once = yes
	
	option = { #mass production
		name = railskulker.8.a
		add_country_modifier = {
			name = railskulker_mass_production
			duration = -1
		}
		ai_chance = { factor = 75 }
	}

	option = { #quality control
		name = railskulker.8.b
		add_country_modifier = {
			name = railskulker_quality_control
			duration = -1
		}
		ai_chance = { factor = 25 }
	}
}

country_event = { #railskulker technocratic army
	id = railskulker.9
	title = railskulker.9.t
	desc = railskulker.9.d
	picture = TRADEGOODS_eventPicture

	trigger = {
		tag = H75
	}

	is_triggered_only = yes
	fire_only_once = yes
	
	option = { #technology serves the military
		name = railskulker.9.a
		add_country_modifier = {
			name = railskulker_military_engineering
			duration = -1
		}
		ai_chance = { factor = 25 }
	}

	option = { #the military serves technology
		name = railskulker.9.b
		add_country_modifier = {
			name = railskulker_military_theory
			duration = -1
		}
		ai_chance = { factor = 75 }
	}
}

country_event = { #railskulker a goblin army
	id = railskulker.10
	title = railskulker.10.t
	desc = railskulker.10.d
	picture = TRADEGOODS_eventPicture

	trigger = {
		tag = H75
	}

	is_triggered_only = yes
	fire_only_once = yes
	
	option = { #let our military be a pathway to this new thing called citizenship
		name = railskulker.10.a
		add_country_modifier = {
			name = railskulker_citizen_army
			duration = -1
		}
		ai_chance = { factor = 75 }
	}

	option = { #the cartels will equip the levy cheaply. Opening our military to free market forces can only be good.
		name = railskulker.10.b
		add_country_modifier = {
			name = railskulker_free_market_army
			duration = -1
		}
		ai_chance = { factor = 25 }
	}
}