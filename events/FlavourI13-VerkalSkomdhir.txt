
namespace = verkalskomdhir

#The Ranger's Captain Logbook
country_event = {
	id = verkalskomdhir.1
	title = verkalskomdhir.1.t
	desc = verkalskomdhir.1.d
	picture = BIG_BOOK_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	option = {
		name = verkalskomdhir.1.a
		add_prestige = 5
	}
}

#Rangers are ready
country_event = {
	id = verkalskomdhir.2
	title = verkalskomdhir.2.t
	desc = verkalskomdhir.2.d
	picture = SCOTTISH_MERCENARIES_eventPicture_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	option = {
		name = verkalskomdhir.2.a
		define_conquistador = {
			name = "Frandhi Flintstone"
			fire = 4
			shock = 1
			maneuver = 5
			siege = 1
		}
		add_army_tradition = 10
		remove_country_modifier = verkalskomdhir_ranger_training
	}
}

# Build Warding Gate Decision
country_event = {
	id = verkalskomdhir.3
	title = verkalskomdhir.3.t
	desc = verkalskomdhir.3.d
	picture = GREAT_BUILDING_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		hidden_effect = { verkalskomdhir_define_hold_that_can_build_gate = yes }
	}
	
	option = {
        name = verkalskomdhir.3.1
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_1_@ROOT } }
		goto = hold1
		random_owned_province = {
			limit = { has_province_flag = option_hold_1_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.2
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_2_@ROOT } }
		goto = hold2
		random_owned_province = {
			limit = { has_province_flag = option_hold_2_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.3
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_3_@ROOT } }
		goto = hold3
		random_owned_province = {
			limit = { has_province_flag = option_hold_3_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.4
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_4_@ROOT } }
		goto = hold4
		random_owned_province = {
			limit = { has_province_flag = option_hold_4_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.5
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_5_@ROOT } }
		goto = hold5
		random_owned_province = {
			limit = { has_province_flag = option_hold_5_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.6
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_6_@ROOT } }
		goto = hold6
		random_owned_province = {
			limit = { has_province_flag = option_hold_6_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.7
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_7_@ROOT } }
		goto = hold7
		random_owned_province = {
			limit = { has_province_flag = option_hold_7_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.8
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_8_@ROOT } }
		goto = hold8
		random_owned_province = {
			limit = { has_province_flag = option_hold_8_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.9
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_9_@ROOT } }
		goto = hold9
		random_owned_province = {
			limit = { has_province_flag = option_hold_9_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.10
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_10_@ROOT } }
		goto = hold10
		random_owned_province = {
			limit = { has_province_flag = option_hold_10_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.11
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_11_@ROOT } }
		goto = hold11
		random_owned_province = {
			limit = { has_province_flag = option_hold_11_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.12
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_12_@ROOT } }
		goto = hold12
		random_owned_province = {
			limit = { has_province_flag = option_hold_12_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.13
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_13_@ROOT } }
		goto = hold13
		random_owned_province = {
			limit = { has_province_flag = option_hold_13_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.14
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_14_@ROOT } }
		goto = hold14
		random_owned_province = {
			limit = { has_province_flag = option_hold_14_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.15
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_15_@ROOT } }
		goto = hold15
		random_owned_province = {
			limit = { has_province_flag = option_hold_15_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.16
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_16_@ROOT } }
		goto = hold16
		random_owned_province = {
			limit = { has_province_flag = option_hold_16_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.17
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_17_@ROOT } }
		goto = hold17
		random_owned_province = {
			limit = { has_province_flag = option_hold_17_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.18
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_18_@ROOT } }
		goto = hold18
		random_owned_province = {
			limit = { has_province_flag = option_hold_18_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.19
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_19_@ROOT } }
		goto = hold19
		random_owned_province = {
			limit = { has_province_flag = option_hold_19_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.20
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_20_@ROOT } }
		goto = hold20
		random_owned_province = {
			limit = { has_province_flag = option_hold_20_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.21
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_21_@ROOT } }
		goto = hold21
		random_owned_province = {
			limit = { has_province_flag = option_hold_21_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.22
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_22_@ROOT } }
		goto = hold22
		random_owned_province = {
			limit = { has_province_flag = option_hold_22_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.23
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_23_@ROOT } }
		goto = hold23
		random_owned_province = {
			limit = { has_province_flag = option_hold_23_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.24
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_24_@ROOT } }
		goto = hold24
		random_owned_province = {
			limit = { has_province_flag = option_hold_24_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.25
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_25_@ROOT } }
		goto = hold25
		random_owned_province = {
			limit = { has_province_flag = option_hold_25_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.26
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_26_@ROOT } }
		goto = hold26
		random_owned_province = {
			limit = { has_province_flag = option_hold_26_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.27
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_27_@ROOT } }
		goto = hold27
		random_owned_province = {
			limit = { has_province_flag = option_hold_27_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.28
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_28_@ROOT } }
		goto = hold28
		random_owned_province = {
			limit = { has_province_flag = option_hold_28_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
        name = verkalskomdhir.3.29
        ai_chance = { factor = 0 }
		trigger = { any_owned_province = { has_province_flag = option_hold_29_@ROOT } }
		goto = hold29
		random_owned_province = {
			limit = { has_province_flag = option_hold_29_@ROOT }
			add_province_modifier = {
				name = verkalskomdhir_the_warding_gate_4
				duration = -1
			}
		}
		add_treasury = -350
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
	option = {
		name = verkalskomdhir.3.30
		hidden_effect = { verkalskomdhir_clr_gate_menu = yes }
	}
}

# End of the Reforestation Decree
country_event = {
	id = verkalskomdhir.4
	title = verkalskomdhir.4.t
	desc = verkalskomdhir.4.d
	picture = WESTERNISATION_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	option = {
		name = verkalskomdhir.4.a
		every_owned_province = {
			limit = {
				trade_goods = tropical_wood
			}
			remove_province_modifier = verkalskomdhir_anti_deforestation
			add_province_modifier = {
				name = verkalskomdhir_reforestation
				duration = -1
			}
		}
	}
}

# Exotic wood monopoly
country_event = {
	id = verkalskomdhir.5
	title = verkalskomdhir.5.t
	desc = verkalskomdhir.5.d
	picture = TRADE_GOODS_PLANTATION_GOODS_IN_WAREHOUSE_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	option = {
		name = verkalskomdhir.5.a
		change_price = {
			trade_goods = tropical_wood
			key = verkalskomdhir_exotic_wood_monopoly
			value = 0.5
			duration = 3650
		}
	}
}

# The Wooden Halls
country_event = {
	id = verkalskomdhir.6
	title = verkalskomdhir.6.t
	desc = verkalskomdhir.6.d
	picture = UNIVERSITY_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	option = {
		name = verkalskomdhir.6.a
		4100 = {
			remove_province_modifier = verkalskomdhir_halls_construction
			add_province_modifier = {
				name = verkalskomdhir_the_wooden_halls
				duration = -1
			}
		}
	}
}

##########################
##Expedition Event Chain
##########################

#Expedition launch
country_event = {
	id = verkalskomdhir.7
	title = verkalskomdhir.7.t
	desc = verkalskomdhir.7.d
	picture = EXPLORERS_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	option = {
		name = verkalskomdhir.7.a
		treasury = -200
		hidden_effect = {
			country_event = { id = verkalskomdhir.8 days = 60 }
			set_variable = { which = verkalskomdhir_expedition_manpower value = 20000 }
		}
	}
}

#Goblin Ambush
country_event = {
	id = verkalskomdhir.8
	title = verkalskomdhir.8.t
	desc = verkalskomdhir.8.d
	picture = EXPLORERS_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	#Fight like a Dwarf
	option = {
		name = verkalskomdhir.8.a
		add_prestige = 5
		hidden_effect = {
			set_variable = { which = verkalskomdhir_manpower_lost value = 4000 }
			change_variable = { which = verkalskomdhir_expedition_manpower value = -4000 }
			country_event = {
				id = verkalskomdhir.9 days = 1
			}
			set_country_flag = verkalskomdhir_fought_goblins
		}
	}
	
	#Flee lika a pussy
	option = {
		name = verkalskomdhir.8.b
		add_prestige = -10
		hidden_effect = {
			set_variable = { which = verkalskomdhir_manpower_lost value = 2000 }
			change_variable = { which = verkalskomdhir_expedition_manpower value = -2000 }
			country_event = {
				id = verkalskomdhir.9 days = 30
			}
		}
	}
}

#Goblin Ambush - Aftermath
country_event = {
	id = verkalskomdhir.9
	title = verkalskomdhir.9.t
	desc = verkalskomdhir.9.d
	picture = EXPLORERS_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	option = {
		name = verkalskomdhir.9.a
		custom_tooltip = verkalskomdhir_manpower_left_tooltip
		if = {
			limit = { has_country_flag = verkalskomdhir_fought_goblins }
			add_army_tradition = 3
		}
		else = {
			add_army_tradition = 1
		}
		hidden_effect = {
			country_event = { id = verkalskomdhir.10 days = 90 }
		}
	}
}

#Fey Misdirection
country_event = {
	id = verkalskomdhir.10
	title = verkalskomdhir.10.t
	desc = verkalskomdhir.10.d
	picture = EXPLORERS_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	#Wrong direction
	option = {
		name = verkalskomdhir.10.a
		hidden_effect = {
			change_variable = { which = verkalskomdhir_expedition_manpower value = -1000 }
			country_event = { id = verkalskomdhir.10 days = 90 }
		}
	}
	
	#Very wrong direction
	option = {
		name = verkalskomdhir.10.b
		hidden_effect = { 
			change_variable = { which = verkalskomdhir_expedition_manpower value = -2000 }
			country_event = { id = verkalskomdhir.10 days = 120 }
		}
	}
	
	#Good direction
	option = {
		name = verkalskomdhir.10.c
		hidden_effect = {
			country_event = { id = verkalskomdhir.10 days = 60 }
		}
	}
}

#Elven Attack
country_event = {
	id = verkalskomdhir.11
	title = verkalskomdhir.11.t
	desc = verkalskomdhir.11.d
	picture = EXPLORERS_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	immediate = {
		kill_leader = {
			type = "Frandhi Flintstone"
		}
	}
	
	#Fight like a Dwarf
	option = {
		name = verkalskomdhir.11.a
		add_prestige = 5
		set_country_flag = verkalskomdhir_fought_elves
		hidden_effect = {
			set_variable = { which = verkalskomdhir_manpower_lost value = 6000 }
			change_variable = { which = verkalskomdhir_expedition_manpower value = -6000 }
			country_event = { id = verkalskomdhir.12 days = 1 }
		}
	}
	
	#Flee lika a pussy
	option = {
		name = verkalskomdhir.11.b
		add_prestige = -10
		hidden_effect = {
			set_variable = { which = verkalskomdhir_manpower_lost value = 3000 }
			change_variable = { which = verkalskomdhir_expedition_manpower value = -3000 }
			country_event = { id = verkalskomdhir.12 days = 30 }
		}
	}
}

#Elven Attack - Aftermath
country_event = {
	id = verkalskomdhir.12
	title = verkalskomdhir.12.t
	desc = verkalskomdhir.12.d
	picture = EXPLORERS_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	#Continue expedition
	option = {
		name = verkalskomdhir.12.a
		trigger = { has_country_flag = verkalskomdhir_fought_elves }
		custom_tooltip = verkalskomdhir_manpower_left_tooltip
		add_army_tradition = 4
		hidden_effect = {
			set_country_flag = verkalskomdhir_continue
			country_event = { id = verkalskomdhir.13 days = 60 }
		}
	}
	
	#Go back home
	option = {
		name = verkalskomdhir.12.b
		custom_tooltip = verkalskomdhir_manpower_left_tooltip
		if = { 
			limit = { has_country_flag = verkalskomdhir_fought_elves }
			add_army_tradition = 4
		}
		else = {
			add_army_tradition = 2
		}
		add_prestige = -10
		hidden_effect = {
			set_country_flag = verkalskomdhir_go_back
			change_variable = { which = verkalskomdhir_expedition_manpower value = -1000 }
			country_event = { id = verkalskomdhir.14 days = 120 }
		}
	}
}

#Elven Town
country_event = {
	id = verkalskomdhir.13
	title = verkalskomdhir.13.t
	desc = verkalskomdhir.13.d
	picture = EXPLORERS_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	#Attack it
	option = {
		name = verkalskomdhir.13.a
		add_prestige = 5
		hidden_effect = {
			set_variable = { which = verkalskomdhir_manpower_lost value = 6000 }
			change_variable = { which = verkalskomdhir_expedition_manpower value = -6000 }
			set_country_flag = verkalskomdhir_town_attacked
			country_event = { id = verkalskomdhir.14 days = 1 }
		}
	}
	
	#Infiltrate it
	option = {
		name = verkalskomdhir.13.b
		hidden_effect = {
			set_variable = { which = verkalskomdhir_manpower_lost value = 1000 }
			change_variable = { which = verkalskomdhir_expedition_manpower value = -1000 }
			set_country_flag = verkalskomdhir_town_infiltrated
			country_event = { id = verkalskomdhir.14 days = 30 } 
		}
	}
	
	#Ignore it
	option = {
		name = verkalskomdhir.13.c
		add_prestige = -5
		hidden_effect = {
			set_country_flag = verkalskomdhir_town_ignored
			country_event = { id = verkalskomdhir.15 days = 60 }
		}
	}
}

#Elven Town - Aftermath
country_event = {
	id = verkalskomdhir.14
	title = verkalskomdhir.14.t
	desc = verkalskomdhir.14.d
	picture = EXPLORERS_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	option = {
		name = verkalskomdhir.14.a
		custom_tooltip = verkalskomdhir_manpower_left_tooltip
		if = {
			limit = { has_country_flag = verkalskomdhir_town_attacked }
			add_army_tradition = 3
			add_years_of_income = 0.5
		}
		hidden_effect = {
			country_event = { id = verkalskomdhir.15 days = 90 }
		}
	}
}

#Fey Misdirection 2 : It's a Trap !
country_event = {
	id = verkalskomdhir.15
	title = verkalskomdhir.15.t
	desc = verkalskomdhir.15.d
	picture = EXPLORERS_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	#Good Direction
	option = {
		name = verkalskomdhir.15.a
		trigger = {
			NOT = { has_country_flag = verkalskomdhir_town_ignored }
		}
		hidden_effect = {
			country_event = { id = verkalskomdhir.19 days = 120 }
		}
	}
	
	#Worse direction
	option = {
		name = verkalskomdhir.15.b
		hidden_effect = {
			country_event = { id = verkalskomdhir.17 days = 60 }
		}
	}
	
	#Bad direction
	option = {
		name = verkalskomdhir.15.c
		hidden_effect = {
			country_event = { id = verkalskomdhir.16 days = 60 }
		}
	}
}

#Emerald orc ambush - Small
country_event = {
	id = verkalskomdhir.16
	title = verkalskomdhir.16.t
	desc = verkalskomdhir.16.d
	picture = EXPLORERS_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	#Fight like a Dwarf
	option = {
		name = verkalskomdhir.16.a
		add_prestige = 5
		hidden_effect = {
			set_variable = { which = verkalskomdhir_manpower_lost value = 2000 }
			set_country_flag = verkalskomdhir_fought_orcs
			change_variable = { which = verkalskomdhir_expedition_manpower value = -2000 }
			country_event = { id = verkalskomdhir.18 days = 1 }
		}
	}
}

#Emerald orc ambush - Big
country_event = {
	id = verkalskomdhir.17
	title = verkalskomdhir.17.t
	desc = verkalskomdhir.17.d
	picture = EXPLORERS_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	#Fight like a Dwarf
	option = {
		name = verkalskomdhir.17.a
		add_prestige = 5
		hidden_effect = {
			set_variable = { which = verkalskomdhir_manpower_lost value = 4000 }
			set_country_flag = verkalskomdhir_fought_orcs
			change_variable = { which = verkalskomdhir_expedition_manpower value = -4000 }
			country_event = { id = verkalskomdhir.18 days = 1 }
		}
	}
	
	#Flee like a pussy
	option = {
		name = verkalskomdhir.17.b
		add_prestige = -10
		hidden_effect = {
			set_variable = { which = verkalskomdhir_manpower_lost value = 2000 }
			change_variable = { which = verkalskomdhir_expedition_manpower value = -2000 }
			country_event = { id = verkalskomdhir.18 days = 30 }
		}
	}
}

#Emerald Orc Ambush - Aftermath
country_event = {
	id = verkalskomdhir.18
	title = verkalskomdhir.18.t
	desc = verkalskomdhir.18.d
	picture = EXPLORERS_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	option = {
		name = verkalskomdhir.18.a
		custom_tooltip = verkalskomdhir_manpower_left_tooltip
		if = {
			limit = { has_country_flag = verkalskomdhir_fought_orcs }
			add_army_tradition = 3
		}
		else = {
			add_army_tradition = 1
		}
		hidden_effect = {
			country_event = { id = verkalskomdhir.19 days = 60 }
		}
	}
}

#Expedition end
country_event = {
	id = verkalskomdhir.19
	title = verkalskomdhir.19.t
	desc = verkalskomdhir.19.d
	picture = WOUNDED_SOLDIERS_eventPicture
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	option = {
		name = verkalskomdhir.19.a
		if = {
			limit = { 
				OR = { 
					has_country_flag = verkalskomdhir_town_ignored
					has_country_flag = verkalskomdhir_town_infiltrated
				}
			}
			deepwoods_superregion = { discover_country = ROOT }
		}
		else = {
			if = {
				limit = { has_country_flag = verkalskomdhir_fought_goblins }
				ciranhofonn_area = { discover_country = ROOT }
				cenag_area = { discover_country = ROOT }
			}
			if = {
				limit = { has_country_flag = verkalskomdhir_fought_elves }
				fealmyraeth_area = { discover_country = ROOT }
				coryllann_area = { discover_country = ROOT }
			}
			if = {
				limit = { has_country_flag = verkalskomdhir_fought_orcs }
				arsydpydru_area = { discover_country = ROOT }
				ghul_area = { discover_country = ROOT }
			}
			lonfarch_area = { discover_country = ROOT }
			ayeth_area = { discover_country = ROOT }
		}
		if = {
			limit = { has_country_flag = verkalskomdhir_continue }
			define_conquistador = {
				name = "Chad Showmustgoon"
				fire = 5
				shock = 4
				maneuver = 6
				siege = 2
			}
		}
		if = {
			limit = { has_country_flag = verkalskomdhir_go_back }
			define_conquistador = {
				name = "Virgin Gobackhome"
				fire = 4
				shock = 2
				maneuver = 2
				siege = 3
			}
		}
		if = {
			limit = { check_variable = { which = verkalskomdhir_expedition_manpower value = 13000 } }
			add_manpower = 13
		}
		else_if = {
			limit = { check_variable = { which = verkalskomdhir_expedition_manpower value = 12000 } }
			add_manpower = 12
		}
		else_if = {
			limit = { check_variable = { which = verkalskomdhir_expedition_manpower value = 11000 } }
			add_manpower = 11
		}
		else_if = {
			limit = { check_variable = { which = verkalskomdhir_expedition_manpower value = 10000 } }
			add_manpower = 10
		}
		else_if = {
			limit = { check_variable = { which = verkalskomdhir_expedition_manpower value = 9000 } }
			add_manpower = 9
		}
		else_if = {
			limit = { check_variable = { which = verkalskomdhir_expedition_manpower value = 8000 } }
			add_manpower = 8
		}
		else_if = {
			limit = { check_variable = { which = verkalskomdhir_expedition_manpower value = 7000 } }
			add_manpower = 7
		}
		else_if = {
			limit = { check_variable = { which = verkalskomdhir_expedition_manpower value = 6000 } }
			add_manpower = 6
		}
		else_if = {
			limit = { check_variable = { which = verkalskomdhir_expedition_manpower value = 5000 } }
			add_manpower = 5
		}
		else_if = {
			limit = { check_variable = { which = verkalskomdhir_expedition_manpower value = 4000 } }
			add_manpower = 4
		}
		else_if = {
			limit = { check_variable = { which = verkalskomdhir_expedition_manpower value = 3000 } }
			add_manpower = 3
		}
		else = {
			add_manpower = 2
		}
		lonfarch_area = {
			limit = {
				NOT = { owned_by = ROOT }
				NOT = { is_permanent_claim = ROOT }
			}
			add_permanent_claim = ROOT
		}
		ayeth_area = {
			limit = {
				NOT = { owned_by = ROOT }
				NOT = { is_permanent_claim = ROOT }
			}
			add_permanent_claim = ROOT
		}
	}
	
	after = {
		set_country_flag = verkalskomdhir_expedition_end
		clr_country_flag = verkalskomdhir_fought_goblins
		clr_country_flag = verkalskomdhir_fought_elves
		clr_country_flag = verkalskomdhir_fought_orcs
		clr_country_flag = verkalskomdhir_continue
		clr_country_flag = verkalskomdhir_go_back
		clr_country_flag = verkalskomdhir_town_attacked
		clr_country_flag = verkalskomdhir_town_infiltrated
		clr_country_flag = verkalskomdhir_town_ignored
	}
}
