
namespace = dwarven_pantheon

#1-29 ritual effects
#30-99 deity discovery
#100-199 rediscovery process
#200-299 disaster
#300+ misc



################################
### Ritual Effects ###
################################
#Dagrin effect
country_event = {
	id = dwarven_pantheon.1
	title = dwarven_pantheon.1.t
	desc = dwarven_pantheon.1.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	trigger = { religion = dwarven_pantheon }

	option = {
		name = dwarven_pantheon.1.a
		add_stability_or_adm_power = yes

		if = {
			limit = { has_dwarven_pantheon_deity = { deity = dolurazan } }
			custom_tooltip = dwarven_pantheon_ritual_has_dolurazan_tooltip
			add_adm_power = 25
		}

		if = {
			limit = { has_dwarven_pantheon_deity = { deity = derzobrazan } }
			custom_tooltip = dwarven_pantheon_ritual_has_derzobrazan_tooltip
			add_dip_power = 25
		}
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = bervinazan } }
			custom_tooltip = dwarven_pantheon_ritual_has_bervinazan_tooltip
			add_mil_power = 25
		}
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = karazlov } }
			custom_tooltip = dwarven_pantheon_ritual_has_karazlov_tooltip
			if = {
				limit = { any_ally = { NOT = { trust = { who = ROOT value = 99 } } } }
				random_ally = {
					limit = { NOT = { trust = { who = ROOT value = 99 } } }
					add_trust = { who = ROOT value = 5 }
				}
			}
			else = { add_church_power = 25 }
		}
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = grimthar } }
			custom_tooltip = dwarven_pantheon_ritual_has_grimthar_tooltip
			add_mercantilism = 1
		}
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = verdrik } }
			custom_tooltip = dwarven_pantheon_ritual_has_verdrik_tooltip
			add_prestige = 5
		}
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = thyrfen } }
			custom_tooltip = dwarven_pantheon_ritual_has_thyrfen_tooltip
			add_yearly_manpower = 0.03
		}
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = werdun } }
			custom_tooltip = dwarven_pantheon_ritual_has_werdun_tooltip
			add_inflation = -1
		}
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = logrim } }
			custom_tooltip = dwarven_pantheon_ritual_has_logrim_tooltip
			if = {
				limit = { any_rival_country = { NOT = { has_spy_network_from = { who = ROOT value = 80 } } } }
				random_rival_country = {
					limit = { NOT = { has_spy_network_from = { who = ROOT value = 80 } } }
					add_spy_network_from = { who = ROOT value = 25 }
				}
			}
			else = { add_church_power = 25 }
		}
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = logram } }
			custom_tooltip = dwarven_pantheon_ritual_has_logram_tooltip
			add_church_power = 25
		}
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = grobilazk } }
			custom_tooltip = dwarven_pantheon_ritual_has_grobilazk_tooltip
			add_years_of_income = 0.05
		}
	}
}

#Anvelind effect
country_event = {
	id = dwarven_pantheon.2
	title = dwarven_pantheon.2.t
	desc = dwarven_pantheon.2.d
	picture = COURT_eventPicture
	
	is_triggered_only = yes
	trigger = { religion = dwarven_pantheon }

	option = {
		name = dwarven_pantheon.2.a
		if = {
			limit = { has_spawned_rebels = nationalist_rebels }
			disband_rebels = nationalist_rebels
		}
		else_if = {
			limit = { has_spawned_rebels = pretender_rebels }
			disband_rebels = pretender_rebels
		}
		else_if = {
			limit = { has_spawned_rebels = anti_tax_rebels }
			disband_rebels = anti_tax_rebels
		}
		else_if = {
			limit = { has_spawned_rebels = particularist_rebels }
			disband_rebels = particularist_rebels
		}
		else_if = {
			limit = { has_spawned_rebels = noble_rebels }
			disband_rebels = noble_rebels
		}

		#dolurazan
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = dolurazan } }
			custom_tooltip = dwarven_pantheon_ritual_has_dolurazan_tooltip
			if = {
				limit = { has_estate = estate_nobles }
				add_estate_loyalty = { estate = estate_nobles loyalty = 5 }
			}
			else = { add_church_power = 25 }
		}
		#derzobrazan
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = derzobrazan } }
			custom_tooltip = dwarven_pantheon_ritual_has_derzobrazan_tooltip
			if = {
				limit = { has_estate = estate_burghers }
				add_estate_loyalty = { estate = estate_burghers loyalty = 5 }
			}
			else = { add_church_power = 25 }
		}
		#bervinazan
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = bervinazan } }
			custom_tooltip = dwarven_pantheon_ritual_has_bervinazan_tooltip
			if = {
				limit = { has_estate = estate_church }
				add_estate_loyalty = { estate = estate_church loyalty = 5 }
			}
			else = { add_church_power = 25 }
		}
		#karazlov
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = karazlov } }
			custom_tooltip = dwarven_pantheon_ritual_has_karazlov_tooltip
			if = {
				limit = { any_owned_province = { unrest = 1 } }
				random_owned_province = {
					limit = { unrest = 1 }
					add_province_modifier = { name = anvelind_karazlov_modifier duration = 1825 }
				}
			}
			else = { add_church_power = 25 }
		}
		#grimthar
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = grimthar } }
			custom_tooltip = dwarven_pantheon_ritual_has_grimthar_tooltip
			if = {
				limit = { any_owned_province = { local_autonomy = 20 } }
				random_owned_province = {
					limit = { local_autonomy = 20 }
					add_local_autonomy = -20
				}
			}
			else = { add_church_power = 25 }
		}
		#verdrik
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = verdrik } }
			custom_tooltip = dwarven_pantheon_ritual_has_verdrik_tooltip
			change_estate_land_share = { estate = all share = -1 }
		}
		#thyrfen
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = thyrfen } }
			custom_tooltip = dwarven_pantheon_ritual_has_thyrfen_tooltip
			if = {
				limit = { 
					has_dlc = "Mandate of Heaven" 
					any_owned_province = { is_prosperous = no }
				}
				random_owned_province = {
					limit = { is_prosperous = no }
					add_prosperity = 10
				}
			}
			else = { add_church_power = 25 }
		}
		#werdun
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = werdun } }
			custom_tooltip = dwarven_pantheon_ritual_has_werdun_tooltip
			if = {
				limit = { has_estate = estate_artificers }
				add_estate_loyalty = { estate = estate_artificers loyalty = 5 }
			}
			else = { add_church_power = 25 }
		}
		#logrim
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = logrim } }
			custom_tooltip = dwarven_pantheon_ritual_has_logrim_tooltip
			if = {
				limit = { has_estate = estate_adventurers }
				add_estate_loyalty = { estate = estate_adventurers loyalty = 5 }
			}
			else = { add_church_power = 25 }
		}
		#logram
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = logram } }
			custom_tooltip = dwarven_pantheon_ritual_has_logram_tooltip
			define_advisor = {
				type = theologian
				cost_multiplier = 0.75
				religion = dwarven_pantheon
				culture = ROOT
			}
		}
		#grobilazk
		if = {
			limit = { has_dwarven_pantheon_deity = { deity = grobilazk } }
			custom_tooltip = dwarven_pantheon_ritual_has_grobilazk_tooltip
			add_country_modifier = { name = anvelind_grobilazk_modifier duration = 1825 }
		}
	}
}