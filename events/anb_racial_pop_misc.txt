namespace = racial_pop_misc

#Pop Control Menu
country_event = {
	id = racial_pop_misc.1
	title = racial_pop_misc.1.t
	desc = racial_pop_misc.1.d
	picture = DEBATE_REPUBLICAN_eventPicture
	
	trigger = {

	}
	
	is_triggered_only = yes
	
	mean_time_to_happen = {
		days = 1
	}

	option = {		#Dwarves
		name = racial_pop_misc.1.a
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				ai_lower_than_wanted_tolerance_dwarven = yes
			}
			modifier = {
				factor = 1.5
				low_tolerance_dwarven_race_trigger = no
			}
			modifier = {
				factor = 0.1
				NOT = { has_low_tolerance_minority_trigger = yes }
			}
			modifier = {
				factor = 2
				calc_true_if = {
					all_owned_province = {
						has_oppressed_dwarven_pop_trigger = yes	
					}
					amount = 20
				}
			}
		}
		
		country_event = { 
			id = racial_pop_events_dwarven.12
		}
		
		#Prevents AI spamming and revoking too soon
		hidden_effect = {
			if = {
				limit = {
					ai = yes
				}
				add_country_modifier = { 
					name = racial_pop_menu_cooldown
					duration = 3650
					hidden = yes
				}
			}
		}
		
	}
	option = {		#Elven
		name = racial_pop_misc.1.c
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				ai_lower_than_wanted_tolerance_elven = yes
			}
			modifier = {
				factor = 1.5
				low_tolerance_elven_race_trigger = yes
			}
			modifier = {
				factor = 0.1
				NOT = { has_low_tolerance_minority_trigger = yes }
			}
			modifier = {
				factor = 2
				calc_true_if = {
					all_owned_province = {
						has_oppressed_elven_pop_trigger = yes	
					}
					amount = 20
				}
			}
		}
		
		country_event = { 
			id = racial_pop_events_elven.12
		}
		
		#Prevents AI spamming and revoking too soon
		hidden_effect = {
			if = {
				limit = {
					ai = yes
				}
				add_country_modifier = { 
					name = racial_pop_menu_cooldown
					duration = 3650
					hidden = yes
				}
			}
		}
		
		
	}
	option = {		#Gnolls
		name = racial_pop_misc.1.dd
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				ai_lower_than_wanted_tolerance_gnollish = yes
			}
			modifier = {
				factor = 1.5
				low_tolerance_gnollish_race_trigger = yes
			}
			modifier = {
				factor = 0.1
				NOT = { has_low_tolerance_minority_trigger = yes }
			}
			modifier = {
				factor = 2
				calc_true_if = {
					all_owned_province = {
						has_oppressed_gnollish_pop_trigger = yes	
					}
					amount = 20
				}
			}
		}
		
		country_event = { 
			id = racial_pop_events_gnollish.12
		}
		
		#Prevents AI spamming and revoking too soon
		hidden_effect = {
			if = {
				limit = {
					ai = yes
				}
				add_country_modifier = { 
					name = racial_pop_menu_cooldown
					duration = 3650
					hidden = yes
				}
			}
		}
	}
	option = {		#Gnomish
		name = racial_pop_misc.1.e
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				ai_lower_than_wanted_tolerance_gnomish = yes
			}
			modifier = {
				factor = 1.5
				low_tolerance_gnomish_race_trigger = yes
			}
			modifier = {
				factor = 0.1
				NOT = { has_low_tolerance_minority_trigger = yes }
			}
			modifier = {
				factor = 2
				calc_true_if = {
					all_owned_province = {
						has_oppressed_gnomish_pop_trigger = yes	
					}
					amount = 20
				}
			}
		}
		
		country_event = { 
			id = racial_pop_events_gnomish.12
		}
		
		#Prevents AI spamming and revoking too soon
		hidden_effect = {
			if = {
				limit = {
					ai = yes
				}
				add_country_modifier = { 
					name = racial_pop_menu_cooldown
					duration = 3650
					hidden = yes
				}
			}
		}
		
	}
	option = {		#Goblin
		name = racial_pop_misc.1.f
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				ai_lower_than_wanted_tolerance_goblin = yes
			}
			modifier = {
				factor = 1.5
				low_tolerance_goblin_race_trigger = yes
			}
			modifier = {
				factor = 0.1
				NOT = { has_low_tolerance_minority_trigger = yes }
			}
			modifier = {
				factor = 2
				calc_true_if = {
					all_owned_province = {
						has_oppressed_goblin_pop_trigger = yes	
					}
					amount = 20
				}
			}
		}
		
		country_event = { 
			id = racial_pop_events_goblin.12
		}
		
		#Prevents AI spamming and revoking too soon
		hidden_effect = {
			if = {
				limit = {
					ai = yes
				}
				add_country_modifier = { 
					name = racial_pop_menu_cooldown
					duration = 3650
					hidden = yes
				}
			}
		}
		
	}
	option = {		#Half-elven
		name = racial_pop_misc.1.g
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				ai_lower_than_wanted_tolerance_half_elven = yes
			}
			modifier = {
				factor = 1.5
				low_tolerance_half_elven_race_trigger = yes
			}
			modifier = {
				factor = 0.1
				NOT = { has_low_tolerance_minority_trigger = yes }
			}
			modifier = {
				factor = 2
				calc_true_if = {
					all_owned_province = {
						has_oppressed_half_elven_pop_trigger = yes	
					}
					amount = 20
				}
			}
		}
		
		country_event = { 
			id = racial_pop_events_half_elven.12
		}
		
		#Prevents AI spamming and revoking too soon
		hidden_effect = {
			if = {
				limit = {
					ai = yes
				}
				add_country_modifier = { 
					name = racial_pop_menu_cooldown
					duration = 3650
					hidden = yes
				}
			}
		}
		
	}
	option = {		#Half-orcish
		name = racial_pop_misc.1.h
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				ai_lower_than_wanted_tolerance_half_orcish = yes
			}
			modifier = {
				factor = 1.5
				low_tolerance_half_orcish_race_trigger = yes
			}
			modifier = {
				factor = 0.1
				NOT = { has_low_tolerance_minority_trigger = yes }
			}
			modifier = {
				factor = 2
				calc_true_if = {
					all_owned_province = {
						has_oppressed_half_orcish_pop_trigger = yes	
					}
					amount = 20
				}
			}
		}
		
		country_event = { 
			id = racial_pop_events_half_orcish.12
		}
		
		#Prevents AI spamming and revoking too soon
		hidden_effect = {
			if = {
				limit = {
					ai = yes
				}
				add_country_modifier = { 
					name = racial_pop_menu_cooldown
					duration = 3650
					hidden = yes
				}
			}
		}
		
	}
	option = {		#Halfling
		name = racial_pop_misc.1.i
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				ai_lower_than_wanted_tolerance_halfling = yes
			}
			modifier = {
				factor = 1.5
				low_tolerance_halfling_race_trigger = yes
			}
			modifier = {
				factor = 0.1
				NOT = { has_low_tolerance_minority_trigger = yes }
			}
			modifier = {
				factor = 2
				calc_true_if = {
					all_owned_province = {
						has_oppressed_halfling_pop_trigger = yes	
					}
					amount = 20
				}
			}
		}
		
		country_event = { 
			id = racial_pop_events_halfling.12
		}
		
		#Prevents AI spamming and revoking too soon
		hidden_effect = {
			if = {
				limit = {
					ai = yes
				}
				add_country_modifier = { 
					name = racial_pop_menu_cooldown
					duration = 3650
					hidden = yes
				}
			}
		}
		
	}
	option = {		#Dwarves
		name = racial_pop_misc.1.j
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				ai_lower_than_wanted_tolerance_harpy = yes
			}
			modifier = {
				factor = 1.5
				low_tolerance_harpy_race_trigger = yes
			}
			modifier = {
				factor = 0.1
				NOT = { has_low_tolerance_minority_trigger = yes }
			}
			modifier = {
				factor = 2
				calc_true_if = {
					all_owned_province = {
						has_oppressed_harpy_pop_trigger = yes	
					}
					amount = 20
				}
			}
		}
		
		country_event = { 
			id = racial_pop_events_harpy.12
		}
		
		#Prevents AI spamming and revoking too soon
		hidden_effect = {
			if = {
				limit = {
					ai = yes
				}
				add_country_modifier = { 
					name = racial_pop_menu_cooldown
					duration = 3650
					hidden = yes
				}
			}
		}
		
	}
	option = {		#Human
		name = racial_pop_misc.1.k
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				ai_lower_than_wanted_tolerance_human = yes
			}
			modifier = {
				factor = 1.5
				low_tolerance_human_race_trigger = yes
			}
			modifier = {
				factor = 0.1
				NOT = { has_low_tolerance_minority_trigger = yes }
			}
			modifier = {
				factor = 2
				calc_true_if = {
					all_owned_province = {
						has_oppressed_human_pop_trigger = yes	
					}
					amount = 20
				}
			}
		}
		
		country_event = { 
			id = racial_pop_events_human.12
		}
		
		#Prevents AI spamming and revoking too soon
		hidden_effect = {
			if = {
				limit = {
					ai = yes
				}
				add_country_modifier = { 
					name = racial_pop_menu_cooldown
					duration = 3650
					hidden = yes
				}
			}
		}
		
	}
	option = {		#Kobold
		name = racial_pop_misc.1.l
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				ai_lower_than_wanted_tolerance_kobold = yes
			}
			modifier = {
				factor = 1.5
				low_tolerance_kobold_race_trigger = yes
			}
			modifier = {
				factor = 0.1
				NOT = { has_low_tolerance_minority_trigger = yes }
			}
			modifier = {
				factor = 2
				calc_true_if = {
					all_owned_province = {
						has_oppressed_kobold_pop_trigger = yes	
					}
					amount = 20
				}
			}
		}
		
		country_event = { 
			id = racial_pop_events_kobold.12
		}
		
		#Prevents AI spamming and revoking too soon
		hidden_effect = {
			if = {
				limit = {
					ai = yes
				}
				add_country_modifier = { 
					name = racial_pop_menu_cooldown
					duration = 3650
					hidden = yes
				}
			}
		}
		
	}
	option = {		#Orcish
		name = racial_pop_misc.1.m
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				ai_lower_than_wanted_tolerance_orcish = yes
			}
			modifier = {
				factor = 1.5
				low_tolerance_orcish_race_trigger = yes
			}
			modifier = {
				factor = 0.1
				NOT = { has_low_tolerance_minority_trigger = yes }
			}
			modifier = {
				factor = 2
				calc_true_if = {
					all_owned_province = {
						has_oppressed_orcish_pop_trigger = yes	
					}
					amount = 20
				}
			}
		}
		
		country_event = { 
			id = racial_pop_events_orcish.12
		}
		
		#Prevents AI spamming and revoking too soon
		hidden_effect = {
			if = {
				limit = {
					ai = yes
				}
				add_country_modifier = { 
					name = racial_pop_menu_cooldown
					duration = 3650
					hidden = yes
				}
			}
		}
		
	}
	option = {		#Ruinborn
		name = racial_pop_misc.1.n
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				ai_lower_than_wanted_tolerance_ruinborn = yes
			}
			modifier = {
				factor = 1.5
				low_tolerance_ruinborn_race_trigger = yes
			}
			modifier = {
				factor = 0.1
				NOT = { has_low_tolerance_minority_trigger = yes }
			}
			modifier = {
				factor = 2
				calc_true_if = {
					all_owned_province = {
						has_oppressed_ruinborn_pop_trigger = yes	
					}
					amount = 20
				}
			}
		}
		
		country_event = { 
			id = racial_pop_events_ruinborn.12
		}
		
		#Prevents AI spamming and revoking too soon
		hidden_effect = {
			if = {
				limit = {
					ai = yes
				}
				add_country_modifier = { 
					name = racial_pop_menu_cooldown
					duration = 3650
					hidden = yes
				}
			}
		}
		
	}
	option = {		#Troll
		name = racial_pop_misc.1.o
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				ai_lower_than_wanted_tolerance_troll = yes
			}
			modifier = {
				factor = 1.5
				low_tolerance_troll_race_trigger = yes
			}
			modifier = {
				factor = 0.1
				NOT = { has_low_tolerance_minority_trigger = yes }
			}
			modifier = {
				factor = 2
				calc_true_if = {
					all_owned_province = {
						has_oppressed_troll_pop_trigger = yes	
					}
					amount = 20
				}
			}
		}
		
		country_event = { 
			id = racial_pop_events_troll.12
		}
		
		#Prevents AI spamming and revoking too soon
		hidden_effect = {
			if = {
				limit = {
					ai = yes
				}
				add_country_modifier = { 
					name = racial_pop_menu_cooldown
					duration = 3650
					hidden = yes
				}
			}
		}
		
	}
	

	option = {		#Back
		name = racial_pop_misc.1.b
		ai_chance = {
			factor = 80
			modifier = {
				factor = 5
				OR = {
					ruler_has_personality = tolerant_personality
					ruler_has_personality = kind_hearted_personality
					ruler_has_personality = benevolent_personality
					ruler_has_personality = careful_personality
					ruler_has_personality = just_personality
				}
			}
		}
		
		#Prevents AI spamming and revoking too soon
		hidden_effect = {
			if = {
				limit = {
					ai = yes
				}
				add_country_modifier = { 
					name = racial_pop_menu_cooldown
					duration = 3650
					hidden = yes
				}
			}
		}
		

		
	}
}

#Half-orc Creation
#Purge - Minority Purged
country_event = {
	id = racial_pop_misc.2
	title = racial_pop_misc.2.t
	desc = racial_pop_misc.2.d
	picture = REFUGEES_ESCAPING_eventPicture
	
	trigger = {
		OR = {
			any_owned_province = {	#Human primary culture, orc minority
				has_orcish_minority_trigger = yes
				culture_group_is_human = yes
				NOT = { has_half_orcish_minority_trigger = yes }
				is_core = ROOT
			}
			any_owned_province = {	#Orc primary culture, orc minority
				has_human_minority_trigger = yes
				culture_group = orcish
				NOT = { has_half_orcish_minority_trigger = yes }
				is_core = ROOT
			}
		}
		
	}
	
	mean_time_to_happen = {
		days = 7300
		modifier = {
			factor = 0.25
			calc_true_if = {
				all_owned_province = {
					has_orcish_minority_trigger = yes
					culture_group_is_human = yes
					is_core = ROOT
				}
				amount = 20
			}
		}
		modifier = {
			factor = 0.25
			calc_true_if = {
				all_owned_province = {
					has_human_minority_trigger = yes
					culture_group = orcish
					is_core = ROOT
				}
				amount = 20
			}
		}
	}
	
	immediate = {
	
		#Origin Province Setter
		
		#Make this the monstrous purge thing
		hidden_effect = {
			random_owned_province = {
				limit = {
					has_human_minority_trigger = yes
					culture_group = orcish
					NOT = { has_half_orcish_minority_trigger = yes }
					is_core = ROOT
				}
				save_event_target_as = racial_pop_province_target
			}
			random_owned_province = {
				limit = {
					has_human_minority_trigger = yes
					culture_group = orcish
					NOT = { has_half_orcish_minority_trigger = yes }
					development = 10
					is_core = ROOT
				}
				save_event_target_as = racial_pop_province_target
			}
			random_owned_province = {
				limit = {
					has_human_minority_trigger = yes
					culture_group = orcish
					NOT = { has_half_orcish_minority_trigger = yes }
					development = 20
					is_core = ROOT
				}
				save_event_target_as = racial_pop_province_target
			}
			
			random_owned_province = {
				limit = {
					has_orcish_minority_trigger = yes
					culture_group_is_human = yes
					NOT = { has_half_orcish_minority_trigger = yes }
					is_core = ROOT
				}
				save_event_target_as = racial_pop_province_target
			}
			random_owned_province = {
				limit = {
					has_orcish_minority_trigger = yes
					culture_group_is_human = yes
					NOT = { has_half_orcish_minority_trigger = yes }
					development = 10
					is_core = ROOT
				}
				save_event_target_as = racial_pop_province_target
			}
			random_owned_province = {
				limit = {
					has_orcish_minority_trigger = yes
					culture_group_is_human = yes
					NOT = { has_half_orcish_minority_trigger = yes }
					development = 20
					is_core = ROOT
				}
				save_event_target_as = racial_pop_province_target
			}
		}
			
		
	}
	
	#Half-orc
	option = {		
		name = racial_pop_misc.2.a
		trigger = {
			
		}
		ai_chance = {
			factor = 50
		}
		
		if = {
			limit = {
				event_target:racial_pop_province_target = {
					has_orcish_minority_trigger = yes
					culture_group_is_human = yes
				}
			}
			event_target:racial_pop_province_target = {
				remove_orcish_minority_size_effect = yes
				add_half_orcish_minority_size_effect = yes
			}
		}
		
		if = {
			limit = {
				event_target:racial_pop_province_target = {
					has_human_minority_trigger = yes
					culture_group = orcish
				}
			}
			event_target:racial_pop_province_target = {
				remove_human_minority_size_effect = yes
				add_half_orcish_minority_size_effect = yes
			}
		}
		
	}
	
}