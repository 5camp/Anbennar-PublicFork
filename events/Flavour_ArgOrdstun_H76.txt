namespace = flavour_ordstun

country_event = {
	id = flavour_ordstun.0
	title = flavour_ordstun.0.t
	desc = flavour_ordstun.0.d
	picture = BANKRUPTCY_eventPicture

	fire_only_once = yes

	hidden = yes

	is_triggered_only = yes

	trigger = {
		tag = H76
	}

	option = {
		name = flavour_ordstun.1.a
		set_estate_privilege = estate_burghers_the_gromdhal_guild
	}
}

country_event = {
	id = flavour_ordstun.1
	title = flavour_ordstun.1.t
	desc = flavour_ordstun.1.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.1.a
		add_prestige = 10
		custom_tooltip = H76_increased_gem_chance
		set_country_flag = H76_increased_gem_chance
	}
}

country_event = {
	id = flavour_ordstun.2
	title = flavour_ordstun.2.t
	desc = flavour_ordstun.2.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.1.a
		H77 = {
			country_event = {
				id = flavour_ordstun.3
				days = 45
				random = 15
			}
		}
	}
}

country_event = {
	id = flavour_ordstun.3
	title = flavour_ordstun.3.t
	desc = flavour_ordstun.3.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.3.a
		trigger = {
			H76 = {
				reverse_has_opinion = {
					who = PREV
					value = 100
				}
			}
			if = {
				limit = {
					H77 = {
						is_subject = yes
						overlord = {
							ai = no
						}
					}
				}
				NOT = {
					H77 = {
						overlord = {
							ai = no
						}
					}
				}
			}
		}
		if = {
			limit = {
				H76 = {
					reverse_has_opinion = {
						who = PREV
						value = 180
					}
				}
			}
			country_event = {
				id = flavour_ordstun.4
			}
		}
		else_if = {
			limit = {
				H76 = {
					NOT = {
						reverse_has_opinion = {
							who = PREV
							value = 180
						}
					}
				}
				H76 = {
					reverse_has_opinion = {
						who = PREV
						value = 100
					}
				}
			}
			random_list = {
				1 = {
					add_manpower = 5
					H76 = {
						country_event = {
							id = flavour_ordstun.5
						}
					}
				}
				1= {
					country_event = {
						id = flavour_ordstun.4
					}
				}
			}
		}
	}

	option = {
		name = flavour_ordstun.3.b
		trigger = {
			OR = {
				ai = no
				H76 = {
					NOT = {
						reverse_has_opinion = {
							who = PREV
							value = 100
						}
					}
				}
				if = {
					limit = {
						H77 = {
							is_subject = yes
							overlord = {
								ai = no
							}
						}
					}
					H77 = {
						overlord = {
							ai = no
						}
					}
				}
			}
		}
		add_manpower = 5
		H76 = {
			country_event = {
				id = flavour_ordstun.5
			}
		}
	}
}

country_event = {
	id = flavour_ordstun.4
	title = flavour_ordstun.4.t
	desc = flavour_ordstun.4.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.4.a
		vassalize = H77
	}
}

country_event = {
	id = flavour_ordstun.5
	title = flavour_ordstun.5.t
	desc = flavour_ordstun.5.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.5.a
		add_casus_belli = {
			type = cb_vassalize_mission
			target = H77
			months = 240
		}
		ovdal_lodhum_area = {
			add_permanent_claim = ROOT
		}
		if = {
			limit = {
				marriage_with = H77
			}
			break_marriage = H77
		}
		H77 = {
			add_opinion = {
				who = ROOT
				modifier = H76_angry
			}
			reverse_add_opinion = {
				who = ROOT
				modifier = H76_angry
			}
		}
	}
}

country_event = {
	id = flavour_ordstun.6
	title = flavour_ordstun.6.t
	desc = flavour_ordstun.6.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.7.a
		add_manpower = -0.5
		526 = {
			add_base_manpower = -1
		}
		add_casus_belli = {
			type = cb_humiliate
			target = H76
			months = 240
		}
		add_historical_rival = H76
		add_rival = H76
		H76 = {
			country_event = {
				id = flavour_ordstun.7
			}
		}
	}
}

country_event = {
	id = flavour_ordstun.7
	title = flavour_ordstun.7.t
	desc = flavour_ordstun.7.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.7.a
		add_historical_rival = F23
		add_rival = F23
	}
}

country_event = {
	id = flavour_ordstun.8
	title = flavour_ordstun.8.t
	desc = flavour_ordstun.8.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.8.a
		serpentreach_region = {
			add_permanent_claim = ROOT
		}
		add_country_modifier = {
			name = H76_renewed_reclamation
			duration = 300
		}
	}
}

country_event = {
	id = flavour_ordstun.9
	title = flavour_ordstun.9.t
	desc = flavour_ordstun.9.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	trigger = {
		A20 = {
			exists = yes
		}
	}

	option = {
		name = flavour_ordstun.9.a
		add_stability = -1
		add_country_modifier = {
			name = H76_slandered_merchants
			duration = 480
		}
		country_event = {
			id = flavour_ordstun.10
			days = 135
			random = 45
		}
	}
}

country_event = {
	id = flavour_ordstun.10
	title = flavour_ordstun.10.t
	desc = flavour_ordstun.10.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	trigger = {
		A20 = {
			exists = yes
		}
	}

	option = {
		name = flavour_ordstun.10.a
		add_historical_rival = A20
		A20 = {
			add_historical_rival = ROOT
			add_opinion = {
				who = ROOT
				modifier = H76_eternal_rivals
			}
			reverse_add_opinion = {
				who = ROOT
				modifier = H76_eternal_rivals
			}
		}
		set_country_flag = H76_received_ruby_letter
	}
}

country_event = {
	id = flavour_ordstun.11
	title = flavour_ordstun.11.t
	desc = flavour_ordstun.11.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.11.a
		add_adm_power = 50
		add_mil_power = 50
		add_dip_power = 50
		if = {
			limit = {
				has_government_mechanic = argordstun_roughness_mechanic
			}
			add_government_power = {
				mechanic_type = argordstun_roughness_mechanic
				power_type = argordstun_roughness_power
				value = -5
			}
		}
		else_if = {
			limit = {
				has_government_mechanic = argordstun_luster_mechanic
			}
			add_government_power = {
				mechanic_type = argordstun_luster_mechanic
				power_type = argordstun_luster_power
				value = 20
			}
		}
		add_estate_loyalty = {
			estate = estate_nobles
			loyalty = -30
		}
		4093 = {
			spawn_rebels = {
				type = noble_rebels
				estate = estate_nobles
				size = 2
			}
		}
	}

	option = {
		name = flavour_ordstun.11.b
		define_advisor = {
			type = artist
			cost_multiplier = 0.1
			skill = 3
		}
		add_estate_loyalty = {
			estate = estate_burghers
			loyalty = 20
		}
		custom_tooltip = H76_skip_aul_dwarov_tt
		set_country_flag = H76_skip_aul_dwarov
	}
}

country_event = {
	id = flavour_ordstun.12
	title = flavour_ordstun.12.t
	desc = flavour_ordstun.12.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.12.a
		add_country_modifier = {
			name = H76_inward_perfection
			duration = 1095
		}
	}
}

country_event = {
	id = flavour_ordstun.13
	title = flavour_ordstun.13.t
	desc = {
		trigger = {
			has_adm_advisor = yes
		}
		desc = flavour_ordstun.13.d.adm
	}
	desc = {
		trigger = {
			NOT = { has_adm_advisor = yes }
			has_dip_advisor = yes
		}
		desc = flavour_ordstun.13.d.dip
	}
	desc = {
		trigger = {
			NOT = { has_adm_advisor = yes }
			NOT = { has_dip_advisor = yes }
			has_mil_advisor = yes
		}
		desc = flavour_ordstun.13.d.mil
	}
	desc = {
		trigger = {
			NOT = { has_adm_advisor = yes }
			NOT = { has_dip_advisor = yes }
			NOT = { has_mil_advisor = yes }
		}
		desc = flavour_ordstun.13.d.no
	}
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.13.a
		add_stability = -2
		if = {
			limit = { has_adm_advisor = yes }
			kill_advisor_by_category_effect = { ADM = yes }
		}
		else_if = {
			limit = { has_dip_advisor = yes }
			kill_advisor_by_category_effect = { DIP = yes }
		}
		else_if = {
			limit = { has_mil_advisor = yes }
			kill_advisor_by_category_effect = { MIL = yes }
		}
		change_innovativeness = 4
	}
}

country_event = {
	id = flavour_ordstun.14
	title = flavour_ordstun.14.t
	desc = flavour_ordstun.14.d
	picture = BANKRUPTCY_eventPicture
	major = yes

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.14.a
		override_country_name = H76_new_name
		add_country_modifier = {
			name = H76_new_high_king
			duration = -1
		}
		verkal_gulan_area = {
			add_permanent_claim = ROOT
		}
		seghdihr_area = {
			add_permanent_claim = ROOT
		}
		kanzad_area = {
			add_permanent_claim = ROOT
		}
		krakdhum_area = {
			add_permanent_claim = ROOT
		}
	}
}

country_event = {
	id = flavour_ordstun.15
	title = flavour_ordstun.15.t
	desc = flavour_ordstun.15.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			4217 = {
				kill_units = {
					who = owner
					type = infantry
					amount = 10
				}
			}
		}
	}

	option = {
		name = flavour_ordstun.15.a
		tooltip = {
			kill_units = {
				who = owner
				type = infantry
				amount = 10
			}
		}
		add_yearly_manpower = -0.3
		country_event = {
			id = flavour_ordstun.16
			days = 548
			random = 182
		}
	}
}

country_event = {
	id = flavour_ordstun.16
	title = flavour_ordstun.16.t
	desc = flavour_ordstun.16.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.16.a
		add_adk_effect = { add = 3 }
		add_treasury = 500
		add_prestige = -20
		add_legitimacy = -20
		4217 = {
			infantry = H76
		}
		create_general = {
			tradition = 60
		}
	}
}

country_event = {
	id = flavour_ordstun.17
	title = flavour_ordstun.17.t
	desc = flavour_ordstun.17.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			random_owned_province = {
				limit = {
					NOT = {
						region = serpentreach_region
					}
					OR = {
						has_terrain = dwarven_hold
						has_terrain = dwarven_hold_surface
					}
					hold_condition = { Repaired = yes }
					NOT = {
						has_construction = digging_deeper
					}
				}
				save_global_event_target_as = H76_targeted_hold
			}
		}
	}

	option = {
		name = flavour_ordstun.17.a
		event_target:H76_targeted_hold = {
			add_province_modifier = {
				name = H76_thorough_excavation
				duration = -1
			}
		}
		country_event = {
			id = flavour_ordstun.16
			days = 1460
			random = 365
		}
	}
}

country_event = {
	id = flavour_ordstun.18
	title = flavour_ordstun.18.t
	desc = flavour_ordstun.18.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.18.a
		event_target:H76_targeted_hold = {
			remove_province_modifier = H76_thorough_excavation
			upgrade_hold = yes
			add_permanent_province_modifier = {
				name = partially_ruined_hold
			}
			custom_tooltip = H76_lose_random_dev_tt
			hidden_effect = {
				remove_random_development = yes
				remove_random_development = yes
				remove_random_development = yes
				remove_random_development = yes
			}
		}
		set_country_flag = H76_breakthroughs_happened
	}

	after = {
		hidden_effect = {
			clear_global_event_target = H76_targeted_hold
		}
	}
}

country_event = {
	id = flavour_ordstun.19
	title = flavour_ordstun.19.t
	desc = flavour_ordstun.19.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.19.a
		H78 = {
			country_event = {
				id = flavour_ordstun.20
				days = 45
				random = 15
			}
		}
	}
}

country_event = {
	id = flavour_ordstun.20
	title = flavour_ordstun.20.t
	desc = flavour_ordstun.20.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.20.a
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				marriage_with = H76
			}
			modifier = {
				factor = 2
				trust = {
					who = H76
					value = 70
				}
			}
			modifier = {
				factor = 2
				H76 = {
					reverse_has_opinion = {
						who = PREV
						value = 170
					}
				}
			}
			modifier = {
				factor = 0
				total_development = 200
			}
		}
		tooltip = {
			H76 = {
				vassalize = H78
			}
		}
		H76 = {
			country_event = {
				id = flavour_ordstun.21
			}
		}
	}

	option = {
		name = flavour_ordstun.20.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				AND = {
					H76 = {
						reverse_has_opinion = {
							who = PREV
							value = 170
						}
					}
					trust = {
						who = H76
						value = 70
					}
					marriage_with = H76
					ai = yes
				}
			}
		}
		add_manpower = 10
		capital_scope = {
			ROOT = {
				infantry = PREV
				infantry = PREV
				infantry = PREV
				infantry = PREV
				infantry = PREV
				infantry = PREV
				infantry = PREV
				infantry = PREV
				infantry = PREV
				infantry = PREV
			}
		}
		H76 = {
			country_event = {
				id = flavour_ordstun.22
			}
		}
	}
}

country_event = {
	id = flavour_ordstun.21
	title = flavour_ordstun.21.t
	desc = flavour_ordstun.21.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.21.a
		add_prestige = 25
		add_power_projection = {
			type = mission_rewards_power_projection
			amount = 10
		}
		vassalize = H78
	}
}

country_event = {
	id = flavour_ordstun.22
	title = flavour_ordstun.22.t
	desc = flavour_ordstun.22.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.22.a
		if = {
			limit = {
				marriage_with = H78
			}
			break_marriage = H78
		}
		H78 = {
			add_mutual_opinion_modifier_effect = {
				target = ROOT
				modifier = enemy
			}
		}
		add_casus_belli = {
			type = cb_vassalize_mission
			target = H78
			months = 240
		}
	}
}

country_event = {
	id = flavour_ordstun.23
	title = flavour_ordstun.23.t
	desc = flavour_ordstun.23.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.23.a
		vassalize = F47
		F47 = {
			add_opinion = {
				who = PREV
				modifier = H76_impressed_by_riches
			}
		}
		add_prestige = 15
	}
}

country_event = {
	id = flavour_ordstun.24
	title = flavour_ordstun.24.t
	desc = flavour_ordstun.24.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.24.a
		add_years_of_income = 1
		add_inflation = 3
		add_truce_with = F47
		hidden_effect = {
			F47 = {
				random_known_country = {
					limit = {
						is_neighbor_of = F47
						NOT = { is_rival = F47 }
						NOT = { is_enemy = F47 }
					}
					create_alliance = F47
				}
			}
		}
	}

	option = {
		name = flavour_ordstun.24.b
		trigger = {
			F47 = {
				NOT = { total_development = 350 }
			}
		}
		add_casus_belli = {
			type = cb_vassalize_mission
			target = F47
			months = 300
		}
	}
}

country_event = {
	id = flavour_ordstun.25
	title = flavour_ordstun.25.t
	desc = flavour_ordstun.25.d
	picture = BANKRUPTCY_eventPicture
	major = yes

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.25.a
		ai_chance = {
			factor = 0
		}
		add_years_of_income = -1
		add_prestige = -20
	}

	option = {
		name = flavour_ordstun.25.b
		ai_chance = {
			factor = 400
		}
		1263 = {
			add_trade_modifier = {
				who = ROOT
				duration = -1
				power = -50
				key = H76_outcompeted
			}
		}
		1292 = {
			add_trade_modifier = {
				who = ROOT
				duration = -1
				power = -50
				key = H76_outcompeted
			}
		}
		1926 = {
			add_trade_modifier = {
				who = ROOT
				duration = -1
				power = -50
				key = H76_outcompeted
			}
		}
	}
}

country_event = {
	id = flavour_ordstun.26
	title = flavour_ordstun.26.t
	desc = flavour_ordstun.26.d
	picture = BANKRUPTCY_eventPicture
	major = yes

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.26.a
		ai_chance = {
			factor = 0
		}
		add_stability = -1
		add_years_of_income = -1.5
	}

	option = {
		name = flavour_ordstun.26.a
		ai_chance = {
			factor = 400
		}
		62 = {
			add_permanent_province_modifier = {
				name = H76_the_great_sulk
			}
		}
	}
}

country_event = {
	id = flavour_ordstun.27
	title = flavour_ordstun.27.t
	desc = flavour_ordstun.27.d
	picture = BANKRUPTCY_eventPicture
	major = yes

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.27.a
		4100 = {
			remove_random_development = yes
			remove_random_development = yes
			add_province_modifier = {
				name = H76_restored_warding_gate
				duration = -1
			}
		}
		if = {
			limit = {
				4100 = {
					NOT = {
						has_province_modifier = hold_military
						has_province_modifier = hold_military_2
					}
				}
			}
			custom_tooltip = H76_change_skomdihr_military_flag_tt
			set_country_flag = H76_change_skomdihr_military_flag
		}
	}
}

province_event = {
	id = flavour_ordstun.28
	title = diggy.27.t
	desc = diggy.27.d
	picture = ARTWORK_eventPicture
	goto = root

	is_triggered_only = yes

	after = {
		hidden_effect = { set_province_flag = specialized_hold }
	}

	#Military
	option = {
        name = diggy.27.f
		goto = ROOT
		add_permanent_province_modifier = {
			name = hold_military
			duration = -1
		}
	}
}

country_event = {
	id = flavour_ordstun.110
	title = flavour_ordstun.110.t
	desc = flavour_ordstun.110.d
	picture = BANKRUPTCY_eventPicture

	is_triggered_only = yes

	option = {
		name = flavour_ordstun.110.a
		add_government_reform = argordstun_gleaming_council
	}
}

