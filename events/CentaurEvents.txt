namespace = centaur

#Horde submission
country_event = {
	id = centaur.1
	title = centaur.1.t
	desc = centaur.1.d
	picture = RELIGION_eventPicture

	is_triggered_only = yes

	trigger = {
		has_reform = centaur_horde
		is_subject = no
		OR = {
			any_known_country = {
				has_reform = centaur_horde
				has_country_flag = @ROOT_warTarget
			}
			ai = no
		}
		ai = yes
	}
	
	
	option = {
		name = centaur.1.a
		ai_chance = { factor = 1 }
		add_prestige = 10
		add_horde_unity = 5
		random_known_country = {
			limit = {
				has_reform = centaur_horde
				has_country_flag = @ROOT_warTarget
			}
			# every_subject_country = {
				# limit = { has_reform = centaur_horde }
				# ROOT = {
					# create_subject = {
						# subject_type = vassal
						# subject = PREV
					# }
				# }
			# }
			ROOT = {
				create_subject = {
					subject_type = vassal
					subject = PREV
				}
			}
			clr_country_flag = @ROOT_warTarget
		}
	}
}

#Ai declare war
country_event = {
	id = centaur.2
	title = centaur.2.t
	desc = centaur.2.d
	picture = RELIGION_eventPicture
	
	mean_time_to_happen = {
		months = 3
	}

	trigger = {
		has_country_modifier = centaur_administration
		is_subject = no
		is_at_war = no
		any_known_country = {
			ROOT = {
				army_strength = {
					who = PREV
					value = 1
				}
			}
			has_reform =  centaur_horde
			NOT = { truce_with = ROOT }
			is_subject = no
			is_at_war = no
			ai = yes
			NOT = {
				border_distance = {
					who = ROOT
					distance = 50
				}
			}
		}
		ai = yes
	}
	
	option = {
		name = centaur.2.a
		ai_chance = { factor = 1 }
		random_known_country = {
			limit = {
				has_reform = centaur_horde
				ROOT = {
					army_strength = {
						who = PREV
						value = 1
					}
				}
				NOT = { truce_with = ROOT }
				is_subject = no
				is_at_war = no
				ai = yes
				NOT = {
					border_distance = {
						who = ROOT
						distance = 50
					}
				}
			}
			set_country_flag = @ROOT_warTarget
			ROOT = {
				declare_war_with_cb = {
					 who = PREV
					 casus_belli = cb_centaur_pillage
				}
			}
		}
	}
}
##Setup event for centaur
country_event = {
	id = centaur.3
	title = centaur.3.t
	desc = centaur.3.d
	picture = GOOD_WITH_MONARCH_eventPicture
	
	fire_only_once = yes
	
	is_triggered_only = yes
	
	trigger = {
		always = yes
	}
	
	option = {
		name = centaur.3.a
		ai_chance = { factor = 1 }
		
		every_country = {
			limit = {
				culture_group = centaur
			}
			add_country_modifier = {
				name = centaur_horde_1
				duration = -1
			}
			random = {
				chance = 50
				add_ruler_personality = bold_fighter_personality
			}
			random = {
				chance = 50
				add_ruler_personality = conqueror_personality
			}
			random = {
				chance = 50
				add_ruler_personality = cruel_personality
			}
			add_manpower = 10
			add_treasury = 500
			capital_scope = {
				PREV = {
					cavalry	= PREV
					cavalry	= PREV
					cavalry	= PREV
					cavalry	= PREV
					cavalry	= PREV
				}
			}
			set_ai_personality = {
				personality = ai_militarist
				locked = yes
			}
			set_variable = {
				which = nbCharge
				value = 0
			}
			set_variable = {
				which = nbWarWon
				value = 0
			}
			set_variable = {
				which = nbChargeLose
				value = 0
			}
			set_variable = {
				which = totalBattle
				value = 0
			}
			set_variable = {
				which = nbBattleHuman
				value = 0
			}
			set_variable = {
				which = nbBattleDwarf
				value = 0
			}
			set_variable = {
				which = nbBattleElf
				value = 0
			}
			set_variable = {
				which = nbBattleOgre
				value = 0
			}
			set_variable = {
				which = nbBattleOrc
				value = 0
			}
			set_variable = {
				which = nbBattleGoblin
				value = 0
			}
			set_variable = {
				which = nbBattleGnome
				value = 0
			}
			set_variable = {
				which = nbBattleKobold
				value = 0
			}
			set_variable = {
				which = nbBattleHarimari
				value = 0
			}
			set_variable = {
				which = nbBattleHobgoblin
				value = 0
			}
		}
	}
}

#The Three Stallions of War
country_event = {
	id = centaur.9
	title = centaur.9.t
	desc = centaur.9.d
	picture = RELIGION_eventPicture
	
	is_triggered_only = yes

	trigger = {
		always = yes
	}
	
	option = {
		name = centaur.9.a
		ai_chance = { factor = 1 }
		define_general = {
			shock = 4
			fire = 3
			manuever = 5
			siege = 2
			name = "Tirek"
		}
		define_general = {
			shock = 6
			fire = 1
			manuever = 6
			siege = 3
			name = "Glitterhoof"
		}
		define_general = {
			shock = 7
			fire = 0
			manuever = 5
			siege = 2
			name = "Redmane Sparkle"
			female = yes
		}
	}
}

#The centaur wrath
country_event = {
	id = centaur.10
	title = centaur.10.t
	desc = centaur.10.d
	picture = RELIGION_eventPicture
	
	is_triggered_only = yes
	major = yes

	trigger = {
		always = yes
	}
	
	option = {
		name = centaur.10.a
		ai_chance = { factor = 1 }
		every_owned_province = {
			limit = {
				OR = {
					region = west_castanor_region
					region = inner_castanor_region
					region = south_castanor_region
				}
			}
			add_base_tax = -2
			add_base_production = -2
			add_base_manpower = -3
			add_devastation = 50
		}
		add_country_modifier = {
			name = the_centaur_wrath
			duration = -1
		}
		#TO DO : Event for cannor country : The Centaur Menace
	}
}

#The Burning Lance awaken
country_event = {
	id = centaur.11
	title = centaur.11.t
	desc = centaur.11.d
	picture = CONQUEST_eventPicture
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		months = 1
	}

	trigger = {
		tag = I89
		num_of_owned_provinces_with = {
			value = 35
			superregion = bulwar_superregion
		}
	}
	
	option = {
		name = centaur.11.a
		ai_chance = { factor = 1 }
		hidden_effect = { set_country_flag = burning_spear_flag }
		add_faction = burning_spear
	}
}

#The Verdant Bliss Rise
country_event = {
	id = centaur.12
	title = centaur.12.t
	desc = centaur.12.d
	picture = CONQUEST_eventPicture
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		months = 1
	}

	trigger = {
		tag = I89
		num_of_owned_provinces_with = {
			value = 25
			OR = {
				superregion = escann_superregion
				superregion = deepwoods_superregion
			}
		}
	}
	
	option = {
		name = centaur.12.a
		ai_chance = { factor = 1 }
		hidden_effect = { set_country_flag = verdant_bliss_flag }
		add_faction = verdant_bliss
	}
}

#The Tiger Bane
country_event = {
	id = centaur.13
	title = centaur.13.t
	desc = centaur.13.d
	picture = CONQUEST_eventPicture
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		months = 1
	}

	trigger = {
		tag = I89
		num_of_owned_provinces_with = {
			value = 30
			superregion = rahen_superregion
		}
	}
	
	option = {
		name = centaur.13.a
		ai_chance = { factor = 1 }
		hidden_effect = { set_country_flag = tiger_bane_flag }
		add_faction = tiger_bane
	}
}

#The Burning Spear ask territory
country_event = {
	id = centaur.14
	title = centaur.14.t
	desc = centaur.14.d
	picture = CONQUEST_eventPicture
	
	mean_time_to_happen = {
		months = 1
	}

	trigger = {
		tag = I89
		has_faction = burning_spear
		bulwar_superregion = {
			owned_by = ROOT
			NOT = { has_province_modifier = centaur_burning_spear_territory }
		}
	}
	
	option = {
		name = centaur.14.a
		ai_chance = { factor = 100 }
		bulwar_superregion = {
			limit = {
				owned_by = ROOT
				NOT = { has_province_modifier = centaur_burning_spear_territory }
			}
			add_province_modifier = {
				name = centaur_burning_spear_territory
				duration = -1
			}
		}
	}
}

#The Verdant Bliss ask territory
country_event = {
	id = centaur.15
	title = centaur.15.t
	desc = centaur.15.d
	picture = CONQUEST_eventPicture
	
	mean_time_to_happen = {
		months = 1
	}

	trigger = {
		tag = I89
		has_faction = verdant_bliss
		OR = {
			escann_superregion = {
				owned_by = ROOT
				NOT = { has_province_modifier = centaur_verdant_bliss_territory }
			}
			deepwoods_superregion = {
				owned_by = ROOT
				NOT = { has_province_modifier = centaur_verdant_bliss_territory }
			}
		}
	}
	
	option = {
		name = centaur.15.a
		ai_chance = { factor = 100 }
		deepwoods_superregion = {
			limit = {
				owned_by = ROOT
				NOT = { has_province_modifier = centaur_verdant_bliss_territory }
			}
			add_province_modifier = {
				name = centaur_verdant_bliss_territory
				duration = -1
			}
		}
		escann_superregion = {
			limit = {
				owned_by = ROOT
				NOT = { has_province_modifier = centaur_verdant_bliss_territory }
			}
			add_province_modifier = {
				name = centaur_verdant_bliss_territory
				duration = -1
			}
		}
	}
}

#The Tiger Bane ask territory
country_event = {
	id = centaur.16
	title = centaur.16.t
	desc = centaur.16.d
	picture = CONQUEST_eventPicture
	
	mean_time_to_happen = {
		months = 1
	}

	trigger = {
		tag = I89
		has_faction = tiger_bane
		rahen_superregion = {
			owned_by = ROOT
			NOT = { has_province_modifier = centaur_tiger_bane_territory }
		}
	}
	
	option = {
		name = centaur.15.a
		ai_chance = { factor = 100 }
		rahen_superregion = {
			limit = {
				owned_by = ROOT
				NOT = { has_province_modifier = centaur_tiger_bane_territory }
			}
			add_province_modifier = {
				name = centaur_tiger_bane_territory
				duration = -1
			}
		}
	}
}

##################
## Background Events
##################
country_event = {
	id = centaur.100
	title = centaur.100.t
	desc = centaur.100.d
	picture = RELIGION_eventPicture
	
	hidden = yes
	
	trigger = {
		tag = I89
		NOT = { has_country_modifier = centaur_zeal_timer }
		NOT = { has_country_flag = centaur_no_zeal }
	}
	
	option = {
		name = centaur.100.a
		subtract_variable = { centaur_zeal = 1 }
		if = {
			limit = { NOT = { check_variable = { centaur_zeal = 1 } } }
			remove_country_modifier = centaur_unification_zeal
			set_country_flag = centaur_no_zeal
		}
		else = {
			add_country_modifier = {
				name = centaur_zeal_timer
				duration = 365
				hidden = yes
			}
		}
	}
}






