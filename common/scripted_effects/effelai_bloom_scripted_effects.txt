#Scripted Effect For Determing Regional Flags - For Determining which events to receive in the PTM
effelai_bloom_region_flag_allocation = {
	if = {
		limit = {
			leechdens_region = {
				owned_by = ROOT
			}
		}
		set_country_flag = effelai_has_leechdens_province
	}
	else_if = {
		limit = {
			has_country_flag = effelai_has_leechdens_province
		}
		clr_country_flag = effelai_has_leechdens_province
	}
	if = {
		limit = {
			east_effelai_region = {
				owned_by = ROOT
			}
		}
		set_country_flag = effelai_has_east_effelai_province
	}
	else_if = {
		limit = {
			has_country_flag = effelai_has_east_effelai_province
		}
		clr_country_flag = effelai_has_east_effelai_province
	}
	if = {
		limit = {
			dry_coast_region = {
				owned_by = ROOT
			}
		}
		set_country_flag = effelai_has_dry_coast_province
	}
	else_if = {
		limit = {
			has_country_flag = effelai_has_dry_coast_province
		}
		clr_country_flag = effelai_has_dry_coast_province
	}
	if = {
		limit = {
			south_effelai_region = {
				owned_by = ROOT
			}
		}
		set_country_flag = effelai_has_south_effelai_province
	}
	else_if = {
		limit = {
			has_country_flag = effelai_has_south_effelai_province
		}
		clr_country_flag = effelai_has_south_effelai_province
	}
	if = {
		limit = {
			mushroom_forest_region = {
				owned_by = ROOT
			}
		}
		set_country_flag = effelai_has_mushroom_forest_province
	}
	else_if = {
		limit = {
			has_country_flag = effelai_has_mushroom_forest_province
		}
		clr_country_flag = effelai_has_mushroom_forest_province
	}
	if = {
		limit = {
			west_effelai_region = {
				owned_by = ROOT
			}
		}
		set_country_flag = effelai_has_west_effelai_province
	}
	else_if = {
		limit = {
			has_country_flag = effelai_has_west_effelai_province
		}
		clr_country_flag = effelai_has_west_effelai_province
	}
	if = {
		limit = {
			soruin_region = {
				owned_by = ROOT
			}
		}
		set_country_flag = effelai_has_soruin_province
	}
	else_if = {
		limit = {
			has_country_flag = effelai_has_soruin_province
		}
		clr_country_flag = effelai_has_soruin_province
	}
}
#Province scope version of the country scope scripted effect above^
provincescope_effelai_bloom_region_flag_allocation = {
	if = {
		limit = {
			region = leechdens_region
		}
		owner = {
			set_country_flag = effelai_has_leechdens_province
		}
	}
	else_if = {
		limit = {
			region = east_effelai_region
		}
		owner = {
			set_country_flag = effelai_has_east_effelai_province
		}
	}
	else_if = {
		limit = {
			region = dry_coast_region
		}
		owner = {
			set_country_flag = effelai_has_dry_coast_province
		}
	}
	else_if = {
		limit = {
			region = south_effelai_region
		}
		owner = {
			set_country_flag = effelai_has_south_effelai_province
		}
	}
	else_if = {
		limit = {
			region = mushroom_forest_region
		}
		owner = {
			set_country_flag = effelai_has_mushroom_forest_province
		}
	}
	else_if = {
		limit = {
			region = west_effelai_region
		}
		owner = {
			set_country_flag = effelai_has_west_effelai_province
		}
	}
	else_if = {
		limit = {
			region = soruin_region
		}
		owner = {
			set_country_flag = effelai_has_soruin_province
		}
	}
}
effelai_bloom_region_flag_removal = {
	clr_country_flag = effelai_has_leechdens_province
	clr_country_flag = effelai_has_east_effelai_province
	clr_country_flag = effelai_has_dry_coast_province
	clr_country_flag = effelai_has_south_effelai_province
	clr_country_flag = effelai_has_mushroom_forest_province
	clr_country_flag = effelai_has_west_effelai_province
	clr_country_flag = effelai_has_soruin_province
}
effelai_bloom_check_burn = {
	if = { 
		limit = {
			$REGION$ = {
				AND = {
					is_effelai_network_hub = yes
					NOT = {
						owned_by = PREV
					}
				}
			}
		}
		clr_country_flag = effelai_is_burning_region
		clr_country_flag = $BURNFLAG$
		$REGION$ = {
			remove_province_modifier = effelai_hub_is_burning
		}
	}
	else_if = {
		limit = {
			NOT = {
				num_of_rebel_armies = 1
				num_of_rebel_controlled_provinces = 1
			}
			$REGION$ = {
				type = all
				OR = {
					NOT = {
						is_effelai_network_hub = yes
					}
					has_province_modifier = effelai_hub_is_burning
				}
			}
		}
		clr_country_flag = $BURNFLAG$
		clr_country_flag = effelai_is_burning_region
		set_global_flag = $GLOBFLAG$
	}
}
effelai_bloom_burn_effect = {
	if = {
		limit = {
			OR = {
				has_province_modifier = effelai_roots_attuned
				has_province_modifier = effelai_roots_blooming
				has_province_modifier = effelai_roots_dormant
			}
		}
		remove_province_modifier = effelai_roots_attuned
		remove_province_modifier = effelai_roots_blooming
		remove_province_modifier = effelai_roots_dormant
		add_permanent_province_modifier = {
			name = effelai_roots_burned
			duration = -1
		}
	}
	if = {
		limit = {
			OR = {
				has_province_modifier = effelai_hub_attuned
				has_province_modifier = effelai_hub_blooming
				has_province_modifier = effelai_hub_dormant
			}
		}
		remove_province_modifier = effelai_hub_attuned
		remove_province_modifier = effelai_hub_blooming
		remove_province_modifier = effelai_hub_dormant
		remove_province_modifier = effelai_hub_is_burning
		add_permanent_province_modifier = {
			name = effelai_hub_burned
			duration = -1
		}
	}
	if = {
		limit = {
			has_terrain = jungle
		}
		add_permanent_province_modifier = {
			name = effelai_jungle_cleared
			duration = -1
		}
	}
	if = {
		limit = {
			has_terrain = mushroom_forest_terrain
		}
		remove_province_modifier = giant_shroom
		add_permanent_province_modifier = {
			name = effelai_mushrooms_cleared
			duration = -1
		}
	}
}