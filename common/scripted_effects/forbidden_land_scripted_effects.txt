lake_federation_gain_15_points = {
	custom_tooltip = lake_15_points_tooltip
	hidden_effect = {
		change_variable = {
			which = FederationPoints
			value = 15
		}
		every_country = {
			limit = { has_country_modifier = lake_federation_member }
			change_variable = {
				which = TotalFederationPoints
				value = 15
			}
		}
	}
}


lake_federation_gain_10_points = {
	custom_tooltip = lake_10_points_tooltip
	hidden_effect = {
		change_variable = {
			which = FederationPoints
			value = 10
		}
		every_country = {
			limit = { has_country_modifier = lake_federation_member }
			change_variable = {
				which = TotalFederationPoints
				value = 10
			}
		}
	}
}

lake_federation_gain_5_points = {
	custom_tooltip = lake_5_points_tooltip
	hidden_effect = {
		change_variable = {
			which = FederationPoints
			value = 5
		}
		every_country = {
			limit = { has_country_modifier = lake_federation_member }
			change_variable = {
				which = TotalFederationPoints
				value = 5
			}
		}
	}
}

lake_federation_gain_2_points = {
	custom_tooltip = lake_2_points_tooltip
	hidden_effect = {
		change_variable = {
			which = FederationPoints
			value = 2.5
		}
		every_country = {
			limit = { has_country_modifier = lake_federation_member }
			change_variable = {
				which = TotalFederationPoints
				value = 2.5
			}
		}
	}
}

lake_federation_gain_1_points = {
	custom_tooltip = lake_1_points_tooltip
	hidden_effect = {
		change_variable = {
			which = FederationPoints
			value = 1
		}
		every_country = {
			limit = { has_country_modifier = lake_federation_member }
			change_variable = {
				which = TotalFederationPoints
				value = 1
			}
		}
	}
}

lake_federation_lose_15_points = {
	custom_tooltip = lake_minus_15_points_tooltip
	hidden_effect = {
		subtract_variable = {
			which = FederationPoints
			value = 15
		}
		subtract_variable = {
			limit = { has_country_modifier = lake_federation_member }
			change_variable = {
				which = TotalFederationPoints
				value = 15
			}
		}
	}
}

lake_federation_lose_10_points = {
	custom_tooltip = lake_minus_10_points_tooltip
	hidden_effect = {
		subtract_variable = {
			which = FederationPoints
			value = 10
		}
		subtract_variable = {
			limit = { has_country_modifier = lake_federation_member }
			change_variable = {
				which = TotalFederationPoints
				value = 10
			}
		}
	}
}

lake_federation_lose_5_points = {
	custom_tooltip = lake_minus_5_points_tooltip
	hidden_effect = {
		subtract_variable = {
			which = FederationPoints
			value = 5
		}
		subtract_variable = {
			limit = { has_country_modifier = lake_federation_member }
			change_variable = {
				which = TotalFederationPoints
				value = 5
			}
		}
	}
}

lake_federation_lose_2_points = {
	custom_tooltip = lake_minus_2_points_tooltip
	hidden_effect = {
		subtract_variable = {
			which = FederationPoints
			value = 2.5
		}
		subtract_variable = {
			limit = { has_country_modifier = lake_federation_member }
			change_variable = {
				which = TotalFederationPoints
				value = 2.5
			}
		}
	}
}

lake_federation_lose_1_points = {
	custom_tooltip = lake_minus_1_points_tooltip
	hidden_effect = {
		subtract_variable = {
			which = FederationPoints
			value = 1
		}
		subtract_variable = {
			limit = { has_country_modifier = lake_federation_member }
			change_variable = {
				which = TotalFederationPoints
				value = 1
			}
		}
	}
}

lake_federation_gain_politics = {
	if = {
		limit = { has_global_flag = federation_assembly_house_build }
		if = {
			limit = { any_owned_province = { has_province_modifier = federation_assembly_house } }
			hidden_effect = { change_variable = { FederationPolitics = 0.5 } }
			custom_tooltip = fed_politics_own_assembly_house_tooltip
		}
		if = {
			limit = { federation_has_high_standing = yes }
			hidden_effect = { change_variable = { FederationPolitics = 1.5 } }
			custom_tooltip = fed_politics_high_standing_tooltip
		}
		else = {
			hidden_effect = { change_variable = { FederationPolitics = 1 } }
			custom_tooltip = fed_politics_tooltip
		}
	}
}

lake_federation_lose_1_politics = {
	custom_tooltip = lose_federation_politic_tooltip
	hidden_effect = { subtract_variable = { FederationPolitics = 1 } }
}

clear_federation_global_flag = {
	clr_global_flag = lake_linguistic_academy
	clr_global_flag = lake_islander_declaration
	clr_global_flag = lake_clothing_for_everyone
	clr_global_flag = lake_agricultural_reform
	clr_global_flag = lake_preservation_act
	clr_global_flag = lake_judiciary_system
	clr_global_flag = lake_federation_artisan
	clr_global_flag = lake_implement_regulation
	clr_global_flag = lake_every_man_a_landlord
	clr_global_flag = lake_the_federation_needs
	clr_global_flag = lake_a_united_federation
	clr_global_flag = lake_free_trade
	clr_global_flag = lake_the_place_of_everyone
	clr_global_flag = lake_federation_soldier_first
	clr_global_flag = lake_military_reform
	clr_global_flag = lake_the_mainland_question
	clr_global_flag = lake_the_pirate_act
	clr_country_flag = federation_mil_article_1
	clr_country_flag = federation_industry_article_1
	clr_country_flag = federation_trade_article_1
	clr_country_flag = federation_mil_article_2
	clr_country_flag = federation_industry_article_2
	clr_country_flag = federation_trade_article_2
	clr_country_flag = federation_mil_article_3
	clr_country_flag = federation_industry_article_3
	clr_country_flag = federation_trade_article_3
	clr_country_flag = federation_mil_article_4
	clr_country_flag = federation_industry_article_4
	clr_country_flag = federation_trade_article_4
	clr_country_flag = federation_mil_article_5
	clr_country_flag = federation_industry_article_5
	clr_country_flag = federation_trade_article_5
	clr_country_flag = federation_mil_article_6
	clr_country_flag = federation_industry_article_6
	clr_country_flag = federation_trade_article_6
	clr_country_flag = federation_mil_article_7
	clr_country_flag = federation_industry_article_7
	clr_country_flag = federation_trade_article_7
	clr_country_flag = federation_mil_article_8
	clr_country_flag = federation_industry_article_8
	clr_country_flag = federation_trade_article_8
}

centaur_colonization = {
	custom_tooltip = centaur_colonization_tooltip
	hidden_effect = {
		random_owned_province = {
			limit = { has_empty_adjacent_province = yes is_city = yes superregion = forbidden_lands_superregion }
			random_empty_neighbor_province = {
				limit = { is_city = no superregion = forbidden_lands_superregion }
				create_colony = 1000
				random_list = {
					50 = {
						add_base_tax = 1
						add_base_manpower = 1
					}
					50 = {
						add_base_manpower = 2
					}
					50 = {
						add_base_production = 1
						add_base_manpower = 1
					}
				}
				add_core = ROOT
			}
		}
	}
}

centaur_battle_count_win = {
	if = {
		limit = { has_country_modifier = centaur_administration }
		change_variable = { nbCharge = 1 }
		change_variable = { totalBattle = 1 }
		set_variable = {
			which = battleWinRate
			which = nbCharge
		}
		divide_variable = {
			which = battleWinRate
			which = totalBattle
		}
		multiply_variable = {
			which = battleWinRate
			value = 100
		}
		if = {
			limit = { FROM = { has_country_modifier = human_military } }
			change_variable = { nbBattleHuman = 1 }
		}
		else_if = {
			limit = { FROM = { has_country_modifier = dwarven_military } }
			change_variable = { nbBattleDwarf = 1 }
		}
		else_if = {
			limit = { FROM = { has_country_modifier = elven_military } }
			change_variable = { nbBattleElf = 1 }
		}
		else_if = {
			limit = { FROM = { has_country_modifier = ogre_military } }
			change_variable = { nbBattleOgre = 1 }
		}
		else_if = {
			limit = { FROM = { has_country_modifier = orcish_military } }
			change_variable = { nbBattleOrc = 1 }
		}
		else_if = {
			limit = { FROM = { has_country_modifier = hobgoblin_military } }
			change_variable = { nbBattleHobgoblin = 1 }
		}
		else_if = {
			limit = { FROM = { has_country_modifier = harimari_military } }
			change_variable = { nbBattleHarimari = 1 }
		}
		else_if = {
			limit = { FROM = { has_country_modifier = kobold_military } }
			change_variable = { nbBattleKobold = 1 }
		}
		else_if = {
			limit = { FROM = { has_country_modifier = goblin_military } }
			change_variable = { nbBattleGoblin = 1 }
		}
		else_if = {
			limit = { FROM = { has_country_modifier = gnomish_military } }
			change_variable = { nbBattleGnome = 1 }
		}
	}
	
}

centaur_battle_count_lost = {
	if = {
		limit = { has_country_modifier = centaur_administration }
		change_variable = { nbChargeLose = 1 }
		change_variable = { totalBattle = 1 }
		set_variable = {
			which = battleWinRate
			which = nbCharge
		}
		divide_variable = {
			which = battleWinRate
			which = totalBattle
		}
		multiply_variable = {
			which = battleWinRate
			value = 100
		}
	}
}

centaur_won_war_count = {
	if = {
		limit = { has_country_modifier = centaur_administration }
		change_variable = { nbWarWon = 1 }
	}
}

federation_representative_setup = {
	#Kodave Representative
	random_country = {
		limit = { 
			has_country_flag = kodave_faction
			NOT = {
				calc_true_if = {
					all_known_country = {
						has_country_flag = kodave_faction
						check_variable = {
							which = FederationPoints
							which = PREV
						}
						is_subject = no
					}
					amount = 1
				}
				any_known_country = { has_country_flag = kodave_leader }
			}
		}
		set_country_flag = kodave_leader
		set_variable = { FedWarWin = 0 }
	}
	#Enuuk Representative
	random_country = {
		limit = { 
			has_country_flag = enuuk_faction
			NOT = {
				calc_true_if = {
					all_known_country = {
						has_country_flag = enuuk_faction
						check_variable = {
							which = FederationPoints
							which = PREV
						}
						is_subject = no
					}
					amount = 1
				}
				any_known_country = { has_country_flag = enuuk_leader }
			}
		}
		set_country_flag = enuuk_leader
		set_variable = { FedWarWin = 0 }
	}
	#Yukel Representative
	random_country = {
		limit = { 
			has_country_flag = yukel_faction
			NOT = {
				calc_true_if = {
					all_known_country = {
						has_country_flag = yukel_faction
						check_variable = {
							which = FederationPoints
							which = PREV
						}
						is_subject = no
					}
					amount = 1
				}
				any_known_country = { has_country_flag = yukel_leader }
			}
		}
		set_country_flag = yukel_leader
		set_variable = { FedWarWin = 0 }
	}
	if = {
		limit = { NOT = { any_known_country = { has_country_flag = kodave_leader } } }
		random_country = {
			limit = { 
				has_country_flag = kodave_faction
				NOT = {
					calc_true_if = {
						all_known_country = {
							has_country_flag = kodave_faction
							check_variable = {
								which = FederationPoints
								which = PREV
							}
							is_subject = no
						}
						amount = 2
					}
					any_known_country = { has_country_flag = kodave_leader }
				}
			}
			set_country_flag = kodave_leader
			set_variable = { FedWarWin = 0 }
		}
	}
	if = {
		limit = { NOT = { any_known_country = { has_country_flag = enuuk_leader } } }
		random_country = {
			limit = { 
				has_country_flag = enuuk_faction
				NOT = {
					calc_true_if = {
						all_known_country = {
							has_country_flag = enuuk_faction
							check_variable = {
								which = FederationPoints
								which = PREV
							}
							is_subject = no
						}
						amount = 2
					}
					any_known_country = { has_country_flag = enuuk_leader }
				}
			}
			set_country_flag = enuuk_leader
			set_variable = { FedWarWin = 0 }
		}
	}
	if = {
		limit = { NOT = { any_known_country = { has_country_flag = yukel_leader } } }
		random_country = {
			limit = { 
				has_country_flag = yukel_faction
				NOT = {
					calc_true_if = {
						all_known_country = {
							has_country_flag = yukel_faction
							check_variable = {
								which = FederationPoints
								which = PREV
							}
							is_subject = no
						}
						amount = 2
					}
					any_known_country = { has_country_flag = yukel_leader }
				}
			}
			set_country_flag = yukel_leader
			set_variable = { FedWarWin = 0 }
		}
	}
}

federation_religious_war = {
	if = {
		limit = {
			OR = {
				has_country_flag = yukel_leader
				has_country_flag = enuuk_leader
				has_country_flag = kodave_leader
			}
			FROM = {
				OR = {
					has_country_flag = yukel_leader
					has_country_flag = enuuk_leader
					has_country_flag = kodave_leader
				}
			}
		}
		REB = { change_variable = { FedWar = 1 } }
		if = {
			limit = {
				NOT = { has_country_flag = FedWar_1 }
				NOT = { has_country_flag = FedWar_2 }
			}
			set_country_flag = FedWar_1
		}
		else_if = {
			limit = {
				has_country_flag = FedWar_1
				NOT = { has_country_flag = FedWar_2 }
			}
			clr_country_flag = FedWar_1
			set_country_flag = FedWar_2
		}
	}
}