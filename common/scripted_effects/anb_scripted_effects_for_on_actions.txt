
anb_initialize_schools_effect = { #Used in on_startup on_action
	if = {
		limit = { NOT = { has_global_flag = anb_schools_initiated } }
		set_global_flag = anb_schools_initiated
		#Unbroken Claw vs Radiant Sun
		random_country = { 
			limit = {
				religious_school = {
					group = raheni
					school = unbroken_claw_school
				}
			}
			random_country = {
				limit = {
					religious_school = {
						group = raheni
						school = radiant_sun_school
					}
				}
				set_school_opinion = {
					who = PREV
					opinion = -1
				}
			}
		}
		random_country = { 
			limit = {
				religious_school = {
					group = raheni
					school = radiant_sun_school
				}
			}
			random_country = {
				limit = {
					religious_school = {
						group = raheni
						school = unbroken_claw_school
					}
				}
				set_school_opinion = {
					who = PREV
					opinion = -1
				}
			}
		}
		#Radiant Sun vs Starry Eye
		random_country = { 
			limit = {
				religious_school = {
					group = raheni
					school = radiant_sun_school
				}
			}
			random_country = {
				limit = {
					religious_school = {
						group = raheni
						school = starry_eye_school
					}
				}
				set_school_opinion = {
					who = PREV
					opinion = -1
				}
			}
		}
		random_country = { 
			limit = {
				religious_school = {
					group = raheni
					school = starry_eye_school
				}
			}
			random_country = {
				limit = {
					religious_school = {
						group = raheni
						school = radiant_sun_school
					}
				}
				set_school_opinion = {
					who = PREV
					opinion = -1
				}
			}
		}
		#Orange Sash vs Radiant Sun
		random_country = { 
			limit = {
				religious_school = {
					group = raheni
					school = orange_sash_school
				}
			}
			random_country = {
				limit = {
					religious_school = {
						group = raheni
						school = radiant_sun_school
					}
				}
				set_school_opinion = {
					who = PREV
					opinion = -1
				}
			}
		}
		random_country = { 
			limit = {
				religious_school = {
					group = raheni
					school = radiant_sun_school
				}
			}
			random_country = {
				limit = {
					religious_school = {
						group = raheni
						school = orange_sash_school
					}
				}
				set_school_opinion = {
					who = PREV
					opinion = -1
				}
			}
		}
		#Golden Palace vs Silk Turban
		random_country = { 
			limit = {
				religious_school = {
					group = raheni
					school = golden_palace_school
				}
			}
			random_country = {
				limit = {
					religious_school = {
						group = raheni
						school = silk_turban_school
					}
				}
				set_school_opinion = {
					who = PREV
					opinion = -1
				}
			}
		}
		random_country = { 
			limit = {
				religious_school = {
					group = raheni
					school = silk_turban_school
				}
			}
			random_country = {
				limit = {
					religious_school = {
						group = raheni
						school = golden_palace_school
					}
				}
				set_school_opinion = {
					who = PREV
					opinion = -1
				}
			}
		}
		#Orange Sash vs Silk Turban
		random_country = { 
			limit = {
				religious_school = {
					group = raheni
					school = orange_sash_school
				}
			}
			random_country = {
				limit = {
					religious_school = {
						group = raheni
						school = silk_turban_school
					}
				}
				set_school_opinion = {
					who = PREV
					opinion = -1
				}
			}
		}
		random_country = { 
			limit = {
				religious_school = {
					group = raheni
					school = silk_turban_school
				}
			}
			random_country = {
				limit = {
					religious_school = {
						group = raheni
						school = orange_sash_school
					}
				}
				set_school_opinion = {
					who = PREV
					opinion = -1
				}
			}
		}
		#Ascendant Soul vs Silk Turban
		random_country = { 
			limit = {
				religious_school = {
					group = raheni
					school = ascendant_soul_school
				}
			}
			random_country = {
				limit = {
					religious_school = {
						group = raheni
						school = silk_turban_school
					}
				}
				set_school_opinion = {
					who = PREV
					opinion = -1
				}
			}
		}
		random_country = { 
			limit = {
				religious_school = {
					group = raheni
					school = silk_turban_school
				}
			}
			random_country = {
				limit = {
					religious_school = {
						group = raheni
						school = ascendant_soul_school
					}
				}
				set_school_opinion = {
					who = PREV
					opinion = -1
				}
			}
		}
		#Ascendant Soul vs Golden Palace
		random_country = { 
			limit = {
				religious_school = {
					group = raheni
					school = ascendant_soul_school
				}
			}
			random_country = {
				limit = {
					religious_school = {
						group = raheni
						school = golden_palace_school
					}
				}
				set_school_opinion = {
					who = PREV
					opinion = -1
				}
			}
		}
		random_country = { 
			limit = {
				religious_school = {
					group = raheni
					school = golden_palace_school
				}
			}
			random_country = {
				limit = {
					religious_school = {
						group = raheni
						school = ascendant_soul_school
					}
				}
				set_school_opinion = {
					who = PREV
					opinion = -1
				}
			}
		}
		#Ascendant Soul vs Starry Eye
		random_country = { 
			limit = {
				religious_school = {
					group = raheni
					school = ascendant_soul_school
				}
			}
			random_country = {
				limit = {
					religious_school = {
						group = raheni
						school = starry_eye_school
					}
				}
				set_school_opinion = {
					who = PREV
					opinion = 1
				}
			}
		}
		random_country = { 
			limit = {
				religious_school = {
					group = raheni
					school = starry_eye_school
				}
			}
			random_country = {
				limit = {
					religious_school = {
						group = raheni
						school = ascendant_soul_school
					}
				}
				set_school_opinion = {
					who = PREV
					opinion = 1
				}
			}
		}
	}
}

xia_won_war_count = {
	if = {
		limit = {
			has_country_flag = xia_nation
		}
		change_variable = { xiaWarsWon = 1 }
	}
}
G35_won_war_count = {
	if = {
		limit = {
			tag = G35
		}
	}
	change_variable = { G35WarsWon = 1 }
}

#Thought Harmonizing

set_harmonized_religion_debug_modifier = {
	if = {
		limit = {
			has_country_modifier = harmonizing_cannorian
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = cannorian
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_goblin
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = goblin
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_bulwari
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = bulwari
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_khetist
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = khetist
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_raheni
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = raheni
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_gnollish
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = gnollish
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_dwarven
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = dwarven
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_elven
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = elven
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_gerudian
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = gerudian
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_orcish
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = orcish
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_dragon_cult
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = dragon_cult
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_aelantiri
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = aelantiri
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_cheshoshi
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = cheshoshi
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_harafic
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = harafic
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_effelai
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = effelai
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_kheionism
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = kheionism
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_taychendi
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = taychendi
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_ynnic
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = ynnic
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_devandi
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = devandi
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_fey_religion
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = fey_religion
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_godlost
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = godlost
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_triunic
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = triunic
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_giantkin
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = giantkin
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_black_doctrine
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = black_doctrine
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_halessi
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = halessi
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_tanibic
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = tanibic
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_angelic
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = angelic
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_hag
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = hag
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_lizardfolk
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = lizardfolk
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_baashidi
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = baashidi
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_tanizu
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = tanizu
		}
	}
	else_if = {
		limit = {
			has_country_modifier = harmonizing_gotiriei
		}
		set_specific_harmonized_religion_debug_modifier = {
			religion = gotiriei
		}
	}
}

set_specific_harmonized_religion_debug_modifier = {
	add_country_modifier = {
		name = harmonize_check_$religion$
		duration = -1
		hidden = yes
	}
}

set_harmonizing_religion_modifier = {
	add_country_modifier = {
		name = harmonizing_$religion$
		duration = -1
		hidden = yes
	}
}