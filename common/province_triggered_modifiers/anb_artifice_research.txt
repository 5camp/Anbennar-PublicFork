artifice_research_ptm = {
	potential = {
		always = yes
	}

	trigger = {

	}

	on_activation = {
		owner = {
			#Fast Research Variable Setup - decides # of options from each tier
			if = {
				limit = {
					OR = {
						ai = yes
						has_country_flag = artifice_research_random
					}
				}
				#Tier 2
				if = {
					limit = {
						has_country_flag = artifice_unlocked_advanced
					}
					set_variable = {
						which = artificeResearchOptionsTier1
						value = 1
					}
					set_variable = {
						which = artificeResearchOptionsTier2
						value = 1
					}
				}
				#Tier 3
				else_if = {
					limit = {
						has_country_flag = artifice_unlocked_expert
					}
					set_variable = {
						which = artificeResearchOptionsTier1
						value = 1
					}
					set_variable = {
						which = artificeResearchOptionsTier2
						value = 1
					}
					set_variable = {
						which = artificeResearchOptionsTier3
						value = 1
					}
				}
				#Tier 1 - baseline
				else = {
					set_variable = {
						which = artificeResearchOptionsTier1
						value = 1
					}
				}
			}
			else_if = {
				limit = {
					has_country_flag = artifice_research_fast
				}
				#Tier 2
				if = {
					limit = {
						has_country_flag = artifice_unlocked_advanced
					}
					set_variable = {
						which = artificeResearchOptionsTier1
						value = 3
					}
					set_variable = {
						which = artificeResearchOptionsTier2
						value = 1
					}
				}
				#Tier 3
				else_if = {
					limit = {
						has_country_flag = artifice_unlocked_expert
					}
					set_variable = {
						which = artificeResearchOptionsTier1
						value = 3
					}
					set_variable = {
						which = artificeResearchOptionsTier2
						value = 2
					}
					set_variable = {
						which = artificeResearchOptionsTier3
						value = 1
					}
				}
				#Tier 1 - baseline
				else = {
					set_variable = {
						which = artificeResearchOptionsTier1
						value = 2
					}
				}
			}
			#Normal And Slow Research Variable Setup - decides # of options from each tier
			else_if = {
				limit = {
					OR = {
						has_country_flag = artifice_research_normal
						has_country_flag = artifice_research_slow
					}

				}
				#Tier 2
				if = {
					limit = {
						has_country_flag = artifice_unlocked_advanced
					}
					set_variable = {
						which = artificeResearchOptionsTier1
						value = 3
					}
					set_variable = {
						which = artificeResearchOptionsTier2
						value = 2
					}
				}
				#Tier 3
				else_if = {
					limit = {
						has_country_flag = artifice_unlocked_expert
					}
					set_variable = {
						which = artificeResearchOptionsTier1
						value = 4
					}
					set_variable = {
						which = artificeResearchOptionsTier2
						value = 3
					}
					set_variable = {
						which = artificeResearchOptionsTier3
						value = 2
					}
				}
				#Tier 1 - baseline
				else = {
					set_variable = {
						which = artificeResearchOptionsTier1
						value = 3
					}
				}
			}
			if = {
				limit = {
					OR = {
						tag = Y20
						was_tag = Y20
					}
					mission_completed = feiten_whale_oil_experiments
				}
				set_variable = {
					which = artificeResearchOptionsFeiten
					value = 2
				}
			}
			while = {
				limit = {
					OR = {
						check_variable = {
							which = artificeResearchOptionsTier1
							value = 1
						}
						check_variable = {
							which = artificeResearchOptionsTier2
							value = 1
						}
						check_variable = {
							which = artificeResearchOptionsTier3
							value = 1
						}
					}
				}
				artifice_research_select_innovation_options_effect = yes
			}
			country_event = {
				id = artifice_research.3
				#days = 10
			}
			capital_scope = {
				remove_province_triggered_modifier = artifice_research_ptm
			}
		}
	}

	on_deactivation = {
		
	}
}

artifice_capacity_growth_ptm = {
	
	potential = {
		always = yes
	}

	trigger = {

	}

	on_activation = {
		
		#Static Capacity increase
		owner = {
			if = {
				limit = {
					is_year = 1445
				}
				if = {
					limit = {
						is_year = 1750
					}
					169 = {
						change_variable = {
							which = GlobalArtficeLimit
							value = 0.9
						}
					}
				}
				else_if = {
					limit = {
						is_year = 1700
					}
					169 = {
						change_variable = {
							which = GlobalArtficeLimit
							value = 0.7
						}
					}
				}
				else_if = {
					limit = {
						is_year = 1445
					}
					169 = {
						change_variable = {
							which = GlobalArtficeLimit
							value = 0.6
						}
					}
				}
			}
			capital_scope = {
				remove_province_triggered_modifier = artifice_capacity_growth_ptm
			}
			country_event = {
				id = artifice_research.999
				days = 1
			}
		}
	}
}