#When adding effects directly in on_actions always consider if it would be best to do so through a scripted effect. on_actions with a lot of script in them are harder to get an overview of.

# Anbennar Added Stuff
# country_setup.1

#ITS THE CALLING OF THESE RACE SETUP EVENTS THAT CRASH THE GAME! IF NOT STARTUP THEN BI YEARLY PULSE!

# country
on_startup = {
	events = {	#commenting these bad points prevents ctd on launch, but just postpones it to day 2
		race_setup_events.1		#Sets up Racial Tolerance Level
		race_setup_events.2		#Ai only event - Affects how the ai uses the system
		race_setup_events.4		#Add minorities to province / Culture Conversion - 
		#race_setup_events.7		#Its 4 but for everyone
		race_setup_events.9		#Expel/Purge opinions
	}
	country_event = { id = race_setup_events.6 days = 1 } #On Culture Promote
	#initialize_schools_effect = yes #This is only used here but is used for readability of on_action file.
}

on_bi_yearly_pulse_4 = {
	random_events = {
		# # Elves
		# 100 = elven_tolerance_events.1
		# 100 = elven_tolerance_events.2
		# 100 = elven_tolerance_events.3
		# # Halflings
		# 100 = halfling_tolerance_events.1
		# 100 = halfling_tolerance_events.2
		# 100 = halfling_tolerance_events.3
		# # Dwarves
		# 100 = dwarven_tolerance_events.1
		# 100 = dwarven_tolerance_events.2
		# 100 = dwarven_tolerance_events.3
		# # Gnomes
		# 100 = gnomish_tolerance_events.1
		# 100 = gnomish_tolerance_events.2
		# 100 = gnomish_tolerance_events.3
		# # Orcs
		# 100 = orcish_tolerance_events.1
		# 100 = orcish_tolerance_events.2
		# 100 = orcish_tolerance_events.3
		# # Kobold
		# 100 = kobold_tolerance_events.1
		# 100 = kobold_tolerance_events.2
		# 100 = kobold_tolerance_events.3
		
		400 = 0
	}
	events = {
		race_setup_events.1		#Sets up Racial Tolerance Level (in case a country appears later)
		race_setup_events.2		#Ai only event
		#race_setup_events.3	#Puts down flag to help with culture conversion
		race_setup_events.4		#Add minorities to province / Culture Conversion - 
		race_setup_events.5		#Culture Conversion - turns minorities into majorities cleanup
		race_setup_events.9		#Expel/Purge opinions
		
		#TODO: add event 5
	}
	country_event = { id = race_setup_events.3 days = 1 } #Unmatching Tolerances - Fixes level of tolerance towards other races
}

# province
on_province_culture_converted = {
	country_event = { id = race_setup_events.4 }	#Culture Conversion - turns majorities into minorities
	country_event = { id = race_setup_events.5 }	#Culture Conversion - turns minorities into majorities cleanup
}

on_province_owner_change = {
	events = {
		#province_event = { id = race_setup_events.3 }	#we probably dont need this anymore. racial events are not permanent so they get removed on conquest
	}
}