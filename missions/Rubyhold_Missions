rubyhold_rivergate_missions = {
	slot = 1 
	generic = no
	ai = yes 
	potential = { tag = A20 }
	has_country_shield = yes
	
    rubyhold_construct_rivergate_mines = {
        icon = mission_assemble_an_army
        required_missions = {
            rubyhold_fund_guilds
        }
		position = 3
        provinces_to_highlight = {
            province_id = 65
        }
    
        trigger = {
            AND = {
				treasury = 150
				65 = { has_building = workshop }
				owns = 65
			}
        }
        
        effect = {
            65 = { change_trade_goods = copper }
			add_treasury = -150
        }
    }
	
    rubyhold_expand_rivergate_mines = {
        icon = mission_assemble_an_army
        required_missions = {
            rubyhold_construct_rivergate_mines
			rubyhold_expand_hold
        }
		position = 4
        provinces_to_highlight = {
            province_id = 65
        }
    
        trigger = {
            
        }
        
        effect = {
            64 = {
				add_permanent_province_modifier = {
					name = rubyhold_mines_1
					duration = -1
				}
			}
        }
    }
	rubyhold_expand_rivergate_settlements = {
        icon = mission_assemble_an_army
        required_missions = {
            rubyhold_expand_rivergate_mines
        }
		position = 5
        provinces_to_highlight = {
            province_id = 65
        }
    
        trigger = {
            
        }
        
        effect = {
            64 = {
				remove_province_modifier = rubyhold_mines_1
				add_permanent_province_modifier = {
					name = rubyhold_mines_2
					duration = -1
				}
			}
        }
    }
	rubyhold_found_rivergate_cities = {
        icon = mission_assemble_an_army
        required_missions = {
            rubyhold_expand_rivergate_settlements
			rubyhold_search_gems
        }
		position = 6
        provinces_to_highlight = {
            province_id = 65
        }
    
        trigger = {
            
        }
        
        effect = {
            64 = {
				remove_province_modifier = rubyhold_mines_2
				add_permanent_province_modifier = {
					name = rubyhold_mines_3
					duration = -1
				}
			}
        }
    }
	rubyhold_modernize_rivergate = {
        icon = mission_assemble_an_army
        required_missions = {
			rubyhold_found_rivergate_cities
        }
		position = 7
        provinces_to_highlight = {
            province_id = 65
        }
    
        trigger = {
            
        }
        
        effect = {
            64 = {
				remove_province_modifier = rubyhold_mines_3
				add_permanent_province_modifier = {
					name = rubyhold_mines_4
					duration = -1
				}
			}
        }
    }
}
rubyhold_dev_missions = {
    slot = 2                   
    generic = no             
    ai = yes                 
	potential = { tag = A20 }
    has_country_shield = yes
    
    rubyhold_develop_hold = {
        icon = mission_assemble_an_army     
        required_missions = {}
		position = 1

        provinces_to_highlight = {
            province_id = 62
        }
    
        trigger = {
			62 = {
				development = 50
				}
        }
        
        effect = {
			62 = {
				add_permanent_province_modifier = {
					name = rubyhold_bonus_1
					duration = -1
				}
			}
			add_prestige = 25
        }
    }
    rubyhold_fund_guilds = {
        icon = mission_assemble_an_army
        required_missions = {
            rubyhold_develop_hold
        }
		position = 2     
        provinces_to_highlight = {
            province_id = 62
        }
    
        trigger = {
			62 = {
				has_province_modifier = dig_3
				has_building = workshop
				}
        }
        
        effect = {
			62 = {
				remove_province_modifier = rubyhold_bonus_1
				add_permanent_province_modifier = {
					name = rubyhold_bonus_2
					duration = -1
				}
			}
			add_prestige = 25
		}
	}
	rubyhold_expand_hold = {
        icon = mission_assemble_an_army
        required_missions = {
            rubyhold_fund_guilds
        }
		position = 3     
        provinces_to_highlight = {
            province_id = 62
        }
    
        trigger = {
			62 = {
				has_province_modifier = dig_5
			}
        }
        
        effect = {
			62 = {
				remove_province_modifier = rubyhold_bonus_2
				add_permanent_province_modifier = {
					name = rubyhold_bonus_3
					duration = -1
				}
			}
        }
    }
	rubyhold_search_gems = {
        icon = mission_assemble_an_army
        required_missions = {
			rubyhold_expand_rivergate_mines
            rubyhold_expand_hold
			rubyhold_expand_redgate_mines
        }
		position = 5     
        provinces_to_highlight = {
            province_id = 62
        }
    
        trigger = {
			62 = {				
				has_province_modifier = dig_8
				OR{ 
					has_building = mage_tower
					has_building = mills
					has_building = trade_depot
					}
				}
			
        }
        
        effect = {
			62 = {
				remove_province_modifier = rubyhold_bonus_3
				add_permanent_province_modifier = {
					name = rubyhold_bonus_4
					duration = -1
				}
				
			}
        }
    }
	rubyhold_reach_core = {
        icon = mission_assemble_an_army
        required_missions = {
			rubyhold_found_rivergate_cities
            rubyhold_search_gems
			rubyhold_found_redgate_cities
        }
		position = 7   
        provinces_to_highlight = {
            province_id = 62
        }
    
        trigger = {
			62 = {has_province_modifier = dig_10}
        }
        
        effect = {
				62 = { 
				remove_province_modifier = rubyhold_bonus_4
				add_permanent_province_modifier = {
					name = rubyhold_bonus_5
					duration = -1
				}
			}
        }
    }
	rubyhold_ruby_hold = {
        icon = mission_assemble_an_army
        required_missions = {
			rubyhold_modernize_rivergate
            rubyhold_reach_core
			rubyhold_modernize_redgate
        }
		position = 8     
        provinces_to_highlight = {
            province_id = 62
        }
    
        trigger = {
			AND{
				62 = {
					development = 130
					has_building = university
				}
			}
        }
        effect = {
			62 = { 
					remove_province_modifier = rubyhold_bonus_5
					add_permanent_province_modifier = {
						name = rubyhold_bonus_6
						duration = -1
					}
				}
        }
    }
}
rubyhold_redgate_missions = {
	slot = 3 
	generic = no
	ai = yes 
	potential = { tag = A20 }
	has_country_shield = yes
	
    rubyhold_open_trade = {
        icon = mission_assemble_an_army
        required_missions = {
            
        }
		position = 1
        
        provinces_to_highlight = {
            province_id = 62
        }
    
        trigger = {
            treasury = 100
			dip_power = 100
        }
        
        effect = {
			62 = {center_of_trade = 1}
			add_treasury = -100
			add_dip_power = -100
        }
    }
	rubyhold_control_trade = {
        icon = mission_assemble_an_army
        required_missions = {
			rubyhold_develop_hold
            rubyhold_open_trade
			rubyhold_defend_riches
        }
		position = 2
        
        provinces_to_highlight = {
            province_id = 1292
        }
    
        trigger = {
            
        }
        
        effect = {
            
        }
    }
	rubyhold_ruby_monopoly = {
        icon = mission_assemble_an_army
        required_missions = {
            rubyhold_control_trade
			rubyhold_fund_guilds
        }
		position = 3
        
        provinces_to_highlight = {
            province_id = 1292
        }
    
        trigger = {
            
        }
        
        effect = {
            
        }
    }
	rubyhold_expand_redgate_mines = {
        icon = mission_assemble_an_army
        required_missions = {
            rubyhold_expand_hold
        }
		position = 4
        
        provinces_to_highlight = {
            province_id = 64
        }
    
        trigger = {
            
        }
        
        effect = {
            64 = {
				add_permanent_province_modifier = {
					name = rubyhold_mines_1
					duration = -1
				}
			}
        }
    }
	rubyhold_expand_redgate_settlements = {
        icon = mission_assemble_an_army
        required_missions = {
            rubyhold_expand_redgate_mines
        }
		position = 5
        
        provinces_to_highlight = {
            province_id = 64
        }
    
        trigger = {
            
        }
        
        effect = {
            64 = {
				remove_province_modifier = rubyhold_mines_1
				add_permanent_province_modifier = {
					name = rubyhold_mines_2
					duration = -1
				}
			}
        }
    }
	rubyhold_found_redgate_cities = {
        icon = mission_assemble_an_army
        required_missions = {
            rubyhold_expand_redgate_settlements
			rubyhold_search_gems
        }
		position = 6
        
        provinces_to_highlight = {
            province_id = 64
        }
    
        trigger = {
            
        }
        
        effect = {
            64 = {
				remove_province_modifier = rubyhold_mines_2
				add_permanent_province_modifier = {
					name = rubyhold_mines_3
					duration = -1
				}
			}
        }
    }
	rubyhold_modernize_redgate = {
        icon = mission_assemble_an_army
        required_missions = {
            rubyhold_found_redgate_cities
        }
		position = 7
        
        provinces_to_highlight = {
            province_id = 64
        }
    
        trigger = {
            
        }
        
        effect = {
            64 = {
				remove_province_modifier = rubyhold_mines_3
				add_permanent_province_modifier = {
					name = rubyhold_mines_4
					duration = -1
				}
			}
        }
    }
}

rubyhold_lorent_missions = {
	slot = 4 
	generic = no
	ai = yes 
	potential = { tag = A20 }
	has_country_shield = yes
	
    rubyhold_defend_riches = {
        icon = mission_assemble_an_army 
        required_missions = {
            
        }
		position = 1        

        provinces_to_highlight = {
            
        }
    
        trigger = {
            
        }
        
        effect = {
            
        }
    }
	rubyhold_lorent_protection = {
        icon = mission_assemble_an_army 
        required_missions = {
            rubyhold_defend_riches
        }
		position = 2        

        provinces_to_highlight = {
            
        }
    
        trigger = {
            
        }
        
        effect = {
            
        }
    }
	rubyhold_lorent_protection_2 = {
        icon = mission_assemble_an_army 
        required_missions = {
            rubyhold_lorent_protection
        }
		position = 3        

        provinces_to_highlight = {
            
        }
    
        trigger = {
            
        }
        
        effect = {
            
        }
    }
}

rubyhold_empire_missions = {
	slot = 5 
	generic = no
	ai = yes 
	potential = { tag = A20 } #These are triggers for the entire series
	has_country_shield = yes
	
	rubyhold_emperor_protection = {
        icon = mission_assemble_an_army
        position = 2         
        
        
        required_missions = {
            rubyhold_defend_riches
        }
    
        trigger = {
			
        }
        
        effect = {
			
        }
    }
	rubyhold_join_emperor = {
        icon = mission_assemble_an_army
        position = 3         
        
        
        required_missions = {
            rubyhold_emperor_protection
        }
    
        trigger = {
            
        }
        
        effect = {
            A20 = {set_in_empire = yes}
        }
    }
}