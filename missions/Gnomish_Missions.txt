
liberation_of_the_dragon_coast = {
	
	type = country

	category = MIL
	ai_mission = yes
	
	target_areas_list = {
		gnomish_pass_area
		dragonpoint_area
		dragondowns_area
		dragonspine_area
		dragonheights_area
		nimscodd_area
	}
	
	target_provinces = {
		OR = {
			owned_by = A26	#Kobolds
			owned_by = A27
			owned_by = A28
			owner = {
				is_subject_of = A26
			}
			owner = {
				is_subject_of = A27
			}
			owner = {
				is_subject_of = A28
			}
		}
	}
	
	allow = {
		normal_or_historical_nations = yes
		OR = {	#Mission is only for gnomish countries
			tag = A06 #Nimscodd
			tag = A19 #Portnamm
			culture_group = gnomic
		}
		is_free_or_tributary_trigger = yes
		OR = {
			is_neighbor_of = A26
			is_neighbor_of = A27
			is_neighbor_of = A28
		}
		OR = {
			A26 = {
				is_neighbor_of = ROOT
				NOT = { alliance_with = ROOT }
				NOT = { is_subject_of = ROOT }
				NOT = { overlord_of = ROOT }
				is_free_or_tributary_trigger = yes
				any_owned_province = {
					OR = {
						region = dragon_coast_region
					}
				}
			}
			A27 = {
				is_neighbor_of = ROOT
				NOT = { alliance_with = ROOT }
				NOT = { is_subject_of = ROOT }
				NOT = { overlord_of = ROOT }
				is_free_or_tributary_trigger = yes
				any_owned_province = {
					OR = {
						region = dragon_coast_region
					}
				}
			}
			A28 = {
				is_neighbor_of = ROOT
				NOT = { alliance_with = ROOT }
				NOT = { is_subject_of = ROOT }
				NOT = { overlord_of = ROOT }
				is_free_or_tributary_trigger = yes
				any_owned_province = {
					OR = {
						region = dragon_coast_region
					}
				}
			}
		}
		NOT = { has_country_modifier = dragon_coast_liberator }
		NOT = { has_country_flag = liberated_dragon_coast }
		NOT = { last_mission = liberation_of_the_dragon_coast }
	}
	abort = {
		is_subject_other_than_tributary_trigger = yes
	}
	success = {
		all_target_province = {
			country_or_non_sovereign_subject_holds = ROOT
		}
	}
	chance = {
		factor = 2000
		modifier = {
			factor = 4
			any_owned_province = {
				region = dragon_coast_region
			}
		}
		modifier = {
			factor = 2
			dragon_coast_region = {	#x2 chance if Kobolds own any province in Dragon Coast
				OR = {
					owned_by = A26
					owned_by = A27
					owned_by = A28
				}
			}
		}
		modifier = {
			factor = 2
			dragon_coast_region = {	#x2 chance if owner (aka gnomish country) owns some of the region already
				type = all
				owned_by = ROOT
			}
		}
	}
	immediate = {
		every_target_province = {
			add_claim = ROOT
		}
	}
	abort_effect = {
		every_target_province = {
			if = {
				limit = {
					NOT = {
						is_permanent_claim = ROOT
					}
				}
				remove_claim = ROOT
			}
		}
	}
	effect = {
		set_country_flag = liberated_dragon_coast
		add_country_modifier = {
			name = "liberated_dragon_coast"
			duration = 5475
		}
	}
}