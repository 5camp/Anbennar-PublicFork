#Spiderwretch mission tree, designed and coded by Niller


#Left column
spiderwretch_column_1 = {
	slot = 1
	generic = no
	ai = yes
	potential = {
		tag = H90
	}
	has_country_shield = yes

	spiderwretch_federation_of_talls = {
		icon = geneva_conventions
		position = 3
		required_missions = {
			spiderwretch_claim_the_lightlands
		}
		provinces_to_highlight = {
			province_id = 4073
		}

		trigger = {
			treasury = 100

		}
		
		effect = {
			add_adm_power = 100
		}
	}
	
	spiderwretch_civilized_power = {
		icon = geneva_conventions
		position = 5
		required_missions = {
			spiderwretch_federation_of_talls
			spiderwretch_blood_revealed_opportunity
		}
		provinces_to_highlight = {
			province_id = 4073			
		}
		trigger = {
			treasury = 100
		}
		effect = {
			add_adm_power = 100
		}

	}

	spiderwretch_teaching_our_ways = {
		icon = geneva_conventions
		position = 7
		required_missions = {
			spiderwretch_civilized_power
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}
	
	spiderwretch_united_federation = {
		icon = geneva_conventions
		position = 7
		required_missions = {
			spiderwretch_teaching_our_ways 
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}
}


#CenterLeft column
spiderwretch_column_2 = {
	slot = 2
	generic = no
	ai = yes
	potential = {
		tag = H90
	}
	has_country_shield = yes

	spiderwretch_claim_the_lightlands = {
		icon = geneva_conventions
		position = 2
		required_missions = {
			spiderwretch_the_lands_of_light
		}
		provinces_to_highlight = {
			province_id = 4073
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}

	spiderwretch_valley_of_ogres = {
		icon = geneva_conventions
		position = 3
		required_missions = {
			spiderwretch_claim_the_lightlands
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}

	spiderwretch_large_man_power = {
		icon = geneva_conventions
		position = 4
		required_missions = {
			spiderwretch_valley_of_ogres
			spiderwretch_a_taste_for_blood
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}

	spiderwretch_smalls_among_bigs = {
		icon = geneva_conventions
		position = 5
		required_missions = {
			spiderwretch_large_man_power
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}

	spiderwretch_geniuses_in_brutality = {
		icon = geneva_conventions
		position = 6
		required_missions = {
			spiderwretch_smalls_among_bigs
			spiderwretch_masters_of_silk_and_venom
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}

	spiderwretch_silken_cities = {
		icon = geneva_conventions
		position = 8
		required_missions = {
			spiderwretch_teaching_our_ways
			spiderwretch_a_life_in_suspension
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}

	spiderwretch_human_innovation = {
		icon = geneva_conventions
		position = 9
		required_missions = {
			spiderwretch_silken_cities
			spiderwretch_united_federation
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}
}



#Center column
spiderwretch_column_3 = {
	slot = 3
	generic = no
	ai = yes
	potential = {
		tag = H90
	}
	has_country_shield = yes

	spiderwretch_the_lands_of_light = {
		icon = geneva_conventions
		position = 1
		required_missions = {
			
		}
		provinces_to_highlight = {
			province_id = 4073
		}

		trigger = {
			capital = 4073
			has_estate_privilege = estate_monstrous_tribes_land_rights
		}

		effect = {
			4070 = {
				limit = {
					NOT = { has_province_modifier = expedition_target }
				}
				add_province_modifier = {
					name = expedition_target
					duration = -1
				}
			}
			
			4073 = {
				limit = {
					NOT = { has_province_modifier = expedition_target }
				}
				add_province_modifier = {
					name = expedition_target
					duration = -1
				}
			}
			country_event = {
				id = flavour_spiderwretch_scouting_parties
			}
		}

	}

	spiderwretch_unify_the_crawlers = {
		icon = geneva_conventions
		position = 2
		required_missions = {
			spiderwretch_the_lands_of_light
		}
		
		trigger = {
			army_size_percentage = 1
			stability = 1
			estate_loyalty = {
				estate = estate_monstrous_tribes
				loyalty = 65
			}
			dip_power = 300
			native_policy = native_policy_trade
		}

		effect = {
			add_country_modifier = {
				name = spiderwretch_crawler_goblin_unification
				duration = 12775
			}
			add_dip_power = -300
		}

	}

	spiderwretch_a_taste_for_blood = {
		icon = geneva_conventions
		position = 3
		required_missions = {
			spiderwretch_unify_the_crawlers
			spiderwretch_claim_the_lightlands
		}

		trigger = {
			num_of_cavalry = 8
			
		}

		effect = {
			west_forbidden_plains_region = {
				add_permanent_claim = ROOT
			}
			add_country_modifier = {
				name = spiderwretch_centaur_emulation1
				duration = -1
			}
		}
	}

	spiderwretch_blood_revealed_opportunity = {
		icon = geneva_conventions
		position = 4
		required_missions = {
			spiderwretch_a_taste_for_blood
		}
		provinces_to_highlight = {
			OR = {
				area = caubheameas_area
				area = salrun_goilust_area
				area = alrodgaersp_area
			}
			NOT = {
				owned_by = ROOT
			}
		}

		trigger = {
			caubheameas_area = {
				owned_by = ROOT
				type = all
			}
			salrun_goilust_area = {
				owned_by = ROOT
				type = all
			}
			alrodgaersp_area = {
				owned_by = ROOT
				type = all
			}
			army_size_percentage = 1
		}

		effect = {
			domn_filaenan_area = {
				add_permanent_claim = root
			}
			adoi_filaenan_area = {
				add_permanent_claim = root
			}
			orchekh_area = {
				add_permanent_claim = root
			}
			serpent_gift_region = {
				add_permanent_claim = root
			}
		}
	}

	spiderwretch_masters_of_silk_and_venom = {
		icon = geneva_conventions
		position = 5
		required_missions = {
			spiderwretch_blood_revealed_opportunity
			spiderwretch_centralized_breeding
		}

		trigger = {
			num_of_cavalry = 16
			OR = {
				production_leader = { trade_goods = silk }
				all_owned_province = {
					if = {
						limit = { trade_goods = silk }
						AND = {
							base_production = 5
							has_building = workshop
						}
					}
				}
			}
		}

		effect = {
			4073 = {
				if = {
					limit = {
						NOT = {	
							trade_goods = gold
							trade_goods = mithril
						}
					}
					change_trade_goods = silk
					add_building = textile
				}
				else_if = {
					limit = { trade_goods = gold }
					add_province_modifier = {
						name = gold_hold
						duration = -1
					}
				}
				else_if = {
					limit = { trade_goods = mithril }
					add_building = weapons
				}
			}
		}
	}

	spiderwretch_unhindered_growth = {
		icon = geneva_conventions
		position = 6
		required_missions = {
			spiderwretch_masters_of_silk_and_venom
		}
		provinces_to_highlight = {
			province_id = 5052	
		}

		trigger = {
			manpower = 15
			5052 = {
				OR = {
					fort_level = 2
					fort_level = 4
				}
			}
		}

		effect = {
			5052 = {
				add_permanent_province_modifier = {
					name = spiderwretch_breeding_facility2
					duration = -1
				}
				change_trade_goods = silk
			}
			4071 = {
				remove_province_modifier = spiderwretch_breeding_facility1
			}
			add_manpower = -15
		}

	}

	spiderwretch_a_life_in_suspension = {
		icon = geneva_conventions
		position = 7
		required_missions = {
			spiderwretch_unhindered_growth
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			any_owned_province = {
				trade_goods = salt
				has_building = wharf
			}
			any_owned_province = {
				trade_goods = fungi
				has_building = farm_estate
			}
			4073 = {
				num_of_times_expanded_infrastructure = 2
			}
		}

		effect = {
			country_event = {
				id = flavour_spiderwretch_hardening_silk
			}
		}

	}

	spiderwretch_silken_infrastructure = {
		icon = geneva_conventions
		position = 8
		required_missions = {
			spiderwretch_a_life_in_suspension
			spiderwretch_caravan_spiders
		}
		provinces_to_highlight = {
			province_id = 5052	
		}

		trigger = {
			5052 = {
				base_production = 20
				has_building = workshop
				has_building = textile
				num_of_times_expanded_infrastructure = 2
			}
		}

		effect = {
			country_event = {
				id = flavour_spiderwretch_silky_road
			}
		}

	}

	spiderwretch_the_silk_road = {
		icon = geneva_conventions
		position = 9
		required_missions = {
			spiderwretch_silken_cities
			spiderwretch_silken_infrastructure
			spiderwretch_order_of_the_spider
		}
		provinces_to_highlight = {
			OR = {
				province_id = 5104
				province_id = 5103
				province_id = 5102
				province_id = 5099
				province_id = 5096
				province_id = 5094
				province_id = 5093
				province_id = 5092
				province_id = 5073
				province_id = 5074
				province_id = 5071
				province_id = 5128
				province_id = 5129
				province_id = 5130
				province_id = 5134
				province_id = 5137
				province_id = 5138
				province_id = 3267
				province_id = 5053
				province_id = 5052
			}
			NOT = { owned_by = ROOT }
				
		}

		trigger = {
			AND = {
				treasury = 4000
				5104 = {
					owned_by = root
				}
				5103 = {
					owned_by = root
				}
				5102 = {
					owned_by = root
				}
				5099 = {
					owned_by = root
				}
				5096 = {
					owned_by = root
				}
				5094 = {
					owned_by = root
				}
				5093 = {
					owned_by = root
				}
				5092 = {
					owned_by = root
				}
				5073 = {
					owned_by = root
				}
				5074 = {
					owned_by = root
				}
				5071 = {
					owned_by = root
				}
				5128 = {
					owned_by = root
				}
				5129 = {
					owned_by = root
				}
				5130 = {
					owned_by = root
				}
				5134 = {
					owned_by = root
				}
				5137 = {
					owned_by = root
				}
				5138 = {
					owned_by = root
				}
				3267 = {
					owned_by = root
				}
				5053 = {
					owned_by = root
				}
				5052 = {
					owned_by = root
				}
				OR = {
					has_country_modifier = silkstone_pavement
					has_country_modifier = liquid_silk_pavement
					has_country_modifier = alkaline_silk_pavement
				}
			}
		}

		effect = {
			add_treasury = -4000
		}
	}

	spiderwretch_unsightly_facility = {
		icon = geneva_conventions
		position = 10
		required_missions = {
			spiderwretch_the_silk_road
		}
		provinces_to_highlight = {
			province_id = 5054	
		}

		trigger = {
			has_country_modifier = caravan_lake_federation
			manpower = 30
			cavalry_power = 50
			5052 = {
				province_has_center_of_trade_of_level = 3
			}
			treasury = 1500
		}

		effect = {
			5052 = {
				remove_province_modifier = spiderwretch_breeding_facility2
			}
			5054 = {
				add_permanent_province_modifier = {
					name = spiderwretch_breeding_facility3
					duration = -1
				}
				change_trade_goods = silk
			}
			add_manpower = -30
			add_treasury = -1500
		}
	}
}




#CenterRight column
spiderwretch_column_4 = {
	slot = 4
	generic = no
	ai = yes
	potential = {
		tag = H90
	}
	has_country_shield = yes

	spiderwretch_potential_in_every_crevice = {
		icon = geneva_conventions
		position = 2
		required_missions = {
			spiderwretch_the_lands_of_light
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}

	spiderwretch_the_silk_hold = {
		icon = geneva_conventions
		position = 3
		required_missions = {
			spiderwretch_unify_the_crawlers
			spiderwretch_potential_in_every_crevice
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}

	spiderwretch_centralized_breeding = {
		icon = geneva_conventions
		position = 4
		required_missions = {
			spiderwretch_the_silk_hold
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}

	spiderwretch_caravan_spiders = {
		icon = geneva_conventions
		position = 7
		required_missions = {
			spiderwretch_unhindered_growth
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}

	spiderwretch_cross_roads = {
		icon = geneva_conventions
		position = 10
		required_missions = {
			spiderwretch_the_silk_road
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}

	spiderwretch_securing_the_lighthlands = {
		icon = geneva_conventions
		position = 11
		required_missions = {
			spiderwretch_unsightly_facility
			spiderwretch_cross_roads
			spiderwretch_kroozpauz_realm
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}

}



#Right column
spiderwretch_column_5 = {
	slot = 5
	generic = no
	ai = yes
	potential = {
		tag = H90
	}
	has_country_shield = yes

	spiderwretch_brewing_venom = {
		icon = geneva_conventions
		position = 1
		required_missions = {
		
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}

	spiderwretch_rumours_of_a_mother = {
		icon = geneva_conventions
		position = 2
		required_missions = {
			spiderwretch_the_lands_of_light
			spiderwretch_brewing_venom
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}

	spiderwretch_organizing_religious_structure = {
		icon = geneva_conventions
		position = 3
		required_missions = {
			spiderwretch_rumours_of_a_mother
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}

	spiderwretch_spider_theocracy = {
		icon = geneva_conventions
		position = 5
		required_missions = {
			spiderwretch_organizing_religious_structure
		}
		provinces_to_highlight = {
			province_id = 4073	
		}

		trigger = {
			treasury = 100
		}

		effect = {
			add_adm_power = 100
		}

	}

	spiderwretch_expanding_our_religion = {
		icon = geneva_conventions
		position = 6
		required_missions = {
			spiderwretch_masters_of_silk_and_venom
			spiderwretch_spider_theocracy
		}
		provinces_to_highlight = {
			province_id = 5132
			NOT = { owned_by = root }
		}

		trigger = {
			NOT = {
				has_estate = estate_monstrous_tribes
			}
			government = theocracy
			num_of_owned_provinces_with = {
				has_building = temple
				value = 10
			}
			adm_power = 100
		}

		effect = {
			add_stability_or_adm_power = 1
			add_estate_loyalty = {
				estate = estate_clergy
				loyalty = 10
			}
			reform_progress_growth = 10
			add_country_modifier = {
				name = spiderwretch_centaur_emulation2
				duration = -1
			}
			remove_country_modifier = {
				name = spiderwretch_centaur_emulation1
			}
			add_adm_power = -100
		}

	}

	spiderwretch_order_of_the_spider = {
		icon = geneva_conventions
		position = 8
		required_missions = {
			spiderwretch_caravan_spiders
			spiderwretch_expanding_our_religion
		}
		provinces_to_highlight = {
			OR = {
				province_id = 5092
				province_id = 5093
				province_id = 5094
				province_id = 5096
				province_id = 5099
				province_id = 5103
				province_id = 5104
			}	
			NOT = { owned_by = ROOT }
		}

		trigger = {
			5092 = {
				owned_by = root
			}
			5093 = {
				owned_by = root
			}
			5094 = {
				owned_by = root
			}
			5096 = {
				owned_by = root
			}
			5099 = {
				owned_by = root
			}
			5103 = {
				owned_by = root
			}
			5104 = {
				owned_by = root
			}
			num_of_owned_provinces_with = {
				religion = goblinic_shamanism
				value = 10
			}
			has_cults = yes
		}

		effect = {
			add_adm_power = 100
		}

	}

	spiderwretch_kroozpauz_realm = {
		icon = geneva_conventions
		position = 10
		required_missions = {
			spiderwretch_the_silk_road
			spiderwretch_order_of_the_spider
		}

		trigger = {
			AND = {
				production_leader = silk
				trading_bonus {
					trade_goods = silk
					value = yes
				}
				trade_goods_produced_amount = {
					trade_goods = silk
					amount = 25
				}
			}
		}

		effect = {
			add_country_modifier = {
				name = spiderwretch_legacy
				duration = -1
			}

		}

	}

}
