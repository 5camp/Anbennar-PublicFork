################
#~/----------\~#
#~|Written By|~#
#~|River Doge|~#
#~\----------/~#
################

country_decisions = {
	
	
	#Effelai Blooming Provinces Attuned Decision
	effelai_bloom_attuned_decision = {
		major = yes
		
		potential = {
			has_country_modifier = effelai_attuned_country
		}
		
		allow = {
			adm_power = 15
			dip_power = 15
			any_owned_province = {
				OR = {
					has_province_modifier = effelai_blooming
					has_province_modifier = effelai_blooming_neural_hub
				}
			}
		}
		
		effect = {
			every_owned_province = {
				if = {
					limit = {
						has_province_modifier = effelai_blooming
						ROOT = {
							adm_power = 15
							dip_power = 15
						}
					}
					remove_province_modifier = effelai_blooming
					add_permanent_province_modifier = {
						name = effelai_attuned
						duration = -1
					}
					random_list = {
						50 = {
							add_base_tax = 1
						}
						50 = {
							add_base_production = 1
						}
					}
					ROOT = {
						add_adm_power = -15
						add_dip_power = -15
					}
				}
				else_if = {
					limit = {
						has_province_modifier = effelai_blooming_neural_hub
						ROOT = {
							adm_power = 15
							dip_power = 15
						}
					}
					remove_province_modifier = effelai_blooming_neural_hub
					add_permanent_province_modifier = {
						name = effelai_attuned_neural_hub
						duration = -1
					}
					add_base_tax = 1
					add_base_production = 3
					add_base_manpower = 1
					ROOT = {
						add_adm_power = -15
						add_dip_power = -15
					}
				}
			}
		}
	}
	
	#Effelai Blooming Provinces Burnt Decisions
	effelai_bloom_burnt_decision = {
		major = yes
		
		potential = {
			has_country_flag = effelai_burnt_path_flag
		}
		
		allow = {
			treasury = 50
			mil_power = 25
			any_owned_province = {
				OR = {
					has_province_modifier = effelai_blooming
					has_province_modifier = effelai_blooming_neural_hub
				}
				num_of_units_in_province = {
					who = ROOT
					type = infantry
					amount = 5
				}
				num_of_units_in_province = {
					who = ROOT
					type = artillery
					amount = 1
				}
			}
		}
		
		effect = {
			every_owned_province = {
				if = {
					limit = {
						has_province_modifier = effelai_blooming
						ROOT = {
							treasury = 50
							mil_power = 25
						}
						num_of_units_in_province = {
								who = ROOT
								type = infantry
								amount = 5
						}
						num_of_units_in_province = {
							who = ROOT
							type = artillery
							amount = 1
						}
					}
					remove_province_modifier = effelai_blooming
					add_permanent_province_modifier = {
						name = effelai_burned
						duration = -1
					}
					add_devastation = 25
					ROOT = {
						add_treasury = -50
						add_mil_power = -25
					}
				}
				else_if = {
					limit = {
						has_province_modifier = effelai_blooming_neural_hub
						ROOT = {
							treasury = 50
							mil_power = 25
						}
						num_of_units_in_province = {
								who = ROOT
								type = infantry
								amount = 5
							}
						num_of_units_in_province = {
							who = ROOT
							type = artillery
							amount = 1
						}
					}
					remove_province_modifier = effelai_blooming_neural_hub
					add_permanent_province_modifier = {
						name = effelai_burned_neural_hub
						duration = -1
					}
					add_devastation = 50
					ROOT = {
						add_treasury = -50
						add_mil_power = -25
					}
				}
			}
			if = {
				limit = {
					NOT = {
						effelai_superregion = {
							OR = {
								has_province_modifier = effelai_blooming
								has_province_modifier = effelai_attuned
								has_province_modifier = effelai_blooming_neural_hub
								has_province_modifier = effelai_attuned_neural_hub
							}
						}
					}
				}
				country_event = {
					id = effelai_bloom.201
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
	
	#Effelai Burnt Network Repaired and Attuned
	effelai_burnt_network_restored_decision = {
		major = yes
		
		potential = {
			has_country_modifier = effelai_attuned_country
		}
		
		allow = {
			adm_power = 15
			dip_power = 15
			mil_power = 15
			treasury = 50
			any_owned_province = {
				OR = {
					has_province_modifier = effelai_burned
					has_province_modifier = effelai_burned_neural_hub
				}
			}
		}
		
		effect = {
			every_owned_province = {
				if = {
					limit = {
						has_province_modifier = effelai_burned
						ROOT = {
							adm_power = 15
							dip_power = 15
							mil_power = 15
							treasury = 50
						}
					}
					remove_province_modifier = effelai_burned
					add_permanent_province_modifier = {
						name = effelai_attuned
						duration = -1
					}
					random_list = {
						33 = {
							add_base_tax = 1
						}
						33 = {
							add_base_production = 1
						}
						33 = {
							add_base_manpower = 1
						}
					}
					add_adm_power = -15
					add_dip_power = -15
					add_mil_power = -15
					add_treasury = -50
				}
				else_if = {
					limit = {
						has_province_modifier = effelai_burned_neural_hub
						ROOT = {
							adm_power = 15
							dip_power = 15
							mil_power = 15
							treasury = 50
						}
					}
					remove_province_modifier = effelai_burned_neural_hub
					add_permanent_province_modifier = {
						name = effelai_attuned_neural_hub
						duration = -1
					}
					add_base_tax = 1
					add_base_production = 3
					add_base_manpower = 2
					add_adm_power = -15
					add_dip_power = -15
					add_mil_power = -15
					add_treasury = -50
				}
			}
		}
	}
	
	effelai_interaction_decision = {
		major = yes
		
		potential = {
			has_country_modifier = effelai_attuned_country
		}
		
		allow = {
			
		}
		
		effect = {
			hidden_effect = {
				set_variable = {
					which = effelai_blooming_hubs_total
					value = 0
				}
				set_variable = {
					which = effelai_burned_hubs_total
					value = 0
				}
				set_variable = {
					which = effelai_attuned_hubs_total
					value = 0
				}
				every_owned_province = {
					if = {
						limit = {
							has_province_modifier = effelai_blooming_neural_hub
						}
						ROOT = {
							change_variable = {
								which = effelai_blooming_hubs_total
								value = 1
							}
						}
					}
					else_if = {
						limit = {
							has_province_modifier = effelai_burned_neural_hub
						}
						ROOT = {
							change_variable = {
								which = effelai_burned_hubs_total
								value = 1
							}
						}
					}
					else_if = {
						limit = {
							has_province_modifier = effelai_attuned_neural_hub
						}
						ROOT = {
							change_variable = {
								which = effelai_attuned_hubs_total
								value = 1
							}
						}
					}
				}
				set_variable = {
					which = effelai_hubs_total
					which = effelai_blooming_hubs_total
				}
				change_variable = {
					which = effelai_hubs_total
					which = effelai_burned_hubs_total
				}
				change_variable = {
					which = effelai_hubs_total
					which = effelai_attuned_hubs_total
				}
			}
			country_event = {
				id = effelai_bloom.150
			}
		}
	}
}