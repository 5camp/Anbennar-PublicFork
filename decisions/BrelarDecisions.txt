
country_decisions = {

	request_bodyguard_decision = {
		potential = {
			has_estate_privilege = estate_nobles_noble_acolytes
		}
		allow = {
			NOT = {
				has_estate_influence_modifier = {
					estate = estate_nobles
					modifier = G27_requested_bodyguard_desc
				}
			}
			years_of_income = 0.3
		}
		effect = {
			add_years_of_income = -0.3
			add_scaled_republican_tradition = -5
			add_estate_loyalty = {
				estate = estate_nobles
				loyalty = 10
			}
			add_estate_influence_modifier = {
				influence = 5
				estate = estate_nobles
				desc = G27_requested_bodyguard_desc
				duration = 3650
			}
			every_subject_country = {
				limit = {
					has_spy_network_from = {
						who = ROOT
						value = 50
					}
				}
				add_liberty_desire = -5
				add_spy_network_from = {
					who = ROOT
					value = -50
				}
			}
			if = {
				limit = {
					monthly_income = 50
				}
				define_advisor = {
					type = spymaster
					skill = 3
					cost_multiplier = 0.25
				}
			}
			else_if = {
				limit = {
					monthly_income = 25
				}
				define_advisor = {
					type = spymaster
					skill = 2
					cost_multiplier = 0.25
				}
			}
			else = {
				define_advisor = {
					type = spymaster
					skill = 1
					cost_multiplier = 0.25
				}
			}
		}
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 100
				any_subject_country = {
					has_spy_network_from = {
						who = ROOT
						value = 50
					}
				}
			}
		}
	}

	request_architect_decision = {
		potential = {
			has_estate_privilege = estate_burghers_architect_sponsoring
		}
		allow = {
			NOT = {
				has_estate_influence_modifier = {
					estate = estate_nobles
					modifier = G27_requested_architect_desc
				}
			}
			years_of_income = 0.5
		}
		effect = {
			add_years_of_income = -0.5
			add_estate_loyalty = {
				estate = estate_nobles
				loyalty = 10
			}
			add_estate_influence_modifier = {
				influence = 5
				estate = estate_burghers
				desc = G27_requested_architect_desc
				duration = 7300
			}
			if = {
				limit = {
					monthly_income = 50
				}
				define_advisor = {
					type = natural_scientist
					skill = 3
					cost_multiplier = 0.25
				}
			}
			else_if = {
				limit = {
					monthly_income = 25
				}
				define_advisor = {
					type = natural_scientist
					skill = 2
					cost_multiplier = 0.25
				}
			}
			else = {
				define_advisor = {
					type = natural_scientist
					skill = 1
					cost_multiplier = 0.25
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	construct_clockwork_watermill_decision = {
		potential = {
			has_country_flag = g27_unlocked_watermills
			has_estate_privilege = estate_artificers_clockwork_architects
		}
		major = yes
		provinces_to_highlight = {
			province_group = watermill_provinces
			NOT = {
				has_province_modifier = g27_clockwork_watermill
			}
		}
		allow = {
			artifice_has_points_for_basic = yes
			watermill_provinces = {
				NOT = {
					has_province_modifier = g27_clockwork_watermill
				}
				development = 25
				base_production = 12
				OR = {
					has_building = workshop
					has_building = counting_house
				}
			}
			OR = {
				adm_power = 100
				natural_scientist = 1
			}
			treasury = 500
		}
		effect = {
			add_treasury = -500
			if = {
				limit = {
					NOT = {
						natural_scientist = 1
					}
				}
				add_adm_power = -100
			}
			else = {
				hidden_effect = {
					set_country_flag = g27_advisor_adm_scam_flag
				}
			}
			country_event = {
				id = flavour_brelar.102
			}
		}
		ai_will_do = {
			factor = 100
		}
	}

	construct_riverway_decision = {
		potential = {
			has_country_flag = g27_unlocked_riverways
			has_estate_privilege = estate_artificers_clockwork_architects
		}
		major = yes
		allow = {
			artifice_has_points_for_advanced = yes
			OR = {
				custom_trigger_tooltip = {
					tooltip = g27_riverway_only_one_tt
					NOT = {
						has_country_flag = g27_brelynn_available
						has_country_flag = g27_dalaire_available
						has_country_flag = g27_north_ynn_available
						has_country_flag = g27_rzenta_available
						has_country_flag = g27_building_rzenta
						has_country_flag = g27_building_north_ynn
						has_country_flag = g27_building_brelynn
						has_country_flag = g27_building_dalaire
					}
				}
				AND = {
					hidden_trigger = {
						NOT = {
							has_country_flag = g27_brelynn_riverway
						}
					}
					brelynn_riverway = {
						type = all
						country_or_non_sovereign_subject_holds = ROOT
					}
					2488 = {
						has_province_modifier = g27_clockwork_watermill
					}
				}
				AND = {
					hidden_trigger = {
						NOT = {
							has_country_flag = g27_rzenta_riverway
						}
					}
					rzenta_riverway = {
						type = all
						country_or_non_sovereign_subject_holds = ROOT
					}
					1191 = {
						has_province_modifier = g27_clockwork_watermill
					}
				}
				AND = {
					hidden_trigger = {
						NOT = {
							has_country_flag = g27_dalaire_riverway
						}
					}
					dalaire_riverway = {
						type = all
						country_or_non_sovereign_subject_holds = ROOT
					}
					1183 = {
						has_province_modifier = g27_clockwork_watermill
					}
					1211 = {
						has_province_modifier = g27_clockwork_watermill
					}
					1165 = {
						has_province_modifier = g27_clockwork_watermill
					}
				}
				AND = {
					hidden_trigger = {
						NOT = {
							has_country_flag = g27_north_ynnic_riverway
						}
					}
					north_ynn_riverway = {
						type = all
						country_or_non_sovereign_subject_holds = ROOT
					}
					1165 = {
						has_province_modifier = g27_clockwork_watermill
					}
					1191 = {
						has_province_modifier = g27_clockwork_watermill
					}
					1186 = {
						has_province_modifier = g27_clockwork_watermill
					}
					1183 = {
						has_province_modifier = g27_clockwork_watermill
					}
				}
			}
			OR = {
				natural_scientist = 1
				adm_power = 100
			}
			treasury = 1000
		}
		effect = {
			add_treasury = -1000
			if = {
				limit = {
					NOT = {
						natural_scientist = 1
					}
				}
				add_adm_power = -100
			}
			else = {
				hidden_effect = {
					set_country_flag = g27_advisor_adm_scam_flag
				}
			}

			artifice_granted_advanced = yes

			hidden_effect = {
				if = {
					limit = {
						NOT = {
							has_country_flag = g27_brelynn_riverway
						}
						2488 = {
							has_province_modifier = g27_clockwork_watermill
						}
					}
					set_country_flag = g27_brelynn_available
				}
				else_if = {
					limit = {
						NOT = {
							has_country_flag = g27_rzenta_riverway
						}
						1191 = {
							has_province_modifier = g27_clockwork_watermill
						}
					}
					set_country_flag = g27_rzenta_available
				}
				if = {
					limit = {
						NOT = {
							has_country_flag = g27_dalaire_riverway
						}
						2488 = {
							has_province_modifier = g27_clockwork_watermill
						}
					}
					set_country_flag = g27_dalaire_available
				}
				if = {
					limit = {
						NOT = {
							has_country_flag = g27_north_ynnic_riverway
						}
						2488 = {
							has_province_modifier = g27_clockwork_watermill
						}
					}
					set_country_flag = g27_north_ynn_available
				}
			}

			country_event = {
				id = flavour_brelar.108
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
}